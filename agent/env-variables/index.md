- [English](https://docs.codescoring.ru/agent/env-variables.en/index.md)

# Настройка через переменные окружения

Параметры запуска консольного агента можно настроить через переменные окружения. Для настройки через переменные окружения используется структура [конфигурационного файла](/agent/config).

## Формирование переменных окружения

1. **Префикс переменной**: Все переменные окружения начинаются с префикса `JOHNNY_`.
1. **Путь секций**: Переменная формируется на основе пути секций в конфигурационном файле. Разделители секций заменяются символом `_`.
1. **Замена символов**: Символы `"."` и `"-"` в именах секций также преобразуются в символ `_`.

### Пример

Рассмотрим пример настройки флага `block-on-empty-result` для блокирования сборки при получении пустого результата:

- **Путь в конфигурационном файле**: `scan.general.block-on-empty-result`;
- **Переменная окружения**: `JOHNNY_SCAN_GENERAL_BLOCK_ON_EMPTY_RESULT`;

Таким образом, для изменения значения этого параметра через переменные окружения, необходимо задать переменную `JOHNNY_SCAN_GENERAL_BLOCK_ON_EMPTY_RESULT` с нужным значением.

### Приоритет настроек

Поскольку параметры запуска агента можно настроить несколькими способами, при одновременном использовании двух и более способов агент будет принимать параметры в следующем порядке приоритетов:

1. Значение команды [scan-technology](/agent/scan-technology) (если она используется);
1. Значение флага команды;
1. Значение [переменной окружения](/agent/env-variables);
1. Значение из [конфиг-файла](/agent/config).
