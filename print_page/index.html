
<!doctype html>
<html lang="ru" class="no-js">
  <head>
    
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Открытая документация CodeScoring: установка, руководство пользователя, changelog.">
      
      
      
        <link rel="canonical" href="https://docs.codescoring.ru/print_page/">
      
      
      
      
        
          <link rel="alternate" href="../tqi/viewing-results/" hreflang="ru">
        
          <link rel="alternate" href="../tqi/viewing-results.en/" hreflang="en">
        
      
      
      <link rel="icon" href="../assets/favicon/favicon-32x32.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.3">
    
    <meta name="yandex-verification" content="87065ff836ee1f0a" />

    
      
        <title>Print Site - CodeScoring Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../stylesheets/home.css">
    
      <link rel="stylesheet" href="../css/logo.css">
    
      <link rel="stylesheet" href="../css/hide_lang_links.css">
    
      <link rel="stylesheet" href="../css/print.css">
    
    <script>__md_scope=new URL("/",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
    
      

    

    <!-- Yandex.Metrika counter -->
    <script type="text/javascript" >
       (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
       m[i].l=1*new Date();
       for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
       k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
       (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

       ym(97226980, "init", {
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true,
            webvisor:true
       });
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/97226980" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->

    
  
        <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            remove_material_navigation();remove_mkdocs_theme_navigation();generate_toc();
        })
        </script>
        </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#section-1" class="md-skip">
          Перейти к содержанию
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Верхний колонтитул">
    <a href=".." title="CodeScoring Documentation" class="md-header__button md-logo" aria-label="CodeScoring Documentation" data-md-component="logo">
      
  <img src="../assets/codescoring_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CodeScoring Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Print Site
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Выберите язык">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../tqi/viewing-results/" hreflang="ru" class="md-select__link">
              Русский
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../tqi/viewing-results.en/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Поиск" placeholder="Поиск" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Поиск">
        
        <button type="reset" class="md-search__icon md-icon" title="Очистить" aria-label="Очистить" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Инициализация поиска
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Вкладки" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href=".." class="md-tabs__link">
          
  
  
    
  
  Главная

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../functionality/" class="md-tabs__link">
          
  
  
    
  
  Функциональность

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../admin-guide/" class="md-tabs__link">
          
  
  
    
  
  Руководство администратора

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../user-guide/" class="md-tabs__link">
          
  
  
    
  
  Руководство пользователя

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../changelog/on-premise-changelog/" class="md-tabs__link">
          
  
  
    
  
  Changelog

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Навигация" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="CodeScoring Documentation" class="md-nav__button md-logo" aria-label="CodeScoring Documentation" data-md-component="logo">
      
  <img src="../assets/codescoring_logo.png" alt="logo">

    </a>
    CodeScoring Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href=".." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Главная
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Главная
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Функциональность
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Функциональность
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functionality/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Функциональные характеристики
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration-stages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Этапы интеграции
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../supported-package-managers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Поддерживаемые экосистемы и способы анализа
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../standards/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Соответствие стандартам
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Руководство администратора
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Руководство администратора
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Руководство администратора
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Установка и эксплуатация
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Установка и эксплуатация
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/server-requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Требования к установке
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2_2" id="__nav_3_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Варианты установки
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Варианты установки
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Установка системы в Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/external-database/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Работа со внешней СУБД в Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/installation-in-k8s/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Работа системы в Kubernetes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_3" >
        
          
          <label class="md-nav__link" for="__nav_3_2_3" id="__nav_3_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Обслуживание
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Обслуживание
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/update/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Обновление системы в Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/postgres-upgrade-compose/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Обновление PostgreSQL в Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/backup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Резервное копирование
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/proxy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Работа через прокси
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/self-signed-ssl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Самоподписанные SSL сертификаты
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/postgresql-tls/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Подключение к PostgreSQL/PgBouncer с использованием TLS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/analysis-ignore-paths/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Пути анализа и исключения
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/scripts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Скрипты для управления инсталляцией
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/variables-extended/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Переменные установки
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/containers-description/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Основные службы
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Диагностика неполадок
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Настройка платформы
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Настройка платформы
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/activation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Активация системы
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/author-audit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Аудит количества авторов
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3_3" id="__nav_3_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Управление доступом
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Управление доступом
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/users/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Управление учетными записями
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/groups/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Создание групп пользователей
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/ldap-settings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Настройка LDAP
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/oidc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Настройка OpenID Connect
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Руководство пользователя
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Руководство пользователя
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Руководство пользователя
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../on-premise/how-to/general/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Общее
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Общее
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/user-profile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Настройка профиля пользователя
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_3" >
        
          
          <label class="md-nav__link" for="__nav_4_2_3" id="__nav_4_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Политики безопасности
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Политики безопасности
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/policies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Настройка политик
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/ignores/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Игнорирование политик
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_4" >
        
          
          <label class="md-nav__link" for="__nav_4_2_4" id="__nav_4_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Настройка проектов
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Настройка проектов
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/vcs-git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Подключение системы контроля версий
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/projects/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Управление проектами
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_5" >
        
          
          <label class="md-nav__link" for="__nav_4_2_5" id="__nav_4_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Расширенная настройка
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Расширенная настройка
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/proprietors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Создание подразделений
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/notifications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Настройка уведомлений
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/audit-log/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Работа с аудит-логом
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Сбор метрик
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/webhooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Подключение вебхуков
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-premise/how-to/api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Работа с API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../feeds/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Потоки данных
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2_6" id="__nav_4_2_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Потоки данных
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../feeds/protestware/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Работа с фидом protestware
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../feeds/kaspersky/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Использование Kaspersky OSS Threats Data Feed
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../feeds/oss-index/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Интеграция OSS Index
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../osa/" class="md-nav__link ">
              
  
  
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_5_4)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.13584 11.552C5.81933 11.552 6.3734 10.9979 6.3734 10.3144V8.36523V7.67156L6.37339 7.66808C6.37339 6.95309 6.95301 6.37348 7.668 6.37348C7.69975 6.37348 7.73125 6.37463 7.76244 6.37687L7.76758 6.37354H8.41489H10.3143C10.9977 6.37354 11.5518 5.81947 11.5518 5.13599V1.23768C11.5518 0.554196 10.9977 0.000122471 10.3143 0.000122411L6.41594 0.00012207C5.73246 0.000122011 5.17839 0.554195 5.17839 1.23768V3.18683V3.67412V3.91777L5.17785 3.91817C5.16002 4.60602 4.60567 5.16036 3.91781 5.17815L3.91762 5.17852H3.89699C3.89256 5.17857 3.88813 5.17859 3.88369 5.17859C3.87925 5.17859 3.87482 5.17857 3.87039 5.17852H3.67398H3.18669H1.23754C0.554054 5.17852 -1.96266e-05 5.7326 -1.96864e-05 6.41608L-2.00272e-05 10.3144C-2.0087e-05 10.9979 0.554053 11.5519 1.23754 11.5519L5.13584 11.552Z" fill="#DFDFDF"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M1.70401e-07 17.5839C2.00276e-07 18.2674 0.554074 18.8215 1.23756 18.8215H3.18671H3.87141C3.87554 18.8214 3.87967 18.8214 3.88381 18.8214C4.5988 18.8214 5.17841 19.401 5.17841 20.116C5.17841 20.1478 5.17726 20.1793 5.17502 20.2105L5.17841 20.2157V20.863V22.7623C5.17841 23.4458 5.73247 23.9999 6.41596 23.9999H10.3143C10.9977 23.9999 11.5518 23.4458 11.5518 22.7623V18.8641C11.5518 18.1805 10.9977 17.6265 10.3143 17.6265H8.36512H7.87783H7.682C7.67731 17.6265 7.67261 17.6266 7.66789 17.6266C7.66318 17.6266 7.65847 17.6265 7.65378 17.6265H7.63418L7.6339 17.6261C6.9459 17.6084 6.39142 17.0539 6.37373 16.3658L6.37342 16.3658V16.3504C6.37333 16.3442 6.37329 16.3382 6.37329 16.332C6.37329 16.3258 6.37333 16.3196 6.37342 16.3135V16.1221V15.6348V13.6856C6.37342 13.0022 5.81935 12.4481 5.13586 12.4481H1.23756C0.554074 12.4481 -2.98763e-08 13.0022 0 13.6856L1.70401e-07 17.5839Z" fill="#DFDFDF"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M18.8642 11.5519C18.1806 11.5519 17.6266 10.9977 17.6266 10.3143V8.36511V7.67228V7.66818C17.6266 6.95319 17.047 6.37358 16.332 6.37358C16.3003 6.37358 16.269 6.37472 16.2378 6.37695L16.2324 6.37342H15.5851H13.6857C13.0023 6.37342 12.4482 5.81935 12.4482 5.13586V1.23756C12.4482 0.554073 13.0023 0 13.6857 0H17.5841C18.2675 0 18.8216 0.554073 18.8216 1.23756V3.18671V3.674V3.91764L18.8222 3.91805C18.84 4.60584 19.3943 5.16011 20.0822 5.17793L20.0824 5.17841H20.3261H20.8134H22.7624C23.446 5.17841 24 5.73248 24 6.41596V10.3143C24 10.9977 23.446 11.5519 22.7624 11.5519H18.8642Z" fill="#DFDFDF"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M24 17.584C24 18.2675 23.446 18.8215 22.7624 18.8215H20.8133H20.1162V18.8217C19.4012 18.8218 18.8216 19.4014 18.8216 20.1163C18.8216 20.148 18.8227 20.1794 18.825 20.2105L18.8216 20.2157V20.863V22.7624C18.8216 23.4458 18.2675 24 17.5841 24H13.6857C13.0023 24 12.4482 23.4458 12.4482 22.7624V18.8641C12.4482 18.1806 13.0023 17.6265 13.6857 17.6265H15.6349H16.1222H16.3658L16.3662 17.626C17.054 17.6082 17.6084 17.0538 17.6262 16.3659L17.6266 16.3658V16.3424C17.6266 16.3389 17.6266 16.3354 17.6266 16.3319C17.6266 16.3284 17.6266 16.325 17.6266 16.3214V16.1222V15.6349V13.6857C17.6266 13.0022 18.1806 12.4481 18.8641 12.4481H22.7624C23.446 12.4481 24 13.0022 24 13.6857V17.584Z" fill="#DFDFDF"/>
</g>
<defs>
<clipPath id="clip0_5_4">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>
</svg>
  
  <span class="md-ellipsis">
    
  
    CodeScoring.OSA
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    CodeScoring.OSA
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_2" >
        
          
          <label class="md-nav__link" for="__nav_4_3_2" id="__nav_4_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Плагины для хранилищ
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Плагины для хранилищ
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa/nexus_osa/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Плагин для Nexus
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa/jfrog_osa/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Плагин для JFrog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa/sfera_osa/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Плагин для Сфера
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa/archives/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Сканирование архивов
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3_3" id="__nav_4_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Работа с OSA в платформе
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Работа с OSA в платформе
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa/repo-managers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Подключение менеджера репозиториев
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa/registries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Подключение реестра с образами
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa/osa-policies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Настройка политик OSA
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa/components/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Работа с компонентами OSA
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa/update/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Обновление данных о компонентах
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../osa-proxy/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Сервис OSA Proxy
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_3_4" id="__nav_4_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Сервис OSA Proxy
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa-proxy/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Установка сервиса
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa-proxy/config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Настройка сервиса
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa-proxy/config-caching/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Настройка Redis и кэширования
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa-proxy/protocols/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Поддерживаемые протоколы
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa-proxy/metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Метрики
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa-proxy/base64-url/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Настройка Base64 URL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa-proxy/config-maven/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Настройка Maven
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa-proxy/config-npm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Настройка NPM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa-proxy/config-nuget/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Настройка NuGet
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa-proxy/config-pypi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Настройка PyPI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa-proxy/config-go/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Настройка GO
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa-proxy/config-debian/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Настройка Debian
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa-proxy/config-docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Настройка Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa-proxy/config-apk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Настройка Alpine (APK)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../osa-proxy/config-rpm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Настройка RPM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../sca/" class="md-nav__link ">
              
  
  
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_5_9)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M11.5518 6.41609C11.5518 5.7326 10.9977 5.17853 10.3143 5.17853H8.36509H7.67979C7.67585 5.17856 7.6719 5.17858 7.66794 5.17858C6.95295 5.17858 6.37334 4.59897 6.37334 3.88398C6.37334 3.85221 6.37448 3.82071 6.37673 3.78951L6.37339 3.78434V3.13704V1.23768C6.37339 0.554196 5.81932 0.000122271 5.13583 0.000122241L1.23753 0.00012207C0.554044 0.00012204 -3.03173e-05 0.554196 -3.03472e-05 1.23768L-3.05176e-05 5.13599C-3.05474e-05 5.81947 0.554043 6.37355 1.23753 6.37355H3.18668H3.67397H3.91761L3.918 6.37405C4.60588 6.39186 5.16024 6.94624 5.17801 7.63413L5.17838 7.63431V7.65422C5.17842 7.65888 5.17845 7.66354 5.17845 7.6682C5.17845 7.67287 5.17842 7.67754 5.17838 7.68219V7.87795V8.36525V10.3144C5.17838 10.9979 5.73245 11.552 6.41594 11.552H10.3143C10.9977 11.552 11.5518 10.9979 11.5518 10.3144V6.41609Z" fill="#DFDFDF"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.13583 24C5.81932 24 6.37339 23.4459 6.37339 22.7624V20.8132V20.1281C6.37336 20.1253 6.37335 20.1224 6.37335 20.1195C6.37335 20.1184 6.37334 20.1173 6.37334 20.1161C6.37334 19.4012 6.95295 18.8216 7.66794 18.8216C7.69969 18.8216 7.73117 18.8227 7.76235 18.8249L7.76758 18.8216H8.41488H10.3143C10.9977 18.8216 11.5518 18.2675 11.5518 17.584V13.6857C11.5518 13.0022 10.9977 12.4481 10.3143 12.4481H6.41594C5.73245 12.4481 5.17838 13.0022 5.17838 13.6857V15.6349V16.1222V16.3181C5.17842 16.3227 5.17845 16.3274 5.17845 16.3321C5.17845 16.3367 5.17842 16.3413 5.17838 16.346V16.3658L5.17802 16.366C5.16027 17.0541 4.60578 17.6085 3.91778 17.6262L3.91762 17.6266H3.90005C3.89466 17.6266 3.88926 17.6267 3.88385 17.6267C3.87844 17.6267 3.87304 17.6266 3.86764 17.6266H3.67397H3.18668H1.23753C0.554044 17.6266 -3.0117e-05 18.1806 -3.01768e-05 18.8641L-3.05176e-05 22.7624C-3.05773e-05 23.4459 0.554044 24 1.23753 24H5.13583Z" fill="#DFDFDF"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M24 5.13587C24 5.81935 23.446 6.37343 22.7624 6.37343H20.8133H20.1282C20.1258 6.3734 20.1233 6.37339 20.1209 6.37338C20.1194 6.37337 20.1178 6.37337 20.1163 6.37337C19.4013 6.37337 18.8217 6.95298 18.8217 7.66797C18.8217 7.69964 18.8229 7.73105 18.8251 7.76215L18.8216 7.76762V8.41491V10.3143C18.8216 10.9977 18.2675 11.5519 17.5841 11.5519H13.6857C13.0023 11.5519 12.4482 10.9977 12.4482 10.3143V6.41596C12.4482 5.73248 13.0023 5.1784 13.6857 5.1784H15.6349H16.1222H16.3658L16.3662 5.1779C17.054 5.16004 17.6083 4.60571 17.6262 3.91787L17.6266 3.91765V3.674V3.18672V1.23756C17.6266 0.554074 18.1806 -8.15077e-09 18.8641 0L22.7624 4.6486e-08C23.446 5.46368e-08 24 0.554074 24 1.23756V5.13587Z" fill="#DFDFDF"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M17.5841 12.4481C18.2675 12.4481 18.8216 13.0022 18.8216 13.6857V15.6349V16.332C18.8216 17.047 19.4014 17.6266 20.1163 17.6266C20.1481 17.6266 20.1795 17.6254 20.2106 17.6232L20.2158 17.6265H20.8631H22.7624C23.446 17.6265 24 18.1806 24 18.8641V22.7624C24 23.4458 23.446 24 22.7624 24H18.8641C18.1806 24 17.6266 23.4458 17.6266 22.7624V20.8132V20.3259V20.0823L17.6261 20.082C17.6082 19.3941 17.0539 18.8398 16.3661 18.822L16.3658 18.8215H16.1222H15.6349H13.6857C13.0023 18.8215 12.4482 18.2675 12.4482 17.584V13.6857C12.4482 13.0022 13.0023 12.4481 13.6857 12.4481H17.5841Z" fill="#DFDFDF"/>
</g>
<defs>
<clipPath id="clip0_5_9">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>
</svg>
  
  <span class="md-ellipsis">
    
  
    CodeScoring.SCA
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    CodeScoring.SCA
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_2" id="__nav_4_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Анализ в платформе
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Анализ в платформе
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sca/launch-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Запуск сканирования
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sca/sca-dependencies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Обзор зависимостей
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sca/vulnerabilities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Работа с уязвимостями
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sca/scan-history/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Отслеживание истории сканирований
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sca/export-results/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Выгрузка результатов анализа
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sca/project-groups/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Организация групп проектов
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../agent/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Консольный агент Johnny
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_4_3" id="__nav_4_4_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Консольный агент Johnny
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Настройка через конфигурационный файл
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/env-variables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Настройка через переменные окружения
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/scan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Команда сканирования
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/scan-dir/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Сканирование директории
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/scan-file/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Сканирование файла
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/scan-archive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Сканирование архивов
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/scan-docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Сканирование контейнерных образов
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/scan-build/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Сканирование сборки C/C++
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/scan-bom/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Сканирование SBOM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/scan-technology/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Сканирование технологии
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/scan-secrets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Сканирование на наличие секретов
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/reachability/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Анализ достижимости уязвимостей
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/sign-verify-bom/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Подпись и верификация SBOM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/launch-docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Запуск с помощью Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/gitlab-ci/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Добавление в Gitlab CI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/jenkins-pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Добавление в Jenkins
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/gitflic-ci/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Добавление в GitFlic CI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/save-results/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Сохранение результатов сканирования
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/export/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Экспорт результатов сканирования
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/resolve/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Разрешение зависимостей в окружении сборки
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../ide/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Интеграция с IDE
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_4_4" id="__nav_4_4_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Интеграция с IDE
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ide/vscode-sca/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Плагин для VS Code
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ide/intellij-sca/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Плагин для IntelliJ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../dependencies/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Работа с зависимостями
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_4_5" id="__nav_4_4_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Работа с зависимостями
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dependencies/java/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Java
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dependencies/scala/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scala
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dependencies/go/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Go
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dependencies/js/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    JavaScript
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dependencies/dotnet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    .NET
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dependencies/php/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PHP
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dependencies/python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dependencies/ruby/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ruby
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../secrets/" class="md-nav__link ">
              
  
  
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_5_14)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M17.8594 5.14007C17.8594 5.82412 17.3048 6.37865 16.6208 6.37865H8.3721H7.67443L7.6744 6.37876C6.95883 6.37876 6.37874 6.95885 6.37874 7.67441C6.37874 7.70616 6.37988 7.73763 6.38212 7.76879L6.37877 7.77398V8.4218V10.3227C6.37877 11.0068 5.82424 11.5613 5.14019 11.5613H1.2387C0.554648 11.5613 0.000122272 11.0068 0.000122241 10.3227L0.00012207 6.42123C0.000122041 5.73718 0.554648 5.18265 1.23869 5.18265H3.18944H3.67713H3.87847C3.88135 5.18267 3.88422 5.18268 3.8871 5.18268C3.88999 5.18268 3.89286 5.18267 3.89574 5.18265H3.92097L3.92129 5.18224C4.60975 5.1644 5.16456 4.60954 5.18232 3.92106L5.18277 3.92085V3.67701V3.18932V1.23857C5.18277 0.554527 5.73729 4.75661e-07 6.42134 4.45753e-07L16.6208 0C17.3048 -2.99077e-08 17.8594 0.554527 17.8594 1.23857V5.14007Z" fill="#DFDFDF"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M24 17.5788C24 18.2628 23.4455 18.8172 22.7614 18.8172H20.8107H20.113V18.8174C19.3974 18.8174 18.8174 19.3975 18.8174 20.1131C18.8174 20.1448 18.8185 20.1762 18.8207 20.2074L18.8174 20.2126V20.8605V22.7614C18.8174 23.4454 18.2628 24 17.5788 24H13.6773C12.9932 24 12.4387 23.4454 12.4387 22.7614V18.8599C12.4387 18.1758 12.9932 17.6213 13.6773 17.6213H15.6281H16.1157H16.3154C16.3188 17.6213 16.3223 17.6213 16.3257 17.6213C16.3291 17.6213 16.3326 17.6213 16.3361 17.6213H16.3596L16.3599 17.6208C17.0483 17.603 17.6032 17.0482 17.621 16.3596L17.6214 16.3595V16.3339C17.6214 16.3311 17.6214 16.3284 17.6214 16.3257C17.6214 16.3229 17.6214 16.3202 17.6214 16.3175V16.1157V15.6279V13.6772C17.6214 12.9932 18.1758 12.4386 18.8599 12.4386H22.7614C23.4455 12.4386 24 12.9932 24 13.6772V17.5788Z" fill="#DFDFDF"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M17.5788 0C18.2628 -5.98006e-08 18.8174 0.554528 18.8174 1.23857V3.18932V3.88698L18.8175 3.88701C18.8175 4.60258 19.3975 5.18265 20.1131 5.18265C20.1449 5.18265 20.1763 5.18151 20.2074 5.17926L20.2127 5.18265H20.8605H22.7614C23.4455 5.18265 24 5.73718 24 6.42122V16.1327C24 16.8168 23.4455 17.3713 22.7614 17.3713H18.8599C18.1758 17.3713 17.6214 16.8168 17.6214 16.1327V8.37198V7.88429V7.68236C17.6214 7.67968 17.6214 7.67698 17.6214 7.67429C17.6214 7.67159 17.6214 7.66889 17.6214 7.66621V7.64045L17.621 7.64012C17.6031 6.95165 17.0482 6.39682 16.3598 6.37906L16.3596 6.37865H16.3333C16.3308 6.37863 16.3282 6.37863 16.3257 6.37863C16.3231 6.37863 16.3206 6.37863 16.3182 6.37865H16.1157H15.6281H13.6773C12.9932 6.37865 12.4387 5.82412 12.4387 5.14007V1.23857C12.4387 0.554528 12.9932 4.00882e-07 13.6773 3.41081e-07L17.5788 0Z" fill="#DFDFDF"/>
<path d="M3.00253 17.3714C3.00253 19.148 4.44279 20.5883 6.21944 20.5883C7.99608 20.5883 9.43634 19.148 9.43634 17.3714C9.43634 15.5947 7.99608 14.1544 6.21944 14.1544C4.44279 14.1544 3.00253 15.5947 3.00253 17.3714Z" fill="#DFDFDF"/>
</g>
<defs>
<clipPath id="clip0_5_14">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>
</svg>
  
  <span class="md-ellipsis">
    
  
    CodeScoring.Secrets
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    CodeScoring.Secrets
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5_2" >
        
          
          <label class="md-nav__link" for="__nav_4_5_2" id="__nav_4_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Настройка
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Настройка
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../secrets/secrets-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Создание конфигурации для поиска секретов
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../secrets/secrets-vcs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Настройка VCS проекта для работы с секретами
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5_3" >
        
          
          <label class="md-nav__link" for="__nav_4_5_3" id="__nav_4_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Анализ секретов
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Анализ секретов
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../secrets/secrets-launch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Запуск поиска секретов
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../secrets/secrets-cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Поиск секретов в CLI проектах
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../secrets/secrets-findings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Работа с найденными секретами
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../secrets/secrets-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Управление ML моделью
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../tqi/" class="md-nav__link ">
              
  
  
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_5_19)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M13.9082 16.5515C14.5858 16.5515 15.1351 16.0022 15.1351 15.3246V13.3922V12.7011C15.1351 11.9922 15.7098 11.4175 16.4186 11.4175C16.4501 11.4175 16.4813 11.4187 16.5121 11.4209L16.5174 11.4175H17.1591H19.0422C19.7198 11.4175 20.2691 10.8682 20.2691 10.1906V6.32571C20.2691 5.64808 19.7198 5.09875 19.0422 5.09875H15.1772C14.4997 5.09875 13.9504 5.64808 13.9504 6.32571V8.25815V8.74126V8.98281L13.9499 8.98315C13.9323 9.66518 13.3826 10.2149 12.7005 10.2325L12.7003 10.2328H12.687C12.6803 10.2329 12.6736 10.233 12.6668 10.233C12.6601 10.233 12.6534 10.2329 12.6466 10.2328H12.4589H11.9757H10.0433C9.36563 10.2328 8.81631 10.7821 8.81631 11.4597V15.3246C8.81631 16.0022 9.36563 16.5515 10.0433 16.5515H13.9082Z" fill="#DFDFDF"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M8.8161 5.09183C8.8161 5.76946 9.36544 6.31878 10.0431 6.31878H11.9755H12.6634H12.6666C13.3755 6.31878 13.9501 6.89342 13.9501 7.60228C13.9501 7.63375 13.949 7.66495 13.9468 7.69585L13.9501 7.70101V8.34276V10.2259C13.9501 10.9035 14.4994 11.4528 15.177 11.4528H19.042C19.7196 11.4528 20.2689 10.9035 20.2689 10.2259V6.36095C20.2689 5.68333 19.7196 5.13401 19.042 5.13401H17.1095H16.6264H16.4242C16.4223 5.13402 16.4202 5.13403 16.4183 5.13403C16.4163 5.13403 16.4143 5.13402 16.4124 5.13401H16.3848L16.3845 5.13358C15.7025 5.11597 15.1528 4.56628 15.1352 3.88422L15.1349 3.88405V3.8671C15.1349 3.86158 15.1348 3.85606 15.1348 3.85052C15.1348 3.84499 15.1349 3.83946 15.1349 3.83394V3.6425V3.15939V1.22695C15.1349 0.549324 14.5855 5.4185e-08 13.9079 4.61542e-08L10.0431 0C9.36544 -8.03077e-09 8.8161 0.549324 8.8161 1.22695V5.09183Z" fill="#DFDFDF"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M8.86049 5.12154C9.53815 5.12457 10.085 5.67634 10.0819 6.35396L10.0734 8.28638L10.0702 8.97749L10.0704 8.97754C10.0673 9.68637 10.6393 10.2636 11.3481 10.2667C11.3795 10.2669 11.4107 10.2659 11.4415 10.2638L11.4467 10.2672L12.0884 10.27L13.9715 10.2784C14.6491 10.2815 15.196 10.8333 15.1929 11.5108L15.1757 15.3758C15.1726 16.0533 14.6209 16.6002 13.9433 16.5972L10.0784 16.5799C9.4008 16.5769 8.85393 16.025 8.85696 15.3475L8.8656 13.415L8.86776 12.9319L8.86864 12.7342C8.86868 12.7308 8.86871 12.7273 8.86873 12.7238C8.86874 12.7204 8.86874 12.717 8.86874 12.7136L8.86884 12.6904L8.86844 12.6901C8.85385 12.008 8.30664 11.4559 7.62467 11.4352L7.62448 11.4349L7.60266 11.4348C7.59877 11.4347 7.59487 11.4347 7.59098 11.4347C7.58707 11.4347 7.58318 11.4347 7.57929 11.4347L7.38293 11.4338L6.89982 11.4316L4.9674 11.423C4.28978 11.4199 3.74292 10.8682 3.74595 10.1906L3.76322 6.32571C3.76626 5.64809 4.31803 5.10123 4.99565 5.10426L8.86049 5.12154Z" fill="#DFDFDF"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M18.9015 12.5472C18.2239 12.5472 17.6745 13.0966 17.6745 13.7742V15.7067V16.3909V16.3978C17.6745 17.1067 17.0999 17.6813 16.391 17.6813C16.3595 17.6813 16.3283 17.6802 16.2974 17.678L16.2923 17.6812H15.6505H13.7674C13.0898 17.6812 12.5405 18.2305 12.5405 18.9082V22.7731C12.5405 23.4507 13.0898 24 13.7674 24H17.6323C18.31 24 18.8593 23.4507 18.8593 22.7731V20.8406V20.3575V20.116L18.8598 20.1156C18.8774 19.4336 19.427 18.884 20.1091 18.8663L20.1092 18.866H20.1274C20.1325 18.866 20.1377 18.8659 20.1428 18.8659C20.1479 18.8659 20.1531 18.866 20.1582 18.866H20.3508H20.8339H22.7663C23.4439 18.866 23.9933 18.3167 23.9933 17.6391V13.7742C23.9933 13.0966 23.4439 12.5472 22.7663 12.5472H18.9015Z" fill="#DFDFDF"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.36096 23.9872C5.68333 23.9872 5.13401 23.4379 5.13401 22.7603V20.8278V20.1367H5.13387C5.13386 19.4278 4.55922 18.8532 3.85037 18.8532C3.81895 18.8532 3.78779 18.8544 3.75694 18.8566L3.75178 18.8532H3.11002H1.22694C0.549323 18.8532 0 18.3038 0 17.6262V13.7614C0 13.0837 0.549323 12.5344 1.22694 12.5344H5.09183C5.76946 12.5344 6.31878 13.0837 6.31878 13.7614V15.6938V16.1769V16.3733C6.31875 16.3772 6.31873 16.3811 6.31873 16.3849C6.31873 16.3887 6.31875 16.3926 6.31878 16.3964V16.4185L6.31917 16.4187C6.33685 17.1008 6.8865 17.6504 7.56851 17.6679L7.56873 17.6684H7.81029H8.2934H10.2258C10.9035 17.6684 11.4528 18.2177 11.4528 18.8953V22.7603C11.4528 23.4379 10.9035 23.9872 10.2258 23.9872H6.36096Z" fill="#DFDFDF"/>
</g>
<defs>
<clipPath id="clip0_5_19">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>
</svg>
  
  <span class="md-ellipsis">
    
  
    CodeScoring.TQI
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    CodeScoring.TQI
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6_2" >
        
          
          <label class="md-nav__link" for="__nav_4_6_2" id="__nav_4_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Анализ проектов
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Анализ проектов
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tqi/launch-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Запуск TQI анализа
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tqi/viewing-results/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Просмотр результатов анализа
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tqi/clones/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Отслеживание дубликатов кода
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tqi/metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Расчет метрик технического долга
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6_3" >
        
          
          <label class="md-nav__link" for="__nav_4_6_3" id="__nav_4_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Анализ авторов
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Анализ авторов
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tqi/authors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Построение профилей авторов
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Changelog
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/on-premise-changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CodeScoring on-premise
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/johnny-changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Консольный агент Johnny
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/nexus-changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Плагин для Nexus
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/jfrog-changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Плагин для JFrog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/sfera-changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Плагин для Сфера
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/vscode-changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Плагин для VS Code
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/intellij-changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Плагин для IntelliJ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/proxy-changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OSA Proxy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Содержание">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Содержание
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#section-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        1 Главная
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        2 Функциональность
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 Функциональность">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#functionality" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 Функциональные характеристики
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration-stages" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 Этапы интеграции
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supported-package-managers" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 Поддерживаемые экосистемы и способы анализа
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standards" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.4 Соответствие стандартам
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        3 Руководство администратора
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 Руководство администратора">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#admin-guide" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1 Руководство администратора
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-3-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 Установка и эксплуатация
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.2 Установка и эксплуатация">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#on-premise-server-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.1 Требования к установке
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-3-2-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.2 Варианты установки
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.2.2 Варианты установки">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#on-premise-installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.2.1 Установка системы в Docker
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-external-database" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.2.2 Работа со внешней СУБД в Docker
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-installation-in-k8s" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.2.3 Работа системы в Kubernetes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-3-2-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.3 Обслуживание
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.2.3 Обслуживание">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#on-premise-update" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.3.1 Обновление системы в Docker
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-postgres-upgrade-compose" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.3.2 Обновление PostgreSQL в Docker
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-backup" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.3.3 Резервное копирование
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.3.4 Работа через прокси
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-self-signed-ssl" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.3.5 Самоподписанные SSL сертификаты
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-postgresql-tls" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.3.6 Подключение к PostgreSQL/PgBouncer с использованием TLS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-analysis-ignore-paths" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.3.7 Пути анализа и исключения
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.3.8 Скрипты для управления инсталляцией
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-variables-extended" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.3.9 Переменные установки
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-containers-description" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.3.10 Основные службы
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.3.11 Диагностика неполадок
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-3-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3 Настройка платформы
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3 Настройка платформы">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-activation" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.1 Активация системы
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-author-audit" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.2 Аудит количества авторов
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-3-3-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.3 Управление доступом
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3.3 Управление доступом">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-users" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.3.1 Управление учетными записями
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-groups" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.3.2 Создание групп пользователей
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-ldap-settings" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.3.3 Настройка LDAP
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-oidc" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.3.4 Настройка OpenID Connect
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-4" class="md-nav__link">
    <span class="md-ellipsis">
      
        4 Руководство пользователя
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 Руководство пользователя">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user-guide" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 Руководство пользователя
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 Общее
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2 Общее">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-general" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.1 Общее
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-user-profile" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.2 Настройка профиля пользователя
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-2-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.3 Политики безопасности
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2.3 Политики безопасности">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-policies" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.3.1 Настройка политик
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-ignores" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.3.2 Игнорирование политик
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-2-4" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.4 Настройка проектов
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2.4 Настройка проектов">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-vcs-git" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.4.1 Подключение системы контроля версий
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-projects" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.4.2 Управление проектами
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-2-5" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.5 Расширенная настройка
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2.5 Расширенная настройка">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-proprietors" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.5.1 Создание подразделений
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-notifications" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.5.2 Настройка уведомлений
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-audit-log" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.5.3 Работа с аудит-логом
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.5.4 Сбор метрик
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-webhooks" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.5.5 Подключение вебхуков
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise-how-to-api" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.5.6 Работа с API
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-2-6" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.6 Потоки данных
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2.6 Потоки данных">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#feeds" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.6.1 Общее описание
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#feeds-protestware" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.6.2 Работа с фидом protestware
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#feeds-kaspersky" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.6.3 Использование Kaspersky OSS Threats Data Feed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#feeds-oss-index" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2.6.4 Интеграция OSS Index
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3 CodeScoring.OSA
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3 CodeScoring.OSA">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#osa" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.1 Общее описание
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-3-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.2 Плагины для хранилищ
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3.2 Плагины для хранилищ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#osa-nexus_osa" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.2.1 Плагин для Nexus
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-jfrog_osa" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.2.2 Плагин для JFrog
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-sfera_osa" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.2.3 Плагин для Сфера
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-archives" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.2.4 Сканирование архивов
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-3-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.3 Работа с OSA в платформе
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3.3 Работа с OSA в платформе">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#osa-repo-managers" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.3.1 Подключение менеджера репозиториев
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-registries" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.3.2 Подключение реестра с образами
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-osa-policies" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.3.3 Настройка политик OSA
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.3.4 Работа с компонентами OSA
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-update" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.3.5 Обновление данных о компонентах
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-3-4" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.4 Сервис OSA Proxy
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3.4 Сервис OSA Proxy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#osa-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.4.1 Общее описание
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-proxy-installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.4.2 Установка сервиса
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-proxy-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.4.3 Настройка сервиса
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-proxy-config-caching" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.4.4 Настройка Redis и кэширования
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-proxy-protocols" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.4.5 Поддерживаемые протоколы
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-proxy-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.4.6 Метрики
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-proxy-base64-url" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.4.7 Настройка Base64 URL
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-proxy-config-maven" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.4.8 Настройка Maven
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-proxy-config-npm" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.4.9 Настройка NPM
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-proxy-config-nuget" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.4.10 Настройка NuGet
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-proxy-config-pypi" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.4.11 Настройка PyPI
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-proxy-config-go" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.4.12 Настройка GO
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-proxy-config-debian" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.4.13 Настройка Debian
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-proxy-config-docker" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.4.14 Настройка Docker
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-proxy-config-apk" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.4.15 Настройка Alpine (APK)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osa-proxy-config-rpm" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3.4.16 Настройка RPM
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-4" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4 CodeScoring.SCA
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.4 CodeScoring.SCA">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sca" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.1 Общее описание
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-4-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.2 Анализ в платформе
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.4.2 Анализ в платформе">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sca-launch-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.2.1 Запуск сканирования
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sca-sca-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.2.2 Обзор зависимостей
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sca-vulnerabilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.2.3 Работа с уязвимостями
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sca-scan-history" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.2.4 Отслеживание истории сканирований
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sca-export-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.2.5 Выгрузка результатов анализа
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sca-project-groups" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.2.6 Организация групп проектов
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-4-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3 Консольный агент Johnny
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.4.3 Консольный агент Johnny">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#agent" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3.1 Общее описание
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3.2 Настройка через конфигурационный файл
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-env-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3.3 Настройка через переменные окружения
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-scan" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3.4 Команда сканирования
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-scan-dir" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3.5 Сканирование директории
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-scan-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3.6 Сканирование файла
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-scan-archive" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3.7 Сканирование архивов
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-scan-docker" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3.8 Сканирование контейнерных образов
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-scan-build" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3.9 Сканирование сборки C/C++
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-scan-bom" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3.10 Сканирование SBOM
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-scan-technology" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3.11 Сканирование технологии
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-scan-secrets" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3.12 Сканирование на наличие секретов
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-reachability" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3.13 Анализ достижимости уязвимостей
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-sign-verify-bom" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3.14 Подпись и верификация SBOM
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-launch-docker" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3.15 Запуск с помощью Docker
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-gitlab-ci" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3.16 Добавление в Gitlab CI
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-jenkins-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3.17 Добавление в Jenkins
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-gitflic-ci" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3.18 Добавление в GitFlic CI
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-save-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3.19 Сохранение результатов сканирования
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-export" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3.20 Экспорт результатов сканирования
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-resolve" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.3.21 Разрешение зависимостей в окружении сборки
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-4-4" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.4 Интеграция с IDE
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.4.4 Интеграция с IDE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ide" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.4.1 Общее описание
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ide-vscode-sca" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.4.2 Плагин для VS Code
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ide-intellij-sca" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.4.3 Плагин для IntelliJ
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-4-5" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.5 Работа с зависимостями
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.4.5 Работа с зависимостями">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.5.1 Общее описание
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies-java" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.5.2 Java
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies-scala" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.5.3 Scala
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies-go" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.5.4 Go
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies-js" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.5.5 JavaScript
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies-dotnet" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.5.6 .NET
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies-php" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.5.7 PHP
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies-python" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.5.8 Python
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies-ruby" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4.5.9 Ruby
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-5" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5 CodeScoring.Secrets
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.5 CodeScoring.Secrets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#secrets" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5.1 Общее описание
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-5-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5.2 Настройка
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.5.2 Настройка">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#secrets-secrets-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5.2.1 Создание конфигурации для поиска секретов
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secrets-secrets-vcs" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5.2.2 Настройка VCS проекта для работы с секретами
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-5-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5.3 Анализ секретов
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.5.3 Анализ секретов">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#secrets-secrets-launch" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5.3.1 Запуск поиска секретов
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secrets-secrets-cli" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5.3.2 Поиск секретов в CLI проектах
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secrets-secrets-findings" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5.3.3 Работа с найденными секретами
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secrets-secrets-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5.4 Управление ML моделью
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-6" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.6 CodeScoring.TQI
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.6 CodeScoring.TQI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tqi" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.6.1 Общее описание
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-6-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.6.2 Анализ проектов
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.6.2 Анализ проектов">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tqi-launch-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.6.2.1 Запуск TQI анализа
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tqi-viewing-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.6.2.2 Просмотр результатов анализа
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tqi-clones" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.6.2.3 Отслеживание дубликатов кода
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tqi-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.6.2.4 Расчет метрик технического долга
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-6-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.6.3 Анализ авторов
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.6.3 Анализ авторов">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tqi-authors" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.6.3.1 Построение профилей авторов
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-5" class="md-nav__link">
    <span class="md-ellipsis">
      
        5 Changelog
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                

    
                  

<a class="md-content__button md-icon" title="Print PDF" id="print-pdf-btn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 8c1.66 0 3 1.34 3 3v6h-4v4H6v-4H2v-6c0-1.66 1.34-3 3-3h1V3h12v5zM8 5v3h8V5zm8 14v-4H8v4zm2-4h2v-4c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4h2v-2h12zm1-3.5c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1"/></svg></a>



<div id="print-site-page" class="print-site-enumerate-headings print-site-enumerate-figures">
        <section class="print-page">
            <div id="print-page-toc" data-toc-depth="3">
                <nav role='navigation' class='print-page-toc-nav'>
                <h1 class='print-page-toc-title'>Table of Contents</h1>
                </nav>
            </div>
        </section>
        
                    <section class='print-page md-section' id='section-1' heading-number='1'>
                        <h1>Главная<a class='headerlink' href='#section-1' title='Permanent link'></a>
                        </h1>
                    </section>
                    <section class='print-page md-section' id='section-2' heading-number='2'>
                        <h1>Функциональность<a class='headerlink' href='#section-2' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="functionality" heading-number="2.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#functionality.en">English</a></li>
</ul>
<h1 id="functionality-_1">Функциональные характеристики<a class="headerlink" href="#functionality-_1" title="Permanent link">&para;</a></h1>
<h2 id="functionality-_2">Общие функциональные характеристики<a class="headerlink" href="#functionality-_2" title="Permanent link">&para;</a></h2>
<p>Модульная платформа безопасной разработки <strong>CodeScoring</strong> обеспечивает решение задач безопасного использования <strong>open source</strong>, идентификации секретов в коде и проверки качества разработки.</p>
<p>Платформа включает в себя следующие модули:</p>
<ul>
<li><strong>CodeScoring.OSA (Open Source Analysis)</strong> – защита цепочки поставки: проверка сторонних компонентов на соответствие политикам безопасности и блокировка при несоответствии;</li>
<li><strong>CodeScoring.SCA (Software Composition Analysis)</strong> – композиционный анализ: автообнаружение <strong>open source</strong> зависимостей, выявление уязвимостей и вредоносных компонентов, проверка совместимости лицензий, формирование перечня программных компонентов и построение графа зависимостей;</li>
<li><strong>CodeScoring.Secrets</strong> – поиск секретов в коде: оркестрация проверок исходного кода на наличие конфиденциальной информации (<strong>секретов</strong>) и оценка истинности с помощью собственной модели машинного обучения;</li>
<li><strong>CodeScoring.TQI (Teams &amp; Quality Intelligence)</strong> – оценка качества кода через расчет ключевых метрик качества, отслеживание динамики разработки и построение профилей участников разработки с подтвержденной компетенцией в проектах.</li>
</ul>
<p>Комплексно платформа обеспечивает:</p>
<ul>
<li>анализ 20 языков программирования (для отдельных модулей список языков может варьироваться): <strong>Java</strong>, <strong>Kotlin</strong>, <strong>JavaScript</strong>, <strong>TypeScript</strong>, <strong>Python</strong>, <strong>C</strong>, <strong>C++</strong>, <strong>Go</strong>, <strong>PHP</strong>, <strong>Ruby</strong>, <strong>C#</strong>, <strong>Objective-C</strong>, <strong>Swift</strong>, <strong>Rust</strong>, <strong>Scala</strong>, <strong>Bash</strong>, <strong>Perl</strong>, <strong>SQL</strong>, <strong>PLSQL</strong>, <strong>PGSQL</strong>;</li>
<li>анализ манифестов пакетных экосистем: <strong>Maven</strong>, <strong>Gradle</strong>, <strong>Apache Ivy</strong>, <strong>NPM</strong>, <strong>Yarn</strong>, <strong>pnpm</strong>, <strong>NuGet</strong>, <strong>Paket</strong>, <strong>pip</strong>, <strong>Poetry</strong>, <strong>Pipenv</strong>, <strong>Conda</strong>, <strong>Ruby Gems</strong>, <strong>Cocoapods</strong>, <strong>Swift</strong>, <strong>Composer</strong>, <strong>Conan</strong>, <strong>Go Modules</strong>, <strong>Cargo</strong> и <strong>sbt</strong>;</li>
<li>интеграцию с менеджерами репозиториев и реестрами контейнерных образов: <strong>Nexus Repository Manager</strong>, <strong>JFrog Artifactory Pro</strong>, <strong>Harbor</strong>, <strong>GitLab</strong>, <strong>GitFlic</strong>, <strong>Сфера.Дистрибутивы и Лицензии</strong>;</li>
<li>интеграцию с <strong>hosted</strong> и <strong>cloud</strong>-системами хостинга кода: <strong>GitFlic</strong>, <strong>GitLab</strong>, <strong>Github</strong>, <strong>Bitbucket</strong> и <strong>Azure DevOps</strong>;</li>
<li>универсальную интеграцию в системы сборки при помощи агента: <strong>Jenkins</strong>, <strong>GitLab</strong>, <strong>GitFlic</strong>, <strong>TeamCity</strong> и прочие;</li>
<li>управление политиками безопасности организации;</li>
<li>автоматизацию запусков сканирования по расписанию;</li>
<li>интеграцию для почтовых уведомлений;</li>
<li>интеграцию с системой управления задачами <strong>Jira</strong>;</li>
<li>систему управления пользователями;</li>
<li>интеграцию <strong>LDAP</strong>;</li>
<li>создание вебхуков;</li>
<li>разграничение прав доступа для разных пользователей;</li>
<li>журналирование всех выполняемых операций (<strong>аудит-лог</strong>);</li>
<li>сбор метрик по проведенным операциям;</li>
<li>открытый и задокументированный программный интерфейс (<strong>API</strong>).</li>
</ul>
<h2 id="functionality-codescoringosa">Функциональные характеристики модуля <strong>CodeScoring.OSA</strong><a class="headerlink" href="#functionality-codescoringosa" title="Permanent link">&para;</a></h2>
<ul>
<li>блокировка загрузки нежелательных компонентов при попытке их скачивания через командный интерфейс пакетного менеджера или веб-интерфейс;</li>
<li>формирование перечня программных компонентов (<strong>SBOM</strong>, Software Bill of Materials);</li>
<li>проверка артефактов в реестрах контейнерных образов;</li>
<li>проксирование и контроль загрузок пакетов через сервис <a href="#osa-proxy">OSA Proxy</a> для популярных пакетных менеджеров (Maven, NPM, PyPI, NuGet);</li>
<li>анализ архивов, включая:<ul>
<li>разбор содержимого популярных архивных форматов (<strong>zip</strong>, <strong>jar</strong>, <strong>tar</strong>, <strong>war</strong>, <strong>tgz</strong> и другие);</li>
<li>анализ системных пакетов, включая поддержку популярных менеджеров пакетов:<ul>
<li><strong>DEB</strong> (Debian, Ubuntu);</li>
<li><strong>RPM</strong> (RHEL, CentOS, Fedora);</li>
<li><strong>APK</strong> (Alpine Linux);</li>
</ul>
</li>
</ul>
</li>
<li>настройка критериев безопасности (<strong>политик</strong>) по 40 критериям, включая:<ul>
<li>метаданные пакетов: название, версия, автор пакета, возраст, дата;</li>
<li>критерии уязвимостей: идентификатор, оценка <strong>CVSS</strong>, уровень угрозы, дата публикации, возраст, наличие эксплойта, импакт;</li>
<li>категории и типы лицензий, совместимость лицензий (<strong>лицензионная чистота</strong>);</li>
<li>признаки применения пакета: директивный/транзитивный и окружение (<strong>scope</strong>);</li>
<li>наличие вредоносного кода;</li>
<li>черные списки пакетов, включая собственный фид <strong>protestware</strong>;</li>
</ul>
</li>
<li>определение и дедупликация уязвимостей из 20 баз знаний, включая агрегационные (<strong>БДУ ФСТЭК</strong>, <strong>NVD</strong>, <strong>OSV</strong>, <strong>GHSA</strong> и иные), экосистемные (<strong>Debian</strong>, <strong>RPM</strong>, <strong>Alpine</strong> и иные), коммерческие (<strong>Kaspersky OSS Threats Data Feed</strong>) и собственные, включая данные о <strong>protestware</strong>;</li>
<li>управление компонентами в интерфейсе, включая:<ul>
<li>просмотр и фильтрацию списка пакетов;</li>
<li>просмотр и фильтрацию списка контейнерных образов;</li>
<li>просмотр и фильтрацию запросов компонентов;</li>
<li>выгрузку отчетности.</li>
</ul>
</li>
</ul>
<h2 id="functionality-codescoringsca">Функциональные характеристики модуля <strong>CodeScoring.SCA</strong><a class="headerlink" href="#functionality-codescoringsca" title="Permanent link">&para;</a></h2>
<ul>
<li>анализ манифестов пакетных менеджеров;</li>
<li>формирование перечня программных компонентов (<strong>SBOM, Software Bill of Materials</strong>) c учетом рекомендаций <strong>ФСТЭК России</strong>;</li>
<li>проверка <strong>open source</strong> на всех этапах цикла разработки с возможностью задания политик безопасности для отдельных этапов цикла разработки:<ul>
<li>проверка кода в средах разработки (<strong>IDE</strong>): <strong>IntelliJ-based</strong>, <strong>VSCode</strong>, <strong>OpenIDE</strong>;</li>
<li>проверка на локальной машине разработчика (<strong>агент CLI</strong>);</li>
<li>непрерывный мониторинг кода (сканирование веток репозиториев);</li>
<li>проверка в <strong>CI-конвейере</strong> универсальным агентом с возможностью блокирования сборки;</li>
<li>пост-релизный мониторинг <strong>SBOM</strong>;</li>
<li>пост-релизный мониторинг кода (сканирование тегов репозиториев);</li>
</ul>
</li>
<li>обнаружение <strong>open source</strong> зависимостей:<ul>
<li>по экосистеме, названию и версии пакета;</li>
<li>по файлам конфигураций (<strong>манифестам</strong>) пакетных менеджеров;</li>
<li>через механизм разрешения транзитивных зависимостей;</li>
<li>через механизм идентификации <strong>open source</strong>-включений по вендорской базе мета-данных, с применением алгоритмов гибкого поиска;</li>
<li>через анализ сборки для языков <strong>C</strong> и <strong>C++</strong>;</li>
</ul>
</li>
<li>разделение директивных и транзитивных зависимостей и определение отношения к окружениям (<strong>scope</strong>) разработки: <strong>runtime</strong>, <strong>compile</strong>, <strong>test</strong>, <strong>provided</strong> и другим;</li>
<li>построение графа зависимостей с возможностью трассирования использования транзитивных компонентов;</li>
<li>актуализация информации об обнаруженных зависимостях:<ul>
<li>общая информация о зависимости: способ обнаружения; дата релиза пакета; автор пакета; официальная веб-страница; ссылка на размещение в пакетном индексе; окружение применения (<strong>scope</strong>) и ссылка на граф связей; ссылка на манифест;</li>
<li>информация об уязвимостях;</li>
<li>информация о лицензиях;</li>
<li>максимальная версия исправления;</li>
<li>используемость в проектах организации;</li>
</ul>
</li>
<li>предоставление информации об уязвимостях:<ul>
<li>идентификаторы в базах знаний;</li>
<li>описание уязвимости;</li>
<li>оценка критичности по <strong>CVSS 2</strong> и <strong>CVSS 3.1</strong>;</li>
<li>ссылки на дополнительные индексы уязвимостей;</li>
<li>рекомендуемая версия пакета для обновления;</li>
<li>перечень всех проектов, задетых уязвимостью;</li>
<li>дополнительные материалы, содержащие ссылки на патчи, эксплоиты и уязвимые коммиты;</li>
</ul>
</li>
<li>предоставление информации о лицензиях:<ul>
<li>лицензионный ландшафт проекта;</li>
<li><strong>SPDX</strong>-идентификатор лицензии;</li>
<li>текст лицензии;</li>
<li>краткое представление об условиях лицензии;</li>
<li>информация о совместимости лицензий (<strong>license compliance</strong>);</li>
</ul>
</li>
<li>определение и дедупликация уязвимостей из более 20 баз знаний, включая агрегационные (<strong>БДУ ФСТЭК</strong>, <strong>NVD</strong>, <strong>OSV</strong>, <strong>GHSA</strong> и иные), экосистемные (<strong>Debian</strong>, <strong>RPM</strong>, <strong>Alpine</strong> и иные), коммерческие (<strong>Kaspersky OSS Threats Data Feed</strong>) и собственные, включая данные о <strong>protestware</strong>;</li>
<li>настройка политик безопасности по 40 критериям, включая:<ul>
<li>метаданные пакетов: название, версия, автор пакета, возраст, дата;</li>
<li>критерии уязвимостей: идентификатор, оценка <strong>CVSS</strong>, уровень угрозы, дата публикации, возраст, наличие эксплойта, импакт;</li>
<li>категории и типы лицензий, совместимость лицензий (<strong>лицензионная чистота</strong>);</li>
<li>признаки применения пакета: директивный/транзитивный и окружение (<strong>scope</strong>);</li>
<li>наличие вредоносного кода;</li>
<li>черные списки пакетов, включая подготовленный фид <strong>protestware</strong>;</li>
</ul>
</li>
<li>настройка политик безопасности отдельно для сканирования кода в репозиториях, <strong>CI-конвейере</strong> и локальной машине разработчика с указанием этапа цикла разработки;</li>
<li>система отображения результатов сканирований для каждого отдельного этапа и возможность управления игнорируемыми событиями;</li>
<li>возможность настройки защиты от популярных атак на цепочку поставки;</li>
<li>возможность настройки временного игнорирования политик срабатывания по различным критериям: проекту, технологии, пакету, типу лицензии, идентификатору уязвимости, для отдельных политик;</li>
<li>выгрузка отчетности в популярных форматах: <strong>CycloneDX</strong>, <strong>SPDX</strong>, <strong>JUnit</strong>, <strong>SARIF</strong>, <strong>CSV</strong>, <strong>GitLab Dependency Scanning Report</strong>, <strong>GitLab Code Quality Report</strong>;</li>
<li>анализ достижимости уязвимостей.</li>
</ul>
<h2 id="functionality-codescoringsecrets">Функциональные характеристики модуля <strong>CodeScoring.Secrets</strong><a class="headerlink" href="#functionality-codescoringsecrets" title="Permanent link">&para;</a></h2>
<ul>
<li>обнаружение чувствительных данных в коде, включая пароли, <strong>API-ключи</strong>, токены, учетные данные;</li>
<li>использование собственной модели машинного обучения для фильтрации ложных срабатываний;</li>
<li>интеграция с системами контроля версий (<strong>VCS</strong>) для автоматического мониторинга репозиториев;</li>
<li>настройка критериев поиска секретов с возможностью конфигурирования правил обнаружения;</li>
<li>запуск анализа секретов:<ul>
<li>выбор сканирования отдельной ветки или всего репозитория;</li>
<li>ручной запуск анализа в отдельных проектах;</li>
<li>общее сканирование всех проектов организации;</li>
<li>загрузка отчетов о секретах, найденных сторонними инструментами, в систему;</li>
</ul>
</li>
<li>предоставление детализированной информации о найденных секретах:<ul>
<li>контекст обнаружения (проект, файл, автор изменения);</li>
<li>оценка вероятности истинности секрета;</li>
<li>дата обнаружения и исправления секрета;</li>
</ul>
</li>
<li>управление найденными секретами:<ul>
<li>просмотр списка обнаруженных секретов;</li>
<li>подтверждение ложных срабатываний и исключение их из дальнейших сканирований;</li>
<li>маркировка секретов как устраненных;</li>
</ul>
</li>
<li>управление процессом обучения <strong>ML-модели</strong> для повышения точности обнаружения:<ul>
<li>разметка обнаруженных секретов пользователем;</li>
<li>дообучение модели на размеченных данных;</li>
<li>сравнение результатов дообученной модели с исходной версией;</li>
<li>возможность отката к базовой модели;</li>
</ul>
</li>
<li>интеграция с <strong>DevSecOps</strong>-процессами:<ul>
<li>работа в <strong>CI/CD-конвейере</strong> с возможностью прерывания сборки при обнаружении секретов;</li>
<li>анализ секретов на локальной машине разработчика через <strong>CLI-агент</strong>;</li>
</ul>
</li>
<li>гибкая система отчетности и уведомлений:<ul>
<li>отображение результатов сканирования на уровне организации, проекта и отдельного репозитория;</li>
<li>фильтрация результатов;</li>
<li>экспорт отчетов со списком секретов или их свойств.</li>
</ul>
</li>
</ul>
<h2 id="functionality-codescoringtqi">Функциональные характеристики модуля <strong>CodeScoring.TQI</strong><a class="headerlink" href="#functionality-codescoringtqi" title="Permanent link">&para;</a></h2>
<ul>
<li>построение профиля проектов, детализация технического и авторского состава разработки;</li>
<li>построение профиля разработчиков, детализация их работы в анализируемых проектах с учетом объема работ и качества произведенных изменений;</li>
<li>автоматическая оценка сходства разработчиков в анализируемых проектах по опыту участия и технологиях;</li>
<li>поиск активности разработчиков в <strong>open source</strong> проектах;</li>
<li>анализ заимствований с применением алгоритмов нечеткого поиска (толерантность к переименованиям объектов в коде):<ul>
<li>поиск внутри-проектных дубликатов кода;</li>
<li>поиск кросс-проектных дубликатов кода;</li>
<li>определение объема найденных заимствований;</li>
<li>построение интерактивной карты заимствований;</li>
<li>определение времени возникновения заимствования;</li>
<li>привязка авторства к найденным дубликатам кода;</li>
</ul>
</li>
<li>оценка сложности сопровождения проекта:<ul>
<li>расчет цикломатической сложности кода в разрезе проекта;</li>
<li>расчет цикломатической сложности кода в разрезе автора;</li>
</ul>
</li>
<li>построение аналитических ретроспективных карт:<ul>
<li>развития проектов;</li>
<li>работы авторов;</li>
<li>эволюции сложности проектов;</li>
</ul>
</li>
<li>встраивание в цикл разработки программного обеспечения (<strong>SDLC</strong>) посредством интеграции с системами версионирования исходного кода.</li>
</ul></section><section class="print-page" id="integration-stages" heading-number="2.2"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#integration-stages.en">English</a></li>
</ul>
<h1 id="integration-stages-_1">Этапы интеграции<a class="headerlink" href="#integration-stages-_1" title="Permanent link">&para;</a></h1>
<p>Платформа безопасной разработки <strong>CodeScoring</strong> интегрируется в жизненный цикл разработки программного обеспечения, обеспечивая контроль безопасности, соответствие политикам и анализ качества на каждом ключевом этапе:</p>
<ul>
<li>локальная разработка;</li>
<li>хранение исходного кода;</li>
<li>сборка программных продуктов;</li>
<li>сопровождение после релиза.</li>
</ul>
<p>Общая схема интеграции представлена ниже:</p>
<p><img alt="Integration stages" src="/assets/img/integration/integration-stages.png" /></p>
<p><strong>Важно</strong>: перечислена основная функциональность платформы по этапам. Полный перечень возможностей доступен на странице <a href="#functionality">функциональных характеристик</a>.</p>
<h2 id="integration-stages-_2">Локальная разработка<a class="headerlink" href="#integration-stages-_2" title="Permanent link">&para;</a></h2>
<p><img alt="OSA" src="/assets/img/integration/integration-osa.png" /></p>
<p>На этапе локальной разработки CodeScoring помогает предотвратить попадание уязвимых или вредоносных компонентов в кодовую базу, а также провести композиционный анализ и поиск секретов с помощью универсального агента <a href="#agent">Johnny</a>.</p>
<p>Функциональность:</p>
<ul>
<li>анализ и блокировка сторонних компонентов в момент загрузки из прокси-репозиториев;</li>
<li>инвентаризация и регистрация запросов компонентов;</li>
<li>композиционный анализ;</li>
<li><a href="#secrets">поиск конфиденциальной информации</a> в исходном коде.</li>
</ul>
<p>Для осуществления блокировки компонентов предоставляются плагины <a href="#osa">CodeScoring.OSA</a> для <strong>Nexus Repository Manager</strong> и <strong>JFrog Artifactory PRO</strong>.</p>
<h2 id="integration-stages-_3">Хранение исходного кода<a class="headerlink" href="#integration-stages-_3" title="Permanent link">&para;</a></h2>
<p>На этапе хранения и управления исходным кодом CodeScoring позволяет обеспечить непрерывный контроль качества и безопасности репозиториев.</p>
<p>Поддерживается интеграция с основными платформами разработки, использующие git: <strong>GitFlic</strong>, <strong>GitHub</strong>, <strong>GitLab</strong>, <strong>Bitbucket</strong>, <strong>Azure DevOps</strong> и др.</p>
<p>Функциональность:</p>
<ul>
<li>инвентаризация сторонних компонентов в репозиториях;</li>
<li>обнаружение уязвимостей и потенциально опасных компонентов;</li>
<li>поиск секретов;</li>
<li>анализ <a href="#tqi">качества разработки</a>.</li>
</ul>
<h2 id="integration-stages-_4">Сборка программных продуктов<a class="headerlink" href="#integration-stages-_4" title="Permanent link">&para;</a></h2>
<p><img alt="CI" src="/assets/img/integration/integration-ci.png" /></p>
<p>На этапе сборки CodeScoring обеспечивает анализ программного обеспечения в конвейере CI/CD и выполняет проверку используемых артефактов.</p>
<p>Поддерживаются инструменты автоматизации: <strong>GitLab CI/CD</strong>, <strong>Jenkins</strong>, <strong>Bitbucket Pipelines</strong>, <strong>TeamCity</strong>, <strong>Bamboo</strong>, <strong>GitFlic</strong> и др.</p>
<p>Функциональность:</p>
<ul>
<li>автоматическое формирование перечня программных компонентов (SBOM);</li>
<li>обнаружение уязвимостей и потенциально опасных компонентов;</li>
<li>анализ лицензионной совместимости;</li>
<li>контроль соответствия сборки политикам безопасности.</li>
</ul>
<p>Анализ выполняется с помощью агента <a href="#agent">Johnny</a>, доступного как бинарный файл или контейнерный образ. При нарушении политик безопасности агент завершает выполнение с соответствующим кодом ошибки, что позволяет остановить сборку до попадания небезопасного артефакта в релиз.</p>
<h2 id="integration-stages-_5">Сопровождение после релиза<a class="headerlink" href="#integration-stages-_5" title="Permanent link">&para;</a></h2>
<p><img alt="VCS" src="/assets/img/integration/integration-vcs.png" /></p>
<p>После публикации продукта CodeScoring обеспечивает непрерывный мониторинг безопасности исходного кода и состава компонентов. Это позволяет своевременно реагировать на появление новых уязвимостей и угроз в уже выпущенных версиях.</p>
<p>Функциональность:</p>
<ul>
<li>периодическое сканирование исходного кода и компонентов (SBOM);</li>
<li>автоматическое обновление данных об угрозах;</li>
<li>отправка уведомлений через Email и менеджеры задач;</li>
<li>интеграция с <strong>ASPM/SIEM</strong>-системами.</li>
</ul></section><section class="print-page" id="supported-package-managers" heading-number="2.3"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#supported-package-managers.en">English</a></li>
</ul>
<h1 id="supported-package-managers-_1">Поддерживаемые экосистемы и способы анализа<a class="headerlink" href="#supported-package-managers-_1" title="Permanent link">&para;</a></h1>
<h2 id="supported-package-managers-_2">Манифесты<a class="headerlink" href="#supported-package-managers-_2" title="Permanent link">&para;</a></h2>
<p>Для поиска зависимостей CodeScoring в первую очередь опирается на разбор файлов манифестов пакетных менеджеров. Платформа поддерживает разбор следующих технологий:</p>
<table>
<thead>
<tr>
<th>Экосистема <div style="width:140px"></th>
<th style="text-align: left;">Пакетный менеджер или инструмент сборки <div style="width:280px"></th>
<th style="text-align: left;">Формат файла <div style="width:250px"></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Java и Kotlin</strong></td>
<td style="text-align: left;">Gradle</td>
<td style="text-align: left;"><code>*.gradle</code><br/><code>*.gradle.kts</code><br/><code>gradle-dependency-tree.txt</code><br/><code>gradle.lockfile</code></td>
</tr>
<tr>
<td></td>
<td style="text-align: left;">Maven</td>
<td style="text-align: left;"><code>pom.xml</code><br/><code>maven-dependency-tree.txt</code></td>
</tr>
<tr>
<td></td>
<td style="text-align: left;">Apache Ivy</td>
<td style="text-align: left;"><code>ivy.xml</code></td>
</tr>
<tr>
<td><strong>JavaScript и TypeScript</strong></td>
<td style="text-align: left;">npm</td>
<td style="text-align: left;"><code>package.json</code><br/><code>package-lock.json</code><br/><code>npm-shrinkwrap.json</code></td>
</tr>
<tr>
<td></td>
<td style="text-align: left;">yarn</td>
<td style="text-align: left;"><code>yarn.lock</code><br/><code>package.json</code><br/><code>package-lock.json</code></td>
</tr>
<tr>
<td></td>
<td style="text-align: left;">pnpm</td>
<td style="text-align: left;"><code>pnpm-lock.yaml</code></td>
</tr>
<tr>
<td></td>
<td style="text-align: left;">bun</td>
<td style="text-align: left;"><code>bun.lock</code></td>
</tr>
<tr>
<td><strong>Python</strong></td>
<td style="text-align: left;">pip</td>
<td style="text-align: left;"><code>requirements.txt</code><br/><code>requirements.pip</code><br/><code>requires.txt</code><br/><code>pip-resolved-dependencies.txt</code><br/><code>pipdeptree.txt</code></td>
</tr>
<tr>
<td></td>
<td style="text-align: left;">Poetry</td>
<td style="text-align: left;"><code>pyproject.toml</code><br/><code>poetry.lock</code></td>
</tr>
<tr>
<td></td>
<td style="text-align: left;">Pipenv</td>
<td style="text-align: left;"><code>Pipfile</code><br/><code>Pipfile.lock</code></td>
</tr>
<tr>
<td></td>
<td style="text-align: left;">Conda</td>
<td style="text-align: left;"><code>environment.yml</code><br/><code>meta.yml</code><br/><code>conda-lock.yml</code></td>
</tr>
<tr>
<td></td>
<td style="text-align: left;">uv</td>
<td style="text-align: left;"><code>pyproject.toml</code><br/><code>uv.lock</code></td>
</tr>
<tr>
<td><strong>C и C++</strong></td>
<td style="text-align: left;">Conan</td>
<td style="text-align: left;"><code>conanfile.txt</code><br/><code>conan.lock</code><br/><code>conanfile.py</code></td>
</tr>
<tr>
<td></td>
<td style="text-align: left;">GCC, Clang, CMake, Make и др.</td>
<td style="text-align: left;"><a href="#agent-scan-build">Сканирование сборки</a></td>
</tr>
<tr>
<td><strong>Go</strong></td>
<td style="text-align: left;">Go Modules</td>
<td style="text-align: left;"><code>go.mod</code><br/><code>go.sum</code></td>
</tr>
<tr>
<td><strong>PHP</strong></td>
<td style="text-align: left;">Composer</td>
<td style="text-align: left;"><code>composer.json</code><br/><code>composer.lock</code></td>
</tr>
<tr>
<td><strong>Ruby</strong></td>
<td style="text-align: left;">RubyGems</td>
<td style="text-align: left;"><code>Gemfile</code><br/><code>Gemfile.lock</code><br/><code>*.gemspec</code><br/><code>gems.locked</code><br/><code>gems.rb</code></td>
</tr>
<tr>
<td><strong>.NET</strong></td>
<td style="text-align: left;">Nuget</td>
<td style="text-align: left;"><code>*.nuspec</code><br/><code>packages.lock.json</code><br/><code>Project.json</code><br/><code>Project.lock.json</code><br/><code>packages.config</code><br/><code>*.csproj</code><br/><code>project.assets.json</code><br/><code>dependencyReport.json</code><br/><code>deps.json</code><br/><code>*.sln</code></td>
</tr>
<tr>
<td></td>
<td style="text-align: left;">Paket</td>
<td style="text-align: left;"><code>paket.dependencies</code><br/><code>paket.lock</code></td>
</tr>
<tr>
<td><strong>Objective-C</strong></td>
<td style="text-align: left;">CocoaPods</td>
<td style="text-align: left;"><code>Podfile</code><br/><code>Podfile.lock</code><br/><code>*.podspec</code></td>
</tr>
<tr>
<td><strong>Swift</strong></td>
<td style="text-align: left;">Swift Package Manager</td>
<td style="text-align: left;"><code>Package.swift</code><br/><code>Package.resolved</code></td>
</tr>
<tr>
<td><strong>Rust</strong></td>
<td style="text-align: left;">Cargo</td>
<td style="text-align: left;"><code>Cargo.toml</code><br/><code>Cargo.lock</code></td>
</tr>
<tr>
<td><strong>Scala</strong></td>
<td style="text-align: left;">sbt</td>
<td style="text-align: left;"><code>scala-dependency-tree.txt</code><br/><code>sbt-dependency-tree.txt</code></td>
</tr>
</tbody>
</table>
<p>Лучший результат будет при наличии основного файла манифеста и соответствующего lock-файла, если он предусмотрен механизмом пакетного менеджера.</p>
<h2 id="supported-package-managers-purl">Типы PURL и компонентов<a class="headerlink" href="#supported-package-managers-purl" title="Permanent link">&para;</a></h2>
<p>Для унифицированного описания зависимостей CodeScoring использует стандарт <strong><a href="https://github.com/package-url/purl-spec">Package URL (PURL)</a></strong>.</p>
<div class="admonition example">
<p class="admonition-title">Пример PURL</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#supported-package-managers-__codelineno-0-1"></a>pkg:maven/org.apache.logging.log4j/log4j-core@2.17.2
</code></pre></div>
</div>
<p>При анализе SBOM через <a href="#agent-scan-bom">команду агента</a> или <a href="#on-premise-how-to-projects-sbom">импорте в платформу</a> CodeScoring распознаёт и поддерживает следующие типы PURL в соответствии со спецификацией:</p>
<table>
<thead>
<tr>
<th>Тип PURL</th>
<th>Описание</th>
<th>Спецификация</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>cocoapods</code></td>
<td>Библиотеки для <strong>Objective-C / Swift</strong> через CocoaPods</td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/cocoapods-definition.md">CocoaPods Definition</a></td>
</tr>
<tr>
<td><code>conan</code></td>
<td>Пакеты экосистемы <strong>C / C++ (Conan)</strong></td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/conan-definition.md">Conan Definition</a></td>
</tr>
<tr>
<td><code>conda</code></td>
<td>Пакеты экосистемы <strong>Python / Conda</strong></td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/conda-definition.md">Conda Definition</a></td>
</tr>
<tr>
<td><code>nuget</code></td>
<td>Компоненты <strong>.NET / NuGet</strong></td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/nuget-definition.md">NuGet Definition</a></td>
</tr>
<tr>
<td><code>golang</code></td>
<td>Пакеты <strong>Go Modules</strong></td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/golang-definition.md">Go Definition</a></td>
</tr>
<tr>
<td><code>maven</code></td>
<td>Артефакты <strong>Java / Kotlin</strong> (Maven / Gradle)</td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/maven-definition.md">Maven Definition</a></td>
</tr>
<tr>
<td><code>npm</code></td>
<td>Пакеты <strong>JavaScript / TypeScript</strong></td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/npm-definition.md">NPM Definition</a></td>
</tr>
<tr>
<td><code>composer</code></td>
<td>Пакеты <strong>PHP (Composer)</strong></td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/composer-definition.md">Composer Definition</a></td>
</tr>
<tr>
<td><code>pypi</code></td>
<td>Пакеты <strong>Python (PyPI)</strong></td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/pypi-definition.md">PyPI Definition</a></td>
</tr>
<tr>
<td><code>gem</code></td>
<td>Пакеты <strong>Ruby (RubyGems)</strong></td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/gem-definition.md">RubyGems Definition</a></td>
</tr>
<tr>
<td><code>cargo</code></td>
<td>Пакеты <strong>Rust (Cargo)</strong></td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/cargo-definition.md">Cargo Definition</a></td>
</tr>
<tr>
<td><code>generic</code></td>
<td>Общий тип для произвольных бинарных или кастомных артефактов</td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/generic-definition.md">Generic Definition</a></td>
</tr>
<tr>
<td><code>apk</code></td>
<td>Системные пакеты <strong>Alpine Linux</strong></td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/apk-definition.md">APK Definition</a></td>
</tr>
<tr>
<td><code>deb</code></td>
<td>Системные пакеты <strong>Debian / Ubuntu</strong></td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/deb-definition.md">DEB Definition</a></td>
</tr>
<tr>
<td><code>rpm</code></td>
<td>Системные пакеты <strong>RHEL / CentOS / Fedora</strong></td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/rpm-definition.md">RPM Definition</a></td>
</tr>
<tr>
<td><code>swift</code></td>
<td>Пакеты <strong>Swift Package Manager</strong></td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/swift-definition.md">Swift Definition</a></td>
</tr>
<tr>
<td><code>oci</code></td>
<td>Контейнерные образы <strong>OCI / Docker</strong></td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/oci-definition.md">OCI Definition</a></td>
</tr>
<tr>
<td><code>docker</code></td>
<td>Образы <strong>Docker Hub / Docker</strong></td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/docker-definition.md">Docker Definition</a></td>
</tr>
<tr>
<td><code>github</code></td>
<td>Репозитории <strong>GitHub</strong></td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/github-definition.md">GitHub Definition</a></td>
</tr>
<tr>
<td><code>huggingface</code></td>
<td>Модели <strong>Hugging Face Hub</strong></td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/huggingface-definition.md">HuggingFace Definition</a></td>
</tr>
<tr>
<td><code>mlflow</code></td>
<td>Модели <strong>MLflow Model Registry</strong></td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/mlflow-definition.md">MLflow Definition</a></td>
</tr>
<tr>
<td><code>pub</code></td>
<td>Пакеты <strong>Dart / Flutter (pub.dev)</strong></td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/pub-definition.md">Pub Definition</a></td>
</tr>
<tr>
<td><code>swid</code></td>
<td><strong>SWID-теги (Software Identification Tags)</strong></td>
<td><a href="https://github.com/package-url/purl-spec/blob/main/types-doc/swid-definition.md">SWID Definition</a></td>
</tr>
</tbody>
</table>
<p>Каждый компонент с PURL классифицируется по типу, который CodeScoring распознаёт при импорте SBOM-файлов. Тип указывается в поле <code>type</code> внутри описания компонента.</p>
<div class="admonition note">
<p class="admonition-title">Различие типов PURL и компонентов</p>
<p>Тип компонента описывает его функциональную роль внутри продукта — например, библиотека, фреймворк или встроенное ПО. Тип PURL, в свою очередь, определяет экосистему и источник, из которого этот компонент был получен.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Пример компонента в SBOM</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#supported-package-managers-__codelineno-1-1"></a><span class="p">{</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#supported-package-managers-__codelineno-1-2"></a><span class="w">  </span><span class="nt">&quot;components&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#supported-package-managers-__codelineno-1-3"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#supported-package-managers-__codelineno-1-4"></a><span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;log4j-core&quot;</span><span class="p">,</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#supported-package-managers-__codelineno-1-5"></a><span class="w">      </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.17.2&quot;</span><span class="p">,</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#supported-package-managers-__codelineno-1-6"></a><span class="w">      </span><span class="nt">&quot;purl&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pkg:maven/org.apache.logging.log4j/log4j-core@2.17.2&quot;</span><span class="p">,</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#supported-package-managers-__codelineno-1-7"></a><span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;library&quot;</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#supported-package-managers-__codelineno-1-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#supported-package-managers-__codelineno-1-9"></a><span class="w">  </span><span class="p">]</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#supported-package-managers-__codelineno-1-10"></a><span class="p">}</span>
</code></pre></div>
</div>
<p>Поддерживаются следующие типы компонентов:</p>
<table>
<thead>
<tr>
<th>Тип компонента</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>library</strong></td>
<td>Библиотека, пакет или модуль стороннего кода, используемый в проекте.</td>
</tr>
<tr>
<td><strong>framework</strong></td>
<td>Инфраструктурный или прикладной фреймворк, включающий набор библиотек.</td>
</tr>
<tr>
<td><strong>firmware</strong></td>
<td>Исполняемый бинарный образ или встроенное ПО, анализируемое на наличие сторонних компонентов.</td>
</tr>
</tbody>
</table>
<h2 id="supported-package-managers-_3">Системные пакеты<a class="headerlink" href="#supported-package-managers-_3" title="Permanent link">&para;</a></h2>
<p>В рамках работы модуля OSA платформа поддерживает разбор системных пакетов следующих форматов:</p>
<ul>
<li><a href="https://www.debian.org/distrib/packages">Debian</a>;</li>
<li><a href="https://docs.alpinelinux.org/user-handbook/0.1a/Working/apk.html">Alpine</a>;</li>
<li><a href="https://rpm.org">RPM</a>;</li>
<li><a href="https://astralinux.ru/">Astra Linux</a>;</li>
<li><a href="https://packages.altlinux.org/en/sisyphus/">ALT Linux</a>;</li>
<li><a href="https://redos.red-soft.ru/">РЕД ОС</a>.</li>
</ul>
<h2 id="supported-package-managers-lock-">Механизм резолва при отсутствии lock-файла<a class="headerlink" href="#supported-package-managers-lock-" title="Permanent link">&para;</a></h2>
<p>При отсутствии lock-файла для некоторых пакетных индексов система выполняет разрешение транзитивных OSS зависимостей следующим образом:</p>
<ul>
<li>Maven<ul>
<li>для формата pom.xml и build.gradle генерация maven-dependency-tree через соответствующий плагин maven</li>
<li>используются Maven версии 3.8.8 и OpenJDK версии 11</li>
</ul>
</li>
<li>PyPi<ul>
<li>генерация poetry.lock с помощью пакетного менеджера Poetry</li>
<li>используется Python версии 3.11.7</li>
</ul>
</li>
<li>NPM<ul>
<li>генерация yarn.lock с помощью пакетного менеджера Yarn</li>
<li>используется Node.js версии 20.9.0</li>
</ul>
</li>
<li>Nuget<ul>
<li>для формата csproj и sln генерация project.assets.json с помощью встроенных инструментов nuget</li>
<li>используется .NET SDK версии 8.0.404</li>
</ul>
</li>
<li>Packagist<ul>
<li>генерация composer.lock с помощью пакетного менеджера Composer</li>
<li>используется PHP версии 8.2.26</li>
</ul>
</li>
<li>Rubygems<ul>
<li>генерация Gemfile.lock с помощью пакетного менеджера Bundler</li>
<li>используется Ruby версии 3.1.2p20</li>
</ul>
</li>
</ul>
<p>Самостоятельная генерация lock-файлов системой не может давать результат в 100% случаев, так как результат часто зависит от окружения.</p>
<h2 id="supported-package-managers-_4">Разрешение зависимостей в окружении<a class="headerlink" href="#supported-package-managers-_4" title="Permanent link">&para;</a></h2>
<p>Пакетные менеджеры некоторых экосистем по умолчанию не включают транзитивные зависимости в манифесты. Для качественного проведения композиционного анализа при работе с ними рекомендуется применять механизм <a href="#agent-resolve">разрешения зависимостей в окружении сборки</a>.</p>
<p>При разрешении зависимостей в окружении система проверяет отсутствие lock-файла, самостоятельно запускает пакетный менеджер или инструмент сборки и формирует полный список компонентов с учетом корректной версии сборки. На данный момент функциональность доступна для следующих экосистем:</p>
<ul>
<li>.NET</li>
<li>Go</li>
<li>Gradle</li>
<li>Maven</li>
<li>npm</li>
<li>Poetry</li>
<li>sbt</li>
<li>yarn</li>
<li>Conda</li>
</ul>
<h2 id="supported-package-managers-_5">Механизм поиска зависимостей по хэшам<a class="headerlink" href="#supported-package-managers-_5" title="Permanent link">&para;</a></h2>
<p>Поиск по хэшам подразумевает определение непосредственного включения библиотек в код проектов путём копирования. В рамках этого механизма происходит хэширование всех файлов проекта и сверка этих сигнатур с известными нам open source библиотеками.</p>
<p>В данный момент поиск по хэшам происходит для следующих индексов пакетных менеджеров по следующим типам файлов:</p>
<ul>
<li>Maven<ul>
<li><code>.jar</code></li>
<li><code>.war</code></li>
<li><code>.ear</code></li>
</ul>
</li>
<li>npm<ul>
<li><code>.min.js</code></li>
</ul>
</li>
<li>PyPI<ul>
<li><code>.whl</code></li>
<li><code>.egg</code></li>
</ul>
</li>
<li>Nuget<ul>
<li><code>.nupkg</code></li>
</ul>
</li>
</ul>
<p>От платформы в облако <strong>не уходят</strong> хэши файлов, размер которых не превышает 512 байт.</p>
<h2 id="supported-package-managers-c-c">Сканирование сборки для языков C и C++<a class="headerlink" href="#supported-package-managers-c-c" title="Permanent link">&para;</a></h2>
<p>В случае, если для сборки C/С++ проекта не используется пакетный менеджер Conan и соответствующие манифесты, для получения списка используемых библиотек можно использовать специальный <a href="#agent-scan-build">режим для анализа вывода процесса сборки</a>.</p>
<p>В данном режиме консольный агент Johnny анализирует процесс сборки, используя флаги компилятора и выявляя использованные библиотеки. Далее с помощью системного кэша определяется местоположение библиотек и их источник.</p></section><section class="print-page" id="standards" heading-number="2.4"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#standards.en">English</a></li>
</ul>
<h1 id="standards-_1">Соответствие стандартам<a class="headerlink" href="#standards-_1" title="Permanent link">&para;</a></h1>
<p>Платформа <strong>CodeScoring</strong> помогает организациям соответствовать стандартам безопасной разработки и требованиям регуляторов.</p>
<p>Система покрывает ключевые практики безопасной разработки, включая контроль качества исходного кода, контроль безопасности стороннего ПО, поиск уязвимостей, поиск конфиденциальной информации (секретов) и реагирование на инциденты безопасности в цепочке поставок.</p>
<h2 id="standards-569392024">ГОСТ Р 56939–2024<a class="headerlink" href="#standards-569392024" title="Permanent link">&para;</a></h2>
<p>ГОСТ Р 56939–2024 <em>«Разработка безопасного программного обеспечения. Общие требования»</em> регламентирует этапы, требования и методы безопасной разработки программного обеспечения, включая архитектурные практики, анализ кода и обработку зависимостей.</p>
<p><strong>CodeScoring обеспечивает выполнение 8 пунктов стандарта из 25:</strong></p>
<table>
<thead>
<tr>
<th>Требование</th>
<th>Модуль реализации</th>
<th>Комментарий</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>5.9 Экспертиза исходного кода</strong></td>
<td>CodeScoring.TQI</td>
<td>Обеспечивается автоматизированная экспертиза качества кода с использованием метрик (цикломатическая сложность, дублирование, динамика изменений). Поддерживается системная оценка качества и сопровождения кода в процессе разработки.</td>
</tr>
<tr>
<td><strong>5.12 Использование безопасной системы сборки ПО</strong> <br> <strong>5.13 Обеспечение безопасности сборочной среды ПО</strong></td>
<td>CodeScoring.OSA, CodeScoring.SCA</td>
<td>Анализируются зависимости, применяемые при сборке, выявляются небезопасные компоненты. Контроль состава ПО выполняется до запуска сборки, что позволяет снизить риск привнесения уязвимостей и ошибок со стороны системы и среды сборки в соответствии с целями 5.12.1.1 и 5.13.1.1.</td>
</tr>
<tr>
<td><strong>5.15 Безопасность используемых секретов</strong></td>
<td>CodeScoring.Secrets</td>
<td>Выполняется поиск ключей, паролей, токенов и других секретов в исходном коде, истории коммитов и конфигурационных файлах. Применяются методы машинного обучения для снижения числа ложноположительных срабатываний.</td>
</tr>
<tr>
<td><strong>5.16 Композиционный анализ</strong></td>
<td>CodeScoring.SCA</td>
<td>Выполняется анализ всех зависимостей, включая транзитивные, с определением их источников, лицензий и известных уязвимостей. Формируется и актуализируется перечень зависимостей (ППК, SBOM), что обеспечивает контроль состава, выявление уязвимостей и применение корректирующих мер в цепочке поставок.</td>
</tr>
<tr>
<td><strong>5.17 Проверка на внедрение вредоносного ПО через цепочку поставок</strong></td>
<td>CodeScoring.OSA, CodeScoring.SCA</td>
<td>Обеспечивается контроль сторонних библиотек и компонентов, используемых в проекте. Реализуется:<br>• <em>5.17.2.4</em> – выявление и контроль предсобранного ПО поставщика;<br>• <em>5.17.2.5</em> – анализ зависимостей на предмет внедрения вредоносного кода (за исключением антивирусной проверки, которая относится к дополнительным средствам защиты).</td>
</tr>
<tr>
<td><strong>5.23 Реагирование на информацию об уязвимостях</strong></td>
<td>CodeScoring.OSA, CodeScoring.SCA, CodeScoring.Secrets</td>
<td>Обеспечивается регулярное обновление базы уязвимостей и автоматическое оповещение о новых рисках. Поддерживается интеграция с корпоративными системами (почта, менеджер задач), что позволяет инициировать своевременное реагирование в рамках политики безопасности организации.</td>
</tr>
<tr>
<td><strong>5.24 Поиск уязвимостей при эксплуатации</strong></td>
<td>CodeScoring.SCA</td>
<td>Реализована возможность регулярной перепроверки выпущенных сборок для рекуррентного поиска уязвимостей. Выполняются оповещения о новых уязвимостях в рамках анализа исходного кода, контейнерных образов и SBOM-файлов на этапе эксплуатации.</td>
</tr>
</tbody>
</table>
<p>Более подробно ознакомиться с функциональностью платформы можно в разделе <a href="#functionality">Функциональные характеристики</a>.</p></section></section>
                    <section class='print-page md-section' id='section-3' heading-number='3'>
                        <h1>Руководство администратора<a class='headerlink' href='#section-3' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="admin-guide" heading-number="3.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#admin-guide.en">English</a></li>
</ul>
<h1 id="admin-guide-_1">Руководство администратора<a class="headerlink" href="#admin-guide-_1" title="Permanent link">&para;</a></h1>
<p>Выберите раздел документации:</p>
<div class="guide-hub">
  <a class="guide-card" href="#on-premise-server-requirements">
    <div class="guide-card__head">
      <span class="guide-card__title">Установка и эксплуатация</span>
    </div>
    <p class="guide-card__text">Требования к установке, варианты развертывания, обслуживание, обновление и диагностика.</p>
  </a>

  <a class="guide-card guide-card--general" href="#on-premise-how-to-activation">
    <div class="guide-card__head">
      <span class="guide-card__title">Настройка платформы</span>
    </div>
    <p class="guide-card__text">Активация системы, управление доступом, LDAP/OIDC и базовые административные настройки.</p>
  </a>
</div></section>
                    <section class='print-page md-section' id='section-3-2' heading-number='3.2'>
                        <h1>Установка и эксплуатация<a class='headerlink' href='#section-3-2' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="on-premise-server-requirements" heading-number="3.2.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-server-requirements.en">English</a></li>
</ul>
<h1 id="on-premise-server-requirements-_1">Требования к установке<a class="headerlink" href="#on-premise-server-requirements-_1" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-server-requirements-_2">Операционная система<a class="headerlink" href="#on-premise-server-requirements-_2" title="Permanent link">&para;</a></h2>
<p>Установка on-premise версии возможна на <strong>GNU/Linux</strong> дистрибутивы (включая отечественные: AstraLinux, AltLinux, RedOS и иные).</p>
<h2 id="on-premise-server-requirements-_3">Ресурсы сервера<a class="headerlink" href="#on-premise-server-requirements-_3" title="Permanent link">&para;</a></h2>
<h3 id="on-premise-server-requirements-_4">Базовые требования для рабочей среды<a class="headerlink" href="#on-premise-server-requirements-_4" title="Permanent link">&para;</a></h3>
<ul>
<li>Минимально допустимые требования для серверов приложения: <strong>32Gb RAM, 16 ядер CPU</strong>.</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Рекомендация по ресурсам</p>
<p>Для установки в рабочей среде не рекомендуется опускаться ниже указанных значений, так как это может приводить к деградации производительности и нестабильной работе платформы.</p>
</div>
<h3 id="on-premise-server-requirements-_5">Требования к сервисам данных<a class="headerlink" href="#on-premise-server-requirements-_5" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>PostgreSQL</strong>: от <strong>32Gb RAM</strong>;</li>
<li><strong>Redis</strong>: от <strong>2Gb RAM</strong>;</li>
<li>Размер <code>shm</code> для <strong>PostgreSQL</strong>: не менее <strong>4Gb</strong>;</li>
<li>При использовании <a href="#on-premise-external-database">внешней базы данных</a> для <strong>PostgreSQL</strong> рекомендуется от <strong>64Gb RAM</strong>.</li>
</ul>
<h3 id="on-premise-server-requirements-_6">Требования к хранилищу<a class="headerlink" href="#on-premise-server-requirements-_6" title="Permanent link">&para;</a></h3>
<ul>
<li>Для модуля <strong>CodeScoring.SCA</strong> при использовании VCS-проектов объем тома <code>analysis-root</code> рассчитывается из размера анализируемых репозиториев, умноженного на три;</li>
<li>Для модуля <strong>CodeScoring.SCA</strong> при использовании CLI-проектов и для модуля <strong>CodeScoring.OSA</strong> отдельные требования по формуле <code>×3</code> не предъявляются;</li>
<li>При оффлайн-установке для базы данных <a href="#feeds">CodeScoring Index</a> необходимо выделять от <strong>300Gb</strong> с запасом под последующие обновления;</li>
</ul>
<h3 id="on-premise-server-requirements-_7">Пример высоконагруженной инсталляции<a class="headerlink" href="#on-premise-server-requirements-_7" title="Permanent link">&para;</a></h3>
<ul>
<li>Сервер базы данных: <strong>96Gb RAM, 24 ядер CPU</strong>;</li>
<li>Сервер приложений: <strong>192Gb RAM, 48 ядер CPU</strong>.</li>
</ul>
<h2 id="on-premise-server-requirements-_8">Поддерживаемые версии внешних сервисов<a class="headerlink" href="#on-premise-server-requirements-_8" title="Permanent link">&para;</a></h2>
<p>При использовании собственных экземпляров баз данных убедитесь, что их версии соответствуют требованиям ниже:</p>
<h3 id="on-premise-server-requirements-redis">Redis<a class="headerlink" href="#on-premise-server-requirements-redis" title="Permanent link">&para;</a></h3>
<ul>
<li>Минимальная версия: <strong>7.0.0</strong>;</li>
<li>Протестированная версия: <strong>7.4.6</strong>.</li>
</ul>
<h3 id="on-premise-server-requirements-postgresql">PostgreSQL<a class="headerlink" href="#on-premise-server-requirements-postgresql" title="Permanent link">&para;</a></h3>
<ul>
<li>Минимальная версия: <strong>15.x</strong> (любая минорная);</li>
<li>Протестированная версия: <strong>15.15</strong>.</li>
</ul>
<p>Использование других мажорных веток не гарантирует корректный результат и может приводить к ошибкам или снижению производительности.</p>
<h2 id="on-premise-server-requirements-_9">Внешние запросы<a class="headerlink" href="#on-premise-server-requirements-_9" title="Permanent link">&para;</a></h2>
<p>Для установки системы должен быть доступен Docker Registry с образами CodeScoring, адрес которого предоставляется вместе с ключом активации.</p>
<p>Для корректной работы с сервера также должен быть доступен адрес <code>index.codescoring.ru</code> с постоянно актуализируемой базой известных пакетов, их атрибутов и уязвимостей.</p>
<p>Из Index API платформа получает обогащенную информацию по найденным зависимостям, их лицензиям и уязвимостями.</p>
<p>Общая архитектура работы представлена на изображении ниже.</p>
<p><img alt="CodeScoring on-premise architecture" src="/assets/img/on-premise-architecture.png" /></p>
<p>Из платформы в облако CodeScoring не отправляется исходный код, но для получения информации по зависимостям и лицензионного контроля отправляются:</p>
<ol>
<li>анонимизированные данные по найденным манифестам пакетных менеджеров и их содержимому;</li>
<li>хэши файлов исходного кода для поиска прямых включений Open Source библиотек в код проектов;</li>
<li>количество активных авторов за последний год;</li>
<li>количество проектов в системе;</li>
<li>версия платформе.</li>
</ol>
<p>Пути манифестов и названия хэшируемых файлов специально анонимизируются. От платформы в облако <strong>не уходят</strong> хэши файлов, размер которых не превышает 512 байт.</p>
<p>Пример содержимого запроса от платформе к Index API с данными по манифестам пакетных менеджеров:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-server-requirements-__codelineno-0-1"></a><span class="p">[</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#on-premise-server-requirements-__codelineno-0-2"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#on-premise-server-requirements-__codelineno-0-3"></a><span class="w">    </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;114bc73d-a9ba-433d-9a3e-f2b29d822204&quot;</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#on-premise-server-requirements-__codelineno-0-4"></a><span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file&quot;</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#on-premise-server-requirements-__codelineno-0-5"></a><span class="w">    </span><span class="nt">&quot;extension&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.txt&quot;</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#on-premise-server-requirements-__codelineno-0-6"></a><span class="w">    </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#on-premise-server-requirements-__codelineno-0-7"></a><span class="w">      </span><span class="nt">&quot;platform&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pypi&quot;</span><span class="p">,</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#on-premise-server-requirements-__codelineno-0-8"></a><span class="w">      </span><span class="nt">&quot;dependencies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#on-premise-server-requirements-__codelineno-0-9"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#on-premise-server-requirements-__codelineno-0-10"></a><span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;django&quot;</span><span class="p">,</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#on-premise-server-requirements-__codelineno-0-11"></a><span class="w">          </span><span class="nt">&quot;requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;==3.0.0&quot;</span><span class="p">,</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#on-premise-server-requirements-__codelineno-0-12"></a><span class="w">          </span><span class="nt">&quot;resolved_requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3.0.0&quot;</span><span class="p">,</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#on-premise-server-requirements-__codelineno-0-13"></a><span class="w">          </span><span class="nt">&quot;env&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dev&quot;</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#on-premise-server-requirements-__codelineno-0-14"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#on-premise-server-requirements-__codelineno-0-15"></a><span class="w">      </span><span class="p">],</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#on-premise-server-requirements-__codelineno-0-16"></a><span class="w">      </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;manifest&quot;</span><span class="p">,</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#on-premise-server-requirements-__codelineno-0-17"></a><span class="w">      </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#on-premise-server-requirements-__codelineno-0-18"></a><span class="w">      </span><span class="nt">&quot;extra&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#on-premise-server-requirements-__codelineno-0-19"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#on-premise-server-requirements-__codelineno-0-20"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#on-premise-server-requirements-__codelineno-0-21"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#on-premise-server-requirements-__codelineno-0-22"></a><span class="w">    </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;efde2364-dc0c-45a9-905a-a487b3361ac7&quot;</span><span class="p">,</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#on-premise-server-requirements-__codelineno-0-23"></a><span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file&quot;</span><span class="p">,</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#on-premise-server-requirements-__codelineno-0-24"></a><span class="w">    </span><span class="nt">&quot;extension&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.xml&quot;</span><span class="p">,</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#on-premise-server-requirements-__codelineno-0-25"></a><span class="w">    </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#on-premise-server-requirements-__codelineno-0-26"></a><span class="w">      </span><span class="nt">&quot;platform&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;maven&quot;</span><span class="p">,</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#on-premise-server-requirements-__codelineno-0-27"></a><span class="w">      </span><span class="nt">&quot;dependencies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#on-premise-server-requirements-__codelineno-0-28"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#on-premise-server-requirements-__codelineno-0-29"></a><span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;org.liquibase:liquibase-core&quot;</span><span class="p">,</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#on-premise-server-requirements-__codelineno-0-30"></a><span class="w">          </span><span class="nt">&quot;requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3.6.2&quot;</span><span class="p">,</span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#on-premise-server-requirements-__codelineno-0-31"></a><span class="w">          </span><span class="nt">&quot;resolved_requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3.6.2&quot;</span><span class="p">,</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#on-premise-server-requirements-__codelineno-0-32"></a><span class="w">          </span><span class="nt">&quot;env&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;compile&quot;</span>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#on-premise-server-requirements-__codelineno-0-33"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#on-premise-server-requirements-__codelineno-0-34"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#on-premise-server-requirements-__codelineno-0-35"></a><span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;xpp3:xpp3&quot;</span><span class="p">,</span>
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#on-premise-server-requirements-__codelineno-0-36"></a><span class="w">          </span><span class="nt">&quot;requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.1.4c&quot;</span><span class="p">,</span>
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#on-premise-server-requirements-__codelineno-0-37"></a><span class="w">          </span><span class="nt">&quot;resolved_requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.1.4c&quot;</span><span class="p">,</span>
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#on-premise-server-requirements-__codelineno-0-38"></a><span class="w">          </span><span class="nt">&quot;env&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;compile&quot;</span>
<a id="__codelineno-0-39" name="__codelineno-0-39" href="#on-premise-server-requirements-__codelineno-0-39"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-0-40" name="__codelineno-0-40" href="#on-premise-server-requirements-__codelineno-0-40"></a><span class="w">      </span><span class="p">],</span>
<a id="__codelineno-0-41" name="__codelineno-0-41" href="#on-premise-server-requirements-__codelineno-0-41"></a><span class="w">      </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;manifest&quot;</span><span class="p">,</span>
<a id="__codelineno-0-42" name="__codelineno-0-42" href="#on-premise-server-requirements-__codelineno-0-42"></a><span class="w">      </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-0-43" name="__codelineno-0-43" href="#on-premise-server-requirements-__codelineno-0-43"></a><span class="w">      </span><span class="nt">&quot;extra&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-0-44" name="__codelineno-0-44" href="#on-premise-server-requirements-__codelineno-0-44"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-45" name="__codelineno-0-45" href="#on-premise-server-requirements-__codelineno-0-45"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-0-46" name="__codelineno-0-46" href="#on-premise-server-requirements-__codelineno-0-46"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-0-47" name="__codelineno-0-47" href="#on-premise-server-requirements-__codelineno-0-47"></a><span class="w">    </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;49dd4c09-b5de-474a-998a-3ce0a94a5221&quot;</span><span class="p">,</span>
<a id="__codelineno-0-48" name="__codelineno-0-48" href="#on-premise-server-requirements-__codelineno-0-48"></a><span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file&quot;</span><span class="p">,</span>
<a id="__codelineno-0-49" name="__codelineno-0-49" href="#on-premise-server-requirements-__codelineno-0-49"></a><span class="w">    </span><span class="nt">&quot;extension&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.txt&quot;</span><span class="p">,</span>
<a id="__codelineno-0-50" name="__codelineno-0-50" href="#on-premise-server-requirements-__codelineno-0-50"></a><span class="w">    </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-51" name="__codelineno-0-51" href="#on-premise-server-requirements-__codelineno-0-51"></a><span class="w">      </span><span class="nt">&quot;platform&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pypi&quot;</span><span class="p">,</span>
<a id="__codelineno-0-52" name="__codelineno-0-52" href="#on-premise-server-requirements-__codelineno-0-52"></a><span class="w">      </span><span class="nt">&quot;dependencies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-0-53" name="__codelineno-0-53" href="#on-premise-server-requirements-__codelineno-0-53"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-0-54" name="__codelineno-0-54" href="#on-premise-server-requirements-__codelineno-0-54"></a><span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;apt-wrapper&quot;</span><span class="p">,</span>
<a id="__codelineno-0-55" name="__codelineno-0-55" href="#on-premise-server-requirements-__codelineno-0-55"></a><span class="w">          </span><span class="nt">&quot;requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;==1.18&quot;</span><span class="p">,</span>
<a id="__codelineno-0-56" name="__codelineno-0-56" href="#on-premise-server-requirements-__codelineno-0-56"></a><span class="w">          </span><span class="nt">&quot;resolved_requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.18&quot;</span><span class="p">,</span>
<a id="__codelineno-0-57" name="__codelineno-0-57" href="#on-premise-server-requirements-__codelineno-0-57"></a><span class="w">          </span><span class="nt">&quot;env&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;runtime&quot;</span>
<a id="__codelineno-0-58" name="__codelineno-0-58" href="#on-premise-server-requirements-__codelineno-0-58"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-0-59" name="__codelineno-0-59" href="#on-premise-server-requirements-__codelineno-0-59"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-0-60" name="__codelineno-0-60" href="#on-premise-server-requirements-__codelineno-0-60"></a><span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;django&quot;</span><span class="p">,</span>
<a id="__codelineno-0-61" name="__codelineno-0-61" href="#on-premise-server-requirements-__codelineno-0-61"></a><span class="w">          </span><span class="nt">&quot;requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;==2.0.0&quot;</span><span class="p">,</span>
<a id="__codelineno-0-62" name="__codelineno-0-62" href="#on-premise-server-requirements-__codelineno-0-62"></a><span class="w">          </span><span class="nt">&quot;resolved_requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0.0&quot;</span><span class="p">,</span>
<a id="__codelineno-0-63" name="__codelineno-0-63" href="#on-premise-server-requirements-__codelineno-0-63"></a><span class="w">          </span><span class="nt">&quot;env&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;runtime&quot;</span>
<a id="__codelineno-0-64" name="__codelineno-0-64" href="#on-premise-server-requirements-__codelineno-0-64"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-0-65" name="__codelineno-0-65" href="#on-premise-server-requirements-__codelineno-0-65"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-0-66" name="__codelineno-0-66" href="#on-premise-server-requirements-__codelineno-0-66"></a><span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text-unidecode&quot;</span><span class="p">,</span>
<a id="__codelineno-0-67" name="__codelineno-0-67" href="#on-premise-server-requirements-__codelineno-0-67"></a><span class="w">          </span><span class="nt">&quot;requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;==1.3&quot;</span><span class="p">,</span>
<a id="__codelineno-0-68" name="__codelineno-0-68" href="#on-premise-server-requirements-__codelineno-0-68"></a><span class="w">          </span><span class="nt">&quot;resolved_requirement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.3&quot;</span><span class="p">,</span>
<a id="__codelineno-0-69" name="__codelineno-0-69" href="#on-premise-server-requirements-__codelineno-0-69"></a><span class="w">          </span><span class="nt">&quot;env&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;runtime&quot;</span>
<a id="__codelineno-0-70" name="__codelineno-0-70" href="#on-premise-server-requirements-__codelineno-0-70"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-0-71" name="__codelineno-0-71" href="#on-premise-server-requirements-__codelineno-0-71"></a><span class="w">      </span><span class="p">],</span>
<a id="__codelineno-0-72" name="__codelineno-0-72" href="#on-premise-server-requirements-__codelineno-0-72"></a><span class="w">      </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;manifest&quot;</span><span class="p">,</span>
<a id="__codelineno-0-73" name="__codelineno-0-73" href="#on-premise-server-requirements-__codelineno-0-73"></a><span class="w">      </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-0-74" name="__codelineno-0-74" href="#on-premise-server-requirements-__codelineno-0-74"></a><span class="w">      </span><span class="nt">&quot;extra&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-0-75" name="__codelineno-0-75" href="#on-premise-server-requirements-__codelineno-0-75"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-76" name="__codelineno-0-76" href="#on-premise-server-requirements-__codelineno-0-76"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-0-77" name="__codelineno-0-77" href="#on-premise-server-requirements-__codelineno-0-77"></a><span class="p">]</span>
</code></pre></div>
<p>Пример содержимого запроса от платформы к Index API с данными по хэшам файлов исходного кода:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#on-premise-server-requirements-__codelineno-1-1"></a><span class="p">[</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#on-premise-server-requirements-__codelineno-1-2"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#on-premise-server-requirements-__codelineno-1-3"></a><span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ca028ad9-0676-4c85-a5b0-9bf81fba6fcc&quot;</span><span class="p">,</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#on-premise-server-requirements-__codelineno-1-4"></a><span class="w">    </span><span class="nt">&quot;ext&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.xml&quot;</span><span class="p">,</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#on-premise-server-requirements-__codelineno-1-5"></a><span class="w">    </span><span class="nt">&quot;sha256&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e01c736a351633932e8b3ed041e553f67968e07d35d2c153b02b60e910a8c433&quot;</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#on-premise-server-requirements-__codelineno-1-6"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#on-premise-server-requirements-__codelineno-1-7"></a><span class="p">]</span>
</code></pre></div></section>
                    <section class='print-page md-section' id='section-3-2-2' heading-number='3.2.2'>
                        <h1>Варианты установки<a class='headerlink' href='#section-3-2-2' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="on-premise-installation" heading-number="3.2.2.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-installation.en">English</a></li>
</ul>
<h1 id="on-premise-installation-_1">Установка системы<a class="headerlink" href="#on-premise-installation-_1" title="Permanent link">&para;</a></h1>
<ol>
<li>Установить Docker Engine под нужную операционную систему в соответствии с документацией: <a href="https://docs.docker.com/engine/install/">https://docs.docker.com/engine/install/</a>.</li>
<li>Авторизоваться в приватном реестре Docker-образов системы «CodeScoring» при помощи команды <code>docker login REGISTRY_URL</code>, используя адрес, логин и пароль, полученные от вендора.</li>
<li>Скачать полученный от вендора архив с установочными файлами, распаковать.</li>
<li>Перейти в консоли в созданную директорию.</li>
<li>
<p>Скопировать шаблонный файл с настройками:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-installation-__codelineno-0-1"></a>cp<span class="w"> </span>app.env.template<span class="w"> </span>app.env
</code></pre></div>
<p>Как правило, для корректной работы никаких изменений в файле не требуется. При необходимости настройки работы <strong>CodeScoring</strong> через прокси, обратите внимание на <a href="#on-premise-proxy">инструкцию</a>.</p>
</li>
<li>
<p>Скопировать шаблонный файл с секретами:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#on-premise-installation-__codelineno-1-1"></a>cp .env.template .env
</code></pre></div>
При необходимости настроить параметры конфигурации в новом файле.
Если не менять параметры в файле, то по умолчанию система будет доступна по адресу <code>http://localhost:8081</code>.</p>
<ul>
<li>Список доменов для правильной работы CSRF защиты. Рекомендуется перечислить localhost на внутреннем и внешнем портах, а также внешний домен (или сочетание ip:порт). Указание протокола является обязательным, например:<ul>
<li><code>DJANGO_CSRF_TRUSTED_ORIGINS=http://localhost:18000,https://localhost:8081,https://внешний ip:8081</code></li>
</ul>
</li>
<li>Параметры подключения к базе данных PostgreSQL. База поставляется вместе с установкой. Указание доступов отдельно является мерой предосторожности и контроля. При использовании собственной базы данных необходимо убедиться, что она соответствует <a href="#on-premise-server-requirements-_4">требованиям</a>.<ul>
<li><code>POSTGRES_DB</code> — название базы данных</li>
<li><code>POSTGRES_USER</code> — имя пользователя. При использовании собственной базы необходимо убедиться, что пользователь имеет следующие права: <strong>Superuser</strong>, <strong>Create role</strong>, <strong>Create DB</strong>, <strong>Replication</strong>, <strong>Bypass RLS</strong>.</li>
<li><code>POSTGRES_PASSWORD</code> — пароль</li>
<li><code>POSTGRES_HOST</code> - хост, на котором доступна база данных</li>
<li><code>POSTGRES_PORT</code> - порт, на котором доступна база данных</li>
</ul>
</li>
<li>Секрет платформы<ul>
<li><code>SECRET_KEY</code> — случайная строка символов</li>
</ul>
</li>
<li>Настройки домена системы<ul>
<li><code>NGINX_HOST</code> — хост, на котором будет доступна система</li>
<li><code>NGINX_PORT</code> — порт, на котором будет доступна система</li>
<li><code>SITE_SCHEME</code> - протокол передачи данных, по умолчанию https</li>
</ul>
</li>
<li>Пути исключений<ul>
<li><code>ANALYSIS_IGNORED_PATHS</code> - список путей, которые будут игнорироваться системой при анализе. Подробнее с добавлением путей исключения можно ознакомиться <a href="#on-premise-analysis-ignore-paths">тут</a></li>
</ul>
</li>
<li>Версия системы<ul>
<li><code>CODESCORING_VERSION</code> – обязательная переменная. Актуальную версию можно узнать в разделе <a href="#changelog-on-premise-changelog">Changelog</a></li>
</ul>
</li>
<li>Настройки Docker Compose</li>
<li><code>COMPOSE_PROJECT_NAME</code> - название проекта в Compose, используется как префикс для ресурсов, создаваемых Docker Compose</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Символ #</p>
<p>Не используйте в параметрах символ <code>#</code>, он может некорректно восприниматься системой при установке.</p>
</div>
<div class="admonition note">
<p class="admonition-title">SSL-сертификаты</p>
<p>В случае необходимости работы системы с самоподписанными сертификатами перед запуском прочтите <a href="#on-premise-self-signed-ssl">инструкцию по добавлению сертификата</a>.</p>
</div>
</li>
<li>
<p>Выполнить команду установки CodeScoring (выполнение команды должно быть с правами суперпользователя системы):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#on-premise-installation-__codelineno-2-1"></a>docker<span class="w"> </span>compose<span class="w"> </span>-f<span class="w"> </span>./docker-compose.yml<span class="w"> </span>up<span class="w"> </span>-d<span class="w"> </span>--force-recreate<span class="w"> </span>--remove-orphans<span class="w"> </span>--renew-anon-volumes
</code></pre></div>
</li>
<li>
<p>Для просмотра логов можно использовать команду:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#on-premise-installation-__codelineno-3-1"></a>docker<span class="w"> </span>compose<span class="w"> </span>logs<span class="w"> </span>-f
</code></pre></div>
</li>
<li>
<p>После запуска сервис будет доступен по настроенному домену или адресу <code>http://localhost:8081</code>. При первом запуске дополнительно выполняются миграции базы данных, операция может занять больше времени, чем при последующих запусках.</p>
<p><strong>Примечание</strong>: для работы платформы по протоколу HTTPS нужен внешний балансировщик, который реализует терминирование SSL.</p>
</li>
<li>
<p>Для входа в систему необходимо предварительно создать пользователя с правами администратора с помощью следующей команды:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#on-premise-installation-__codelineno-4-1"></a>docker<span class="w"> </span>compose<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>backend<span class="w"> </span>python<span class="w"> </span>./manage.py<span class="w"> </span>createsuperuser
</code></pre></div>
11. Для изменения пароля администратора можно использовать следующую команду:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#on-premise-installation-__codelineno-5-1"></a>docker<span class="w"> </span>compose<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>backend<span class="w"> </span>python<span class="w"> </span>./manage.py<span class="w"> </span>changepassword<span class="w"> </span>&lt;user_name&gt;
</code></pre></div>
</li>
</ol></section><section class="print-page" id="on-premise-external-database" heading-number="3.2.2.2"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-external-database.en">English</a></li>
</ul>
<h1 id="on-premise-external-database-codescoring-docker-compose">Работа платформы CodeScoring в Docker Compose со внешней СУБД<a class="headerlink" href="#on-premise-external-database-codescoring-docker-compose" title="Permanent link">&para;</a></h1>
<ol>
<li>
<p>В случае, если необходимо использовать схему, отличную от <code>public</code>, необходимо явно задать
<code>search_path</code> для пользователя, включив в него целевую схему, чтобы обеспечить корректное разрешение объектов:
  <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-external-database-__codelineno-0-1"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">USER</span><span class="w"> </span><span class="n">codescoring_user_name</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">search_path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">non_default_schema_name</span><span class="p">;</span>
</code></pre></div></p>
</li>
<li>
<p>Необходимо сконфигурировать соответствующие параметры в файле <code>.env</code>:</p>
<ul>
<li><code>POSTGRES_DB</code></li>
<li><code>POSTGRES_USER</code></li>
<li><code>POSTGRES_PASSWORD</code></li>
<li><code>POSTGRES_HOST</code></li>
<li><code>POSTGRES_PORT</code></li>
</ul>
</li>
<li>
<p>Для администрирования платформы необходимо применять файл <code>external-db.override.yml</code>, который поставляется вместе с файлом <code>docker-compose.yml</code>:</p>
<ul>
<li>Запуск платформы:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#on-premise-external-database-__codelineno-1-1"></a>docker<span class="w"> </span>compose<span class="w"> </span>-f<span class="w"> </span>./docker-compose.yml<span class="w"> </span>-f<span class="w"> </span>external-db.override.yml<span class="w"> </span>up<span class="w"> </span>-d<span class="w"> </span>--force-recreate<span class="w"> </span>--remove-orphans<span class="w"> </span>--renew-anon-volumes
</code></pre></div></li>
<li>Просмотр логов:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#on-premise-external-database-__codelineno-2-1"></a>docker<span class="w"> </span>compose<span class="w"> </span>-f<span class="w"> </span>./docker-compose.yml<span class="w"> </span>-f<span class="w"> </span>external-db.override.yml<span class="w"> </span>logs<span class="w"> </span>-f
</code></pre></div></li>
<li>Остановка платформы:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#on-premise-external-database-__codelineno-3-1"></a><span class="w">  </span>docker<span class="w"> </span>compose<span class="w"> </span>-f<span class="w"> </span>./docker-compose.yml<span class="w"> </span>-f<span class="w"> </span>external-db.override.yml<span class="w"> </span>down<span class="w"> </span>--remove-orphans
</code></pre></div></li>
</ul>
</li>
</ol></section><section class="print-page" id="on-premise-installation-in-k8s" heading-number="3.2.2.3"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-installation-in-k8s.en">English</a></li>
</ul>
<h1 id="on-premise-installation-in-k8s-kubernetes">Работа системы в Kubernetes<a class="headerlink" href="#on-premise-installation-in-k8s-kubernetes" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-installation-in-k8s-helm-installation-default">Установка с помощью Helm-чарта c параметрами по умолчанию<a class="headerlink" href="#on-premise-installation-in-k8s-helm-installation-default" title="Permanent link">&para;</a></h2>
<p><strong>Важно!</strong>: Данный вариант установки не предоставляет возможность горизонтального масштабирования CodeScoring. Для установки CodeScoring с поддержкой горизонтального масштабирования обратитесь к соответствующему разделу документации ниже.</p>
<p><strong>Важно!</strong>: Необходимо наличие настроенного default <code>StorageClass</code> в кластере. По умолчанию создаются тома <strong>объемом 20 GiB</strong></p>
<p><strong>Порядок установки:</strong></p>
<ol>
<li>
<p>Создать namespace.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-installation-in-k8s-__codelineno-0-1"></a>kubectl create namespace codescoring
</code></pre></div>
</li>
<li>
<p>Создать secret для доступа к приватному реестру Docker-образов системы "CodeScoring", используя адрес (<code>REGISTRY_URL</code>), логин (<code>USERNAME</code>) и пароль (<code>PASSWORD</code>), полученные от вендора.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#on-premise-installation-in-k8s-__codelineno-1-1"></a>kubectl create secret docker-registry codescoring-regcred --docker-server=REGISTRY_URL --docker-username=USERNAME --docker-password=PASSWORD -n codescoring
</code></pre></div>
</li>
<li>
<p>Установить <a href="https://helm.sh/docs/intro/install/">Helm</a> предпочтительным способом.</p>
</li>
<li>
<p>Выполнить следующие команды для добавления актуального Helm-репозитория на локальную машину:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#on-premise-installation-in-k8s-__codelineno-2-1"></a>helm repo add codescoring-org https://{REGISTRY_URL}/repository/helm/ --username USERNAME --password PASSWORD
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#on-premise-installation-in-k8s-__codelineno-2-2"></a>helm repo update
</code></pre></div>
</li>
<li>
<p>Создать файл <code>values.yaml</code> со следующим содержимым:</p>
<p><strong>Важно!</strong>: Пожалуйста, замените значения в полях с чувствительными данными на собственные. К таким полям относятся <code>secretKey</code>, <code>defaultSuperuserUsername</code>, <code>defaultSuperuserPassword</code>, <code>defaultSuperuserEmail</code>, а также все поля, содержащие <code>username</code> или <code>password</code>. Также важно учитывать, что все подобные переменные являются обязательными.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#on-premise-installation-in-k8s-__codelineno-3-1"></a>pgbouncer:
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#on-premise-installation-in-k8s-__codelineno-3-2"></a>  enabled: true
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#on-premise-installation-in-k8s-__codelineno-3-3"></a>  postgresql:
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#on-premise-installation-in-k8s-__codelineno-3-4"></a>    host: &quot;codescoring-postgresql&quot;
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#on-premise-installation-in-k8s-__codelineno-3-5"></a>    port: 5432
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#on-premise-installation-in-k8s-__codelineno-3-6"></a>    username: &quot;codescoring&quot;
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#on-premise-installation-in-k8s-__codelineno-3-7"></a>    password: &quot;changeme&quot;
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#on-premise-installation-in-k8s-__codelineno-3-8"></a>    database: &quot;codescoring&quot;
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#on-premise-installation-in-k8s-__codelineno-3-9"></a>  config:
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#on-premise-installation-in-k8s-__codelineno-3-10"></a>    transactionPoolSize: 50
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#on-premise-installation-in-k8s-__codelineno-3-11"></a>    transactionPoolMinSize: 1
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#on-premise-installation-in-k8s-__codelineno-3-12"></a>    sessionPoolSize: 50
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#on-premise-installation-in-k8s-__codelineno-3-13"></a>    sessionPoolMinSize: 1
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#on-premise-installation-in-k8s-__codelineno-3-14"></a>    transactionPoolDatabaseName: &quot;codescoring&quot;
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#on-premise-installation-in-k8s-__codelineno-3-15"></a>    sessionPoolDatabaseName: &quot;codescoring-session&quot;
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#on-premise-installation-in-k8s-__codelineno-3-16"></a>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#on-premise-installation-in-k8s-__codelineno-3-17"></a>codescoring:
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#on-premise-installation-in-k8s-__codelineno-3-18"></a>  config:
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#on-premise-installation-in-k8s-__codelineno-3-19"></a>    ## codescoring-backend configuration parameters
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#on-premise-installation-in-k8s-__codelineno-3-20"></a>    siteScheme: https # схема сайта http или https
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#on-premise-installation-in-k8s-__codelineno-3-21"></a>    siteHost: &quot;codescoring.k8s.local&quot; # домен, по которому будет доступен CodeScoring
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#on-premise-installation-in-k8s-__codelineno-3-22"></a>    djangoCSRFTrustedOptions: &quot;https://codescoring.k8s.local&quot; # Домен, по которому будет доступен CodeScoring, включая схему
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#on-premise-installation-in-k8s-__codelineno-3-23"></a>    secretKey: &quot;&quot; # секретный ключ для бэкенда приложения, случайная строка символов
<a id="__codelineno-3-24" name="__codelineno-3-24" href="#on-premise-installation-in-k8s-__codelineno-3-24"></a>    defaultSuperuserUsername: &quot;admin&quot; # имя администратора в системе
<a id="__codelineno-3-25" name="__codelineno-3-25" href="#on-premise-installation-in-k8s-__codelineno-3-25"></a>    defaultSuperuserPassword: &quot;changeme&quot; # пароль администратора в системе
<a id="__codelineno-3-26" name="__codelineno-3-26" href="#on-premise-installation-in-k8s-__codelineno-3-26"></a>    defaultSuperuserEmail: &quot;mail@example.com&quot; # e-mail администратора в системе
<a id="__codelineno-3-27" name="__codelineno-3-27" href="#on-premise-installation-in-k8s-__codelineno-3-27"></a>    databaseHost: pgbouncer
<a id="__codelineno-3-28" name="__codelineno-3-28" href="#on-premise-installation-in-k8s-__codelineno-3-28"></a>    databasePort: 6432
<a id="__codelineno-3-29" name="__codelineno-3-29" href="#on-premise-installation-in-k8s-__codelineno-3-29"></a>    postgresqlDatabase: &quot;codescoring&quot;
<a id="__codelineno-3-30" name="__codelineno-3-30" href="#on-premise-installation-in-k8s-__codelineno-3-30"></a>    postgresqlUsername: &quot;codescoring&quot;
<a id="__codelineno-3-31" name="__codelineno-3-31" href="#on-premise-installation-in-k8s-__codelineno-3-31"></a>    postgresqlPassword: &quot;changeme&quot;
<a id="__codelineno-3-32" name="__codelineno-3-32" href="#on-premise-installation-in-k8s-__codelineno-3-32"></a>
<a id="__codelineno-3-33" name="__codelineno-3-33" href="#on-premise-installation-in-k8s-__codelineno-3-33"></a>  frontend:
<a id="__codelineno-3-34" name="__codelineno-3-34" href="#on-premise-installation-in-k8s-__codelineno-3-34"></a>    ingress:
<a id="__codelineno-3-35" name="__codelineno-3-35" href="#on-premise-installation-in-k8s-__codelineno-3-35"></a>      enabled: true
<a id="__codelineno-3-36" name="__codelineno-3-36" href="#on-premise-installation-in-k8s-__codelineno-3-36"></a>      className: &quot;nginx&quot;
<a id="__codelineno-3-37" name="__codelineno-3-37" href="#on-premise-installation-in-k8s-__codelineno-3-37"></a>      hosts:
<a id="__codelineno-3-38" name="__codelineno-3-38" href="#on-premise-installation-in-k8s-__codelineno-3-38"></a>        - host: codescoring.k8s.local # домен, по которому будет доступен CodeScoring
<a id="__codelineno-3-39" name="__codelineno-3-39" href="#on-premise-installation-in-k8s-__codelineno-3-39"></a>          paths:
<a id="__codelineno-3-40" name="__codelineno-3-40" href="#on-premise-installation-in-k8s-__codelineno-3-40"></a>            - path: /
<a id="__codelineno-3-41" name="__codelineno-3-41" href="#on-premise-installation-in-k8s-__codelineno-3-41"></a>              pathType: ImplementationSpecific
</code></pre></div>
</li>
<li>
<p>Выполнить команду для установки чарта
    <div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#on-premise-installation-in-k8s-__codelineno-4-1"></a>helm install codescoring codescoring-org/codescoring -n codescoring -f values.yaml --create-namespace --atomic --version CHART_VERSION
</code></pre></div></p>
</li>
</ol>
<h2 id="on-premise-installation-in-k8s-changing-admin-password">Изменение пароля администратора<a class="headerlink" href="#on-premise-installation-in-k8s-changing-admin-password" title="Permanent link">&para;</a></h2>
<p>Для изменения пароля администратора без ручного редактирования файла <code>values.yaml</code> можно использовать следующую команду:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#on-premise-installation-in-k8s-__codelineno-5-1"></a>kubectl<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>your-backend-pod<span class="w"> </span>--<span class="w"> </span>python<span class="w"> </span>manage.py<span class="w"> </span>changepassword<span class="w"> </span>&lt;user_name&gt;
</code></pre></div>
<h2 id="on-premise-installation-in-k8s-extended-helm-parameters">Расширенные настройки параметров Helm-чарта<a class="headerlink" href="#on-premise-installation-in-k8s-extended-helm-parameters" title="Permanent link">&para;</a></h2>
<p><strong>Важно!</strong>: Настоятельно рекомендуется вносить необходимые изменения <strong>до установки CodeScoring</strong>, в противном случае может потребоваться полная переустановка системы. Данные инструкции предполагают, что <strong>специалист имеет опыт работы с кластером Kubernetes и утилитой Helm</strong>.</p>
<p>Для удобного редактирования параметров CodeScoring можно скачать и распаковать исходный код Helm-чарта командой:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#on-premise-installation-in-k8s-__codelineno-6-1"></a>helm pull codescoring-org/codescoring --version CHART_VERSION --untar --untardir codescoring-src &amp;&amp; cd codescoring-src
</code></pre></div>
<p>В файле <code>values.yaml</code> можно отредактировать нужные переменные, и после этого, находясь в каталоге с исходным кодом Helm-чарта, выполнить команду установки
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#on-premise-installation-in-k8s-__codelineno-7-1"></a>helm install codescoring . -f values.yaml -n codescoring --atomic --version CHART_VERSION
</code></pre></div></p>
<h3 id="on-premise-installation-in-k8s-external-databases">Подключение к внешним PostgreSQL и Redis<a class="headerlink" href="#on-premise-installation-in-k8s-external-databases" title="Permanent link">&para;</a></h3>
<p>По умолчанию PostgreSQL и Redis запускаются в отдельных <code>StatefulSet</code>. Данный вариант может не подходить для использования в <strong>production-окружении</strong> , т.к. не является отказоустойчивым.</p>
<p><strong>Важно</strong>: При использовании собственной базы данных необходимо убедиться, что она соответствует <a href="#on-premise-server-requirements-_4">требованиям</a>.</p>
<h4 id="on-premise-installation-in-k8s-external-redis">Подключение к внешнему Redis<a class="headerlink" href="#on-premise-installation-in-k8s-external-redis" title="Permanent link">&para;</a></h4>
<p>Для подключения к внешнему Redis, необходимо выполнить следующие действия:</p>
<ol>
<li>Отключить развертывание Redis, указав переменную -  <code>redis.enabled: false</code></li>
<li>В переменных <code>codescoring.config.djangoCachesRedisUrls</code> и <code>codescoring.config.hueyRedisUrl</code> указать строки подключения для внешнего Redis.</li>
</ol>
<h5 id="on-premise-installation-in-k8s-external-redis-tls">Подключение к внешнему Redis с использованием TLS<a class="headerlink" href="#on-premise-installation-in-k8s-external-redis-tls" title="Permanent link">&para;</a></h5>
<p>Для подключения к внешнему Redis с использованием TLS, дополнительно необходимо:</p>
<ol>
<li>Задать значение <code>true</code> в переменной <code>codescoring.trustedCA.enabled</code></li>
<li>Добавить корневой сертификат сервера Redis в <code>codescoring.trustedCA.certificates</code></li>
<li>В переменных <code>codescoring.config.djangoCachesRedisUrls</code> и <code>codescoring.config.hueyRedisUrl</code> указать строки подключения для внешнего Redis в формате <code>rediss://redis.example.com:6379/0</code>, где 0 - номер базы данных в Redis.</li>
</ol>
<h4 id="on-premise-installation-in-k8s-external-postgres">Подключение к PostgreSQL через пулер Pgbouncer<a class="headerlink" href="#on-premise-installation-in-k8s-external-postgres" title="Permanent link">&para;</a></h4>
<p><strong>Важно!</strong>: Подключение к внешней PostgreSQL необходимо выполнять с использованием пулера соединений.</p>
<p>Данный вариант подходит, если в существующей инфраструктуре уже развернута PostgreSQL, но пулер соединений не используется. Helm-чарт развернет пулер <a href="https://github.com/pgbouncer/pgbouncer">Pgbouncer</a> и подключит его к существующей PostgreSQL. Необходимо выполнить следующие действия:</p>
<ol>
<li>
<p>Отключить развертывание PostgreSQL, указав переменную - <code>postgresql.enabled: false</code></p>
</li>
<li>
<p>Подключить пулер Pgbouncer к внешней PostgreSQL, заменив соответствующие параметры на нужные:
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#on-premise-installation-in-k8s-__codelineno-8-1"></a>pgbouncer:
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#on-premise-installation-in-k8s-__codelineno-8-2"></a>  postgresql:
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#on-premise-installation-in-k8s-__codelineno-8-3"></a>    host: &quot;postgresql.example.host&quot;
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#on-premise-installation-in-k8s-__codelineno-8-4"></a>    port: 5432
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#on-premise-installation-in-k8s-__codelineno-8-5"></a>    username: &quot;codescoring&quot;
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#on-premise-installation-in-k8s-__codelineno-8-6"></a>    password: &quot;changeme&quot;
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#on-premise-installation-in-k8s-__codelineno-8-7"></a>    database: &quot;codescoring&quot;
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#on-premise-installation-in-k8s-__codelineno-8-8"></a>  config:
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#on-premise-installation-in-k8s-__codelineno-8-9"></a>    transactionPoolSize: 50
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#on-premise-installation-in-k8s-__codelineno-8-10"></a>    transactionPoolMinSize: 1
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#on-premise-installation-in-k8s-__codelineno-8-11"></a>    sessionPoolSize: 50
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#on-premise-installation-in-k8s-__codelineno-8-12"></a>    sessionPoolMinSize: 1
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#on-premise-installation-in-k8s-__codelineno-8-13"></a>    transactionPoolDatabaseName: &quot;codescoring&quot;
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#on-premise-installation-in-k8s-__codelineno-8-14"></a>    sessionPoolDatabaseName: &quot;codescoring-session&quot;
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#on-premise-installation-in-k8s-__codelineno-8-15"></a>codescoring:
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#on-premise-installation-in-k8s-__codelineno-8-16"></a>  config:
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#on-premise-installation-in-k8s-__codelineno-8-17"></a>    databaseHost: pgbouncer
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#on-premise-installation-in-k8s-__codelineno-8-18"></a>    databasePort: 6432
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#on-premise-installation-in-k8s-__codelineno-8-19"></a>    postgresqlDatabase: &quot;codescoring&quot;
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#on-premise-installation-in-k8s-__codelineno-8-20"></a>    postgresqlUsername: &quot;codescoring&quot;
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#on-premise-installation-in-k8s-__codelineno-8-21"></a>    postgresqlPassword: &quot;changeme&quot;
</code></pre></div></p>
</li>
</ol>
<h4 id="on-premise-installation-in-k8s-external-postgres-pooler">Подключение к внешнему пулеру PostgreSQL<a class="headerlink" href="#on-premise-installation-in-k8s-external-postgres-pooler" title="Permanent link">&para;</a></h4>
<p>Данный вариант подходит, если в существующей инфраструктуре уже развернута PostgreSQL и пулер соединений (например, PgBouncer).
В этом случае развертывание пулера Pgbouncer не требуется. Необходимо выполнить следующие действия:</p>
<ol>
<li>Отключить развертывание PostgreSQL, указав переменную - <code>postgresql.enabled: false</code></li>
<li>Отключить развертывание Pgbouncer, указав переменную - <code>pgbouncer.enabled: false</code></li>
<li>Подключить codescoring напрямую к внешнему пулеру, в секции <code>codescoring.config</code> параметры:</li>
</ol>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#on-premise-installation-in-k8s-__codelineno-9-1"></a>posgtresqlHost: &quot;external-pooler.example.host&quot;
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#on-premise-installation-in-k8s-__codelineno-9-2"></a>posgtresqlPort: 5432
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#on-premise-installation-in-k8s-__codelineno-9-3"></a>postgresqlDatabase: &quot;codescoring&quot;
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#on-premise-installation-in-k8s-__codelineno-9-4"></a>postgresqlUsername: &quot;codescoring&quot;
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#on-premise-installation-in-k8s-__codelineno-9-5"></a>postgresqlPassword: &quot;changeme&quot;
</code></pre></div>
4. Включить использование внешнего пулера и настроить параметры подключения в секции <code>codescoring.config.externalPooler</code>:</p>
<p><strong>Важно!</strong>: Внешний пулер соединений должен поддерживать работу в двух режимах: транзакционном и сессионном. Данные для подключения к пулам указываются в соответствующих секциях: <code>externalPooler.transactionPool</code> и <code>externalPooler.sessionPool</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#on-premise-installation-in-k8s-__codelineno-10-1"></a>externalPooler:
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#on-premise-installation-in-k8s-__codelineno-10-2"></a>  enabled: true
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#on-premise-installation-in-k8s-__codelineno-10-3"></a>  transctionPool:
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#on-premise-installation-in-k8s-__codelineno-10-4"></a>    host: &quot;external-pooler.example.host&quot;
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#on-premise-installation-in-k8s-__codelineno-10-5"></a>    port: 5432
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#on-premise-installation-in-k8s-__codelineno-10-6"></a>    username: &quot;codescoring&quot;
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#on-premise-installation-in-k8s-__codelineno-10-7"></a>    password: &quot;changeme&quot;
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#on-premise-installation-in-k8s-__codelineno-10-8"></a>    database: &quot;codescoring&quot;
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#on-premise-installation-in-k8s-__codelineno-10-9"></a>  sessionPool:
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#on-premise-installation-in-k8s-__codelineno-10-10"></a>    host: &quot;external-pooler.example.host&quot;
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#on-premise-installation-in-k8s-__codelineno-10-11"></a>    port: 5432
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#on-premise-installation-in-k8s-__codelineno-10-12"></a>    username: &quot;codescoring-session&quot;
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#on-premise-installation-in-k8s-__codelineno-10-13"></a>    password: &quot;changeme&quot;
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#on-premise-installation-in-k8s-__codelineno-10-14"></a>    database: &quot;codescoring-session&quot;
</code></pre></div>
<h3 id="on-premise-installation-in-k8s-volumes">Настройка томов (PV)<a class="headerlink" href="#on-premise-installation-in-k8s-volumes" title="Permanent link">&para;</a></h3>
<p>По умолчанию чарт создает необходимые тома через <a href="https://kubernetes.io/docs/concepts/storage/dynamic-provisioning/">Dynamic Volume Provisioning</a> с использованием <code>StorageClass</code> по умолчанию (default). В случае, если данный вариант развертывания томов не подходит, присутствует возможность гибко настроить создание томов несколькими способами.</p>
<p><strong>Важно!</strong>: Описанные ниже опции являются <strong>взаимоисключающими</strong>. Необходимо выбрать <strong>ТОЛЬКО ОДИН</strong> вариант развертывания для каждого тома. Допускается выбор разных вариантов развертывания для разных томов.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Для изменения размера создаваемых томов (за исключением локальных) необходимо изменить параметр <code>size</code> в соответствующих секциях</p>
</div>
<h4 id="on-premise-installation-in-k8s-dynamic-volume-provisioning">Dynamic Volume Provisioning с использованием требуемого StorageClass<a class="headerlink" href="#on-premise-installation-in-k8s-dynamic-volume-provisioning" title="Permanent link">&para;</a></h4>
<p>Задать требуемый <code>StorageClass</code> можно в следующих переменных:</p>
<ul>
<li><code>codescoring.persistentVolumes.analysisRoot.storageClass</code></li>
<li><code>codescoring.persistentVolumes.mediaRoot.storageClass</code></li>
<li><code>codescoring.persistentVolumes.djangoStatic.storageClass</code></li>
<li><code>codescoring.backup.persistentVolume.storageClass</code></li>
<li><code>redis.persistentVolume.storageClass</code> (если используется встроенный Redis)</li>
<li><code>postgresql.persistentVolume.storageClass</code> (если используется встроенная PostgreSQL)</li>
</ul>
<p>В этом случае, будут созданы тома с использованием заданного <code>StorageClass</code></p>
<h4 id="on-premise-installation-in-k8s-persistent-volume">PersistentVolumeClaim для заранее созданных PersistentVolume<a class="headerlink" href="#on-premise-installation-in-k8s-persistent-volume" title="Permanent link">&para;</a></h4>
<p>Название предварительно созданных томов можно задать в следующих переменных:</p>
<ul>
<li><code>codescoring.persistentVolumes.analysisRoot.volumeName</code></li>
<li><code>codescoring.persistentVolumes.mediaRoot.volumeName</code></li>
<li><code>codescoring.persistentVolumes.djangoStatic.volumeName</code></li>
<li><code>codescoring.backup.persistentVolume.volumeName</code></li>
<li><code>redis.persistentVolume.volumeName</code> (если используется встроенный Redis)</li>
<li><code>postgresql.persistentVolume.volumeName</code> (если используется встроенная PostgreSQL)</li>
</ul>
<p>В этом случае будут созданы только <code>PersistentVolumeClaim</code> для томов, заданных в этих переменных</p>
<h4 id="on-premise-installation-in-k8s-persistent-volume-claim">Использование предварительно созданных PersistentVolumeClaim<a class="headerlink" href="#on-premise-installation-in-k8s-persistent-volume-claim" title="Permanent link">&para;</a></h4>
<p>Название предварительно созданных PVC можно задать в следующих переменных:</p>
<ul>
<li><code>codescoring.persistentVolumes.analysisRoot.existingClaim</code></li>
<li><code>codescoring.persistentVolumes.mediaRoot.existingClaim</code></li>
<li><code>codescoring.persistentVolumes.djangoStatic.existingClaim</code></li>
<li><code>codescoring.backup.persistentVolume.existingClaim</code></li>
<li><code>redis.persistentVolume.existingClaim</code> (если используется встроенный Redis)</li>
<li><code>postgresql.persistentVolume.exsistingClaim</code> (если используется встроенная PostgreSQL)</li>
</ul>
<p>В этом случае указанное название PVC будет подставлено в секцию <code>volumes</code> для <code>Pod</code> напрямую.</p>
<h4 id="on-premise-installation-in-k8s-local-volumes">Использование локальных томов<a class="headerlink" href="#on-premise-installation-in-k8s-local-volumes" title="Permanent link">&para;</a></h4>
<p>При отсутствии в кластере Kubernetes внешнего хранилища данных возможен запуск CodeScoring с использованием локальных томов. В этом случае данные будут хранится на одной из нод кластера.</p>
<p>Для создания локальных томов необходимо выполнить следующие действия:</p>
<ol>
<li>
<p>Присвоить значение <code>true</code> следующим переменным:</p>
<ul>
<li><code>codescoring.persistentVolumes.analysisRoot.localVolume.enabled</code></li>
<li><code>codescoring.persistentVolumes.mediaRoot.localVolume.enabled</code></li>
<li><code>codescoring.persistentVolumes.djangoStatic.localVolume.enabled</code></li>
<li><code>codescoring.backup.persistentVolume.localVolume.enabled</code></li>
<li><code>redis.persistentVolume.localVolume.enabled</code> (если используется встроенный Redis)</li>
<li><code>postgresql.persistentVolume.localVolume.enabled</code> (если используется встроенная PostgreSQL)</li>
</ul>
</li>
<li>
<p>Задать путь до <strong>каталога на ноде кластера</strong>, в котором будут размещены данные в следующих переменных:</p>
<ul>
<li><code>codescoring.persistentVolumes.analysisRoot.localVolume.path</code></li>
<li><code>codescoring.persistentVolumes.mediaRoot.localVolume.path</code></li>
<li><code>codescoring.persistentVolumes.djangoStatic.localVolume.path</code></li>
<li><code>codescoring.backup.persistentVolume.localVolume.path</code></li>
<li><code>redis.persistentVolume.localVolume.path</code> (если используется встроенный Redis)</li>
<li><code>postgresql.persistentVolume.localVolume.path</code> (если используется встроенная PostgreSQL)</li>
</ul>
</li>
<li>
<p>Указать название ноды, на которой будет создан локальный том в следующих переменных:</p>
<ul>
<li><code>codescoring.persistentVolumes.analysisRoot.localVolume.nodeHostname</code></li>
<li><code>codescoring.persistentVolumes.mediaRoot.localVolume.nodeHostname</code></li>
<li><code>codescoring.persistentVolumes.djangoStatic.localVolume.nodeHostname</code></li>
<li><code>codescoring.backup.persistentVolume.localVolume.nodeHostname</code></li>
<li><code>redis.persistentVolume.localVolume.nodeHostname</code> (если используется встроенный Redis)</li>
<li><code>postgresql.persistentVolume.localVolume.nodeHostname</code> (если используется встроенная PostgreSQL)</li>
</ul>
</li>
</ol>
<p>Допускается использование разных нод для разных томов.</p>
<h4 id="on-premise-installation-in-k8s-temporary-files-storage">Настройка хранилища для временных файлов сканирований<a class="headerlink" href="#on-premise-installation-in-k8s-temporary-files-storage" title="Permanent link">&para;</a></h4>
<p>По умолчанию временные файлы в процессе сканирования хранятся в директории <code>/tmp</code> внутри контейнеров, к которой монтируются Ephemeral Volumes типа <code>emptyDir</code>:</p>
<ul>
<li><code>codescoring.huey.ipcsQueue.ephemeralVolumes</code></li>
<li><code>codescoring.huey.tasksOsaContainerImageScan.ephemeralVolumes</code></li>
<li><code>codescoring.huey.tasksOsaPackageScan.ephemeralVolumes</code></li>
</ul>
<p>Однако в некоторых случаях может потребоваться использовать Persistent Volume вместо Ephemeral Volume. В таком случае следует закомментировать соответствующие секции в <code>ephemeralVolumes</code> для одного или нескольких сервисов, в зависимости от того, для каких сервисов требуется монтировать тома:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#on-premise-installation-in-k8s-__codelineno-11-1"></a>codescoring:
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#on-premise-installation-in-k8s-__codelineno-11-2"></a>  huey:
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#on-premise-installation-in-k8s-__codelineno-11-3"></a>    ipcsQueue:
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#on-premise-installation-in-k8s-__codelineno-11-4"></a>      ephemeralVolumes:
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#on-premise-installation-in-k8s-__codelineno-11-5"></a>        volumeMounts:
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#on-premise-installation-in-k8s-__codelineno-11-6"></a>        # - mountPath: /tmp
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#on-premise-installation-in-k8s-__codelineno-11-7"></a>        #   name: ipcs-queue-tmp
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#on-premise-installation-in-k8s-__codelineno-11-8"></a>        - mountPath: /etc/ssl/certs
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#on-premise-installation-in-k8s-__codelineno-11-9"></a>          name: ipcs-queue-ssl-certs
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#on-premise-installation-in-k8s-__codelineno-11-10"></a>        volumes:
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#on-premise-installation-in-k8s-__codelineno-11-11"></a>        # - name: ipcs-queue-tmp
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#on-premise-installation-in-k8s-__codelineno-11-12"></a>        #   emptyDir: {}
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#on-premise-installation-in-k8s-__codelineno-11-13"></a>        - name: ipcs-queue-ssl-certs
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#on-premise-installation-in-k8s-__codelineno-11-14"></a>          emptyDir: {}
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#on-premise-installation-in-k8s-__codelineno-11-15"></a>
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#on-premise-installation-in-k8s-__codelineno-11-16"></a>    tasksOsaContainerImageScan:
<a id="__codelineno-11-17" name="__codelineno-11-17" href="#on-premise-installation-in-k8s-__codelineno-11-17"></a>      ephemeralVolumes:
<a id="__codelineno-11-18" name="__codelineno-11-18" href="#on-premise-installation-in-k8s-__codelineno-11-18"></a>        volumeMounts:
<a id="__codelineno-11-19" name="__codelineno-11-19" href="#on-premise-installation-in-k8s-__codelineno-11-19"></a>        # - mountPath: /tmp
<a id="__codelineno-11-20" name="__codelineno-11-20" href="#on-premise-installation-in-k8s-__codelineno-11-20"></a>        #   name: container-image-scan-tmp
<a id="__codelineno-11-21" name="__codelineno-11-21" href="#on-premise-installation-in-k8s-__codelineno-11-21"></a>        - mountPath: /etc/ssl/certs
<a id="__codelineno-11-22" name="__codelineno-11-22" href="#on-premise-installation-in-k8s-__codelineno-11-22"></a>          name: container-image-scan-ssl-certs
<a id="__codelineno-11-23" name="__codelineno-11-23" href="#on-premise-installation-in-k8s-__codelineno-11-23"></a>        volumes:
<a id="__codelineno-11-24" name="__codelineno-11-24" href="#on-premise-installation-in-k8s-__codelineno-11-24"></a>        # - name: container-image-scan-tmp
<a id="__codelineno-11-25" name="__codelineno-11-25" href="#on-premise-installation-in-k8s-__codelineno-11-25"></a>        #   emptyDir: {}
<a id="__codelineno-11-26" name="__codelineno-11-26" href="#on-premise-installation-in-k8s-__codelineno-11-26"></a>        - name: container-image-scan-ssl-certs
<a id="__codelineno-11-27" name="__codelineno-11-27" href="#on-premise-installation-in-k8s-__codelineno-11-27"></a>          emptyDir: {}
<a id="__codelineno-11-28" name="__codelineno-11-28" href="#on-premise-installation-in-k8s-__codelineno-11-28"></a>
<a id="__codelineno-11-29" name="__codelineno-11-29" href="#on-premise-installation-in-k8s-__codelineno-11-29"></a>    tasksOsaPackageScan:
<a id="__codelineno-11-30" name="__codelineno-11-30" href="#on-premise-installation-in-k8s-__codelineno-11-30"></a>      ephemeralVolumes:
<a id="__codelineno-11-31" name="__codelineno-11-31" href="#on-premise-installation-in-k8s-__codelineno-11-31"></a>        volumeMounts:
<a id="__codelineno-11-32" name="__codelineno-11-32" href="#on-premise-installation-in-k8s-__codelineno-11-32"></a>        # - mountPath: /tmp
<a id="__codelineno-11-33" name="__codelineno-11-33" href="#on-premise-installation-in-k8s-__codelineno-11-33"></a>        #   name: package-scan-tmp
<a id="__codelineno-11-34" name="__codelineno-11-34" href="#on-premise-installation-in-k8s-__codelineno-11-34"></a>        - mountPath: /etc/ssl/certs
<a id="__codelineno-11-35" name="__codelineno-11-35" href="#on-premise-installation-in-k8s-__codelineno-11-35"></a>          name: package-scan-ssl-certs
<a id="__codelineno-11-36" name="__codelineno-11-36" href="#on-premise-installation-in-k8s-__codelineno-11-36"></a>        volumes:
<a id="__codelineno-11-37" name="__codelineno-11-37" href="#on-premise-installation-in-k8s-__codelineno-11-37"></a>        # - name: package-scan-tmp
<a id="__codelineno-11-38" name="__codelineno-11-38" href="#on-premise-installation-in-k8s-__codelineno-11-38"></a>        #   emptyDir: {}
<a id="__codelineno-11-39" name="__codelineno-11-39" href="#on-premise-installation-in-k8s-__codelineno-11-39"></a>        - name: package-scan-ssl-certs
<a id="__codelineno-11-40" name="__codelineno-11-40" href="#on-premise-installation-in-k8s-__codelineno-11-40"></a>          emptyDir: {}
</code></pre></div>
<p>После необходимо выставить значение <code>enabled: true</code> в одной или нескольких из следующих секций:</p>
<ul>
<li><code>codescoring.huey.persistentVolumes.hueyTmp</code></li>
<li><code>codescoring.huey.persistentVolumes.hueyPackageScanTmp</code></li>
<li><code>codescoring.huey.persistentVolumes.hueyContainerImageScanTmp</code></li>
</ul>
<p>В результате будут созданы PersistentVolumeClaim для соответсвующих сервисов. Стоит отметить, что возможности конфигурирования данных томов полностью соответствуют описанным в секции <a href="#on-premise-installation-in-k8s-volumes">Настройка томов (PV)</a>.</p>
<p>При горизонтальном масштабировании сервисов, необходимо произвести настройку томов в соответствии с инструкцией в разделе <a href="#on-premise-installation-in-k8s-horizontal-scaling">Горизонтальное масштабирование CodeScoring</a>.</p>
<h3 id="on-premise-installation-in-k8s-horizontal-scaling">Горизонтальное масштабирование CodeScoring<a class="headerlink" href="#on-premise-installation-in-k8s-horizontal-scaling" title="Permanent link">&para;</a></h3>
<p><strong>Важно!</strong>: Для горизонтального масштабирования системы CodeScoring необходимо наличие в кластере Kubernetes возможности создания томов с типом доступа <strong>ReadWriteMany (RWX)</strong></p>
<p>Для горизонтального масштабирования CodeScoring необходимо создать тома <code>analysis-root</code>, <code>media-root</code> и <code>django-static</code> с типом доступа <code>ReadWriteMany</code>.</p>
<p>Для этого необходимо заменить значение <code>ReadWriteOnce</code> на <code>ReadWriteMany</code> в переменных:</p>
<ul>
<li><code>codescoring.persistentVolumes.analysisRoot.accessModes</code></li>
<li><code>codescoring.persistentVolumes.mediaRoot.accessModes</code></li>
<li><code>codescoring.persistentVolumes.djangoStatic.accessModes</code></li>
</ul>
<p>Затем, необходимо закоментировать переменные:</p>
<ul>
<li><code>codescoring.backend.affinity</code></li>
<li><code>codescoring.frontend.affinity</code></li>
</ul>
<p>Если этого не сделать, то все поды будут запущены только на одной ноде кластера.</p>
<h2 id="on-premise-installation-in-k8s-resource-limits">Настройка ограничения ресурсов (resource limits)<a class="headerlink" href="#on-premise-installation-in-k8s-resource-limits" title="Permanent link">&para;</a></h2>
<p>По умолчанию <code>requests</code> и <code>limits</code> не заданы. Это сделано для обеспечения возможности запуска системы CodeScoring в кластерах с малым количеством ресурсов (например, minikube) c целью тестирования.
При запуске в <strong>production-окружении</strong> может потребоваться настроить ограничение ресурсов. Это можно сделать, задав следующие переменные:</p>
<ul>
<li><code>postgresql.resources</code> (при использовании встроенной PostgreSQL)</li>
<li><code>redis.resources</code> (при использовании встроенного Redis)</li>
<li><code>codescoring.backend.resources</code></li>
<li><code>codescoring.frontend.resources</code></li>
<li><code>codescoring.huey.highPriorityQueue.resources</code></li>
<li><code>codescoring.huey.ipcsQueue.resources</code></li>
<li><code>codescoring.huey.tasksOsaContainerImageScan.resources</code></li>
<li><code>codescoring.huey.tasksOsaPackageScan.resources</code></li>
<li><code>codescoring.huey.tasksPolicy.resources</code></li>
<li><code>codescoring.huey.tasksMedia.resources</code></li>
</ul>
<p>Возможно указание как <code>resources</code> и <code>limits</code> вместе, так и по отдельности, например:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#on-premise-installation-in-k8s-__codelineno-12-1"></a>codescoring:
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#on-premise-installation-in-k8s-__codelineno-12-2"></a>  backend:
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#on-premise-installation-in-k8s-__codelineno-12-3"></a>    resources:
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#on-premise-installation-in-k8s-__codelineno-12-4"></a>      limits:
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#on-premise-installation-in-k8s-__codelineno-12-5"></a>        cpu: 1000m
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#on-premise-installation-in-k8s-__codelineno-12-6"></a>        memory: 2000Mi
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#on-premise-installation-in-k8s-__codelineno-12-7"></a>  huey:
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#on-premise-installation-in-k8s-__codelineno-12-8"></a>    ipcsQueue:
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#on-premise-installation-in-k8s-__codelineno-12-9"></a>      resources:
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#on-premise-installation-in-k8s-__codelineno-12-10"></a>        limits:
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#on-premise-installation-in-k8s-__codelineno-12-11"></a>          cpu: 2000m
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#on-premise-installation-in-k8s-__codelineno-12-12"></a>          memory: 3000Mi
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#on-premise-installation-in-k8s-__codelineno-12-13"></a>        requests:
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#on-premise-installation-in-k8s-__codelineno-12-14"></a>          cpu: 1000m
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#on-premise-installation-in-k8s-__codelineno-12-15"></a>          memory: 1000Mi
</code></pre></div>
<p>Ниже приведены примерные значения <code>limits</code> для платформе CodeScoring с 8-10 проектами:
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#on-premise-installation-in-k8s-__codelineno-13-1"></a>codescoring:
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#on-premise-installation-in-k8s-__codelineno-13-2"></a>  backend:
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#on-premise-installation-in-k8s-__codelineno-13-3"></a>    resources:
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#on-premise-installation-in-k8s-__codelineno-13-4"></a>      limits:
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#on-premise-installation-in-k8s-__codelineno-13-5"></a>        cpu: 250m
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#on-premise-installation-in-k8s-__codelineno-13-6"></a>        memory: 2500Mi
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#on-premise-installation-in-k8s-__codelineno-13-7"></a>  huey:
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#on-premise-installation-in-k8s-__codelineno-13-8"></a>    ipcsQueue:
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#on-premise-installation-in-k8s-__codelineno-13-9"></a>      scheduler:
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#on-premise-installation-in-k8s-__codelineno-13-10"></a>        resources:
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#on-premise-installation-in-k8s-__codelineno-13-11"></a>          limits:
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#on-premise-installation-in-k8s-__codelineno-13-12"></a>            cpu: 500m
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#on-premise-installation-in-k8s-__codelineno-13-13"></a>            memory: 500Mi
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#on-premise-installation-in-k8s-__codelineno-13-14"></a>      resources:
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#on-premise-installation-in-k8s-__codelineno-13-15"></a>        limits:
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#on-premise-installation-in-k8s-__codelineno-13-16"></a>          cpu: 2250m
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#on-premise-installation-in-k8s-__codelineno-13-17"></a>          memory: 4000Mi
<a id="__codelineno-13-18" name="__codelineno-13-18" href="#on-premise-installation-in-k8s-__codelineno-13-18"></a>    highPriorityQueue:
<a id="__codelineno-13-19" name="__codelineno-13-19" href="#on-premise-installation-in-k8s-__codelineno-13-19"></a>      resources:
<a id="__codelineno-13-20" name="__codelineno-13-20" href="#on-premise-installation-in-k8s-__codelineno-13-20"></a>        limits:
<a id="__codelineno-13-21" name="__codelineno-13-21" href="#on-premise-installation-in-k8s-__codelineno-13-21"></a>          cpu: 2250m
<a id="__codelineno-13-22" name="__codelineno-13-22" href="#on-premise-installation-in-k8s-__codelineno-13-22"></a>          memory: 4000Mi
<a id="__codelineno-13-23" name="__codelineno-13-23" href="#on-premise-installation-in-k8s-__codelineno-13-23"></a>    tasksOsaContainerImageScan:
<a id="__codelineno-13-24" name="__codelineno-13-24" href="#on-premise-installation-in-k8s-__codelineno-13-24"></a>      resources:
<a id="__codelineno-13-25" name="__codelineno-13-25" href="#on-premise-installation-in-k8s-__codelineno-13-25"></a>        limits:
<a id="__codelineno-13-26" name="__codelineno-13-26" href="#on-premise-installation-in-k8s-__codelineno-13-26"></a>          cpu: 2250m
<a id="__codelineno-13-27" name="__codelineno-13-27" href="#on-premise-installation-in-k8s-__codelineno-13-27"></a>          memory: 4000Mi
<a id="__codelineno-13-28" name="__codelineno-13-28" href="#on-premise-installation-in-k8s-__codelineno-13-28"></a>    tasksOsaPackageScan:
<a id="__codelineno-13-29" name="__codelineno-13-29" href="#on-premise-installation-in-k8s-__codelineno-13-29"></a>      resources:
<a id="__codelineno-13-30" name="__codelineno-13-30" href="#on-premise-installation-in-k8s-__codelineno-13-30"></a>        limits:
<a id="__codelineno-13-31" name="__codelineno-13-31" href="#on-premise-installation-in-k8s-__codelineno-13-31"></a>          cpu: 2250m
<a id="__codelineno-13-32" name="__codelineno-13-32" href="#on-premise-installation-in-k8s-__codelineno-13-32"></a>          memory: 4000Mi
<a id="__codelineno-13-33" name="__codelineno-13-33" href="#on-premise-installation-in-k8s-__codelineno-13-33"></a>    tasksOsaPackageScan:
<a id="__codelineno-13-34" name="__codelineno-13-34" href="#on-premise-installation-in-k8s-__codelineno-13-34"></a>      resources:
<a id="__codelineno-13-35" name="__codelineno-13-35" href="#on-premise-installation-in-k8s-__codelineno-13-35"></a>        limits:
<a id="__codelineno-13-36" name="__codelineno-13-36" href="#on-premise-installation-in-k8s-__codelineno-13-36"></a>          cpu: 2250m
<a id="__codelineno-13-37" name="__codelineno-13-37" href="#on-premise-installation-in-k8s-__codelineno-13-37"></a>          memory: 4000Mi
<a id="__codelineno-13-38" name="__codelineno-13-38" href="#on-premise-installation-in-k8s-__codelineno-13-38"></a>    tasksPolicy:
<a id="__codelineno-13-39" name="__codelineno-13-39" href="#on-premise-installation-in-k8s-__codelineno-13-39"></a>      resources:
<a id="__codelineno-13-40" name="__codelineno-13-40" href="#on-premise-installation-in-k8s-__codelineno-13-40"></a>        limits:
<a id="__codelineno-13-41" name="__codelineno-13-41" href="#on-premise-installation-in-k8s-__codelineno-13-41"></a>          cpu: 2250m
<a id="__codelineno-13-42" name="__codelineno-13-42" href="#on-premise-installation-in-k8s-__codelineno-13-42"></a>          memory: 4000Mi
<a id="__codelineno-13-43" name="__codelineno-13-43" href="#on-premise-installation-in-k8s-__codelineno-13-43"></a>    tasksTqi:
<a id="__codelineno-13-44" name="__codelineno-13-44" href="#on-premise-installation-in-k8s-__codelineno-13-44"></a>      resources:
<a id="__codelineno-13-45" name="__codelineno-13-45" href="#on-premise-installation-in-k8s-__codelineno-13-45"></a>        limits:
<a id="__codelineno-13-46" name="__codelineno-13-46" href="#on-premise-installation-in-k8s-__codelineno-13-46"></a>          cpu: 2250m
<a id="__codelineno-13-47" name="__codelineno-13-47" href="#on-premise-installation-in-k8s-__codelineno-13-47"></a>          memory: 4000Mi
<a id="__codelineno-13-48" name="__codelineno-13-48" href="#on-premise-installation-in-k8s-__codelineno-13-48"></a>    tasksMedia:
<a id="__codelineno-13-49" name="__codelineno-13-49" href="#on-premise-installation-in-k8s-__codelineno-13-49"></a>      resources:
<a id="__codelineno-13-50" name="__codelineno-13-50" href="#on-premise-installation-in-k8s-__codelineno-13-50"></a>        limits:
<a id="__codelineno-13-51" name="__codelineno-13-51" href="#on-premise-installation-in-k8s-__codelineno-13-51"></a>          cpu: 1000m
<a id="__codelineno-13-52" name="__codelineno-13-52" href="#on-premise-installation-in-k8s-__codelineno-13-52"></a>          memory: 1500Mi
<a id="__codelineno-13-53" name="__codelineno-13-53" href="#on-premise-installation-in-k8s-__codelineno-13-53"></a>  frontend:
<a id="__codelineno-13-54" name="__codelineno-13-54" href="#on-premise-installation-in-k8s-__codelineno-13-54"></a>    resources:
<a id="__codelineno-13-55" name="__codelineno-13-55" href="#on-premise-installation-in-k8s-__codelineno-13-55"></a>      limits:
<a id="__codelineno-13-56" name="__codelineno-13-56" href="#on-premise-installation-in-k8s-__codelineno-13-56"></a>        cpu: 250m
<a id="__codelineno-13-57" name="__codelineno-13-57" href="#on-premise-installation-in-k8s-__codelineno-13-57"></a>        memory: 500Mi
<a id="__codelineno-13-58" name="__codelineno-13-58" href="#on-premise-installation-in-k8s-__codelineno-13-58"></a>  redis:
<a id="__codelineno-13-59" name="__codelineno-13-59" href="#on-premise-installation-in-k8s-__codelineno-13-59"></a>    resources:
<a id="__codelineno-13-60" name="__codelineno-13-60" href="#on-premise-installation-in-k8s-__codelineno-13-60"></a>      limits:
<a id="__codelineno-13-61" name="__codelineno-13-61" href="#on-premise-installation-in-k8s-__codelineno-13-61"></a>        cpu: 1000m
<a id="__codelineno-13-62" name="__codelineno-13-62" href="#on-premise-installation-in-k8s-__codelineno-13-62"></a>        memory: 2000Mi
<a id="__codelineno-13-63" name="__codelineno-13-63" href="#on-premise-installation-in-k8s-__codelineno-13-63"></a>  postgresql:
<a id="__codelineno-13-64" name="__codelineno-13-64" href="#on-premise-installation-in-k8s-__codelineno-13-64"></a>    resources:
<a id="__codelineno-13-65" name="__codelineno-13-65" href="#on-premise-installation-in-k8s-__codelineno-13-65"></a>      limits:
<a id="__codelineno-13-66" name="__codelineno-13-66" href="#on-premise-installation-in-k8s-__codelineno-13-66"></a>        cpu: 1000m
<a id="__codelineno-13-67" name="__codelineno-13-67" href="#on-premise-installation-in-k8s-__codelineno-13-67"></a>        memory: 2000Mi
</code></pre></div>
Также возможна настройка ресурсов init-контейнеров. Для сервиса backend они настраиваются в разделе</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#on-premise-installation-in-k8s-__codelineno-14-1"></a>codescoring:
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#on-premise-installation-in-k8s-__codelineno-14-2"></a>  backend:
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#on-premise-installation-in-k8s-__codelineno-14-3"></a>    initContainers:
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#on-premise-installation-in-k8s-__codelineno-14-4"></a>      resources:
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#on-premise-installation-in-k8s-__codelineno-14-5"></a>        limits:
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#on-premise-installation-in-k8s-__codelineno-14-6"></a>          cpu: 2500m
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#on-premise-installation-in-k8s-__codelineno-14-7"></a>          memory: 2500Mi
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#on-premise-installation-in-k8s-__codelineno-14-8"></a>        requests:
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#on-premise-installation-in-k8s-__codelineno-14-9"></a>          cpu: 500m
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#on-premise-installation-in-k8s-__codelineno-14-10"></a>          memory: 500Mi
</code></pre></div>
<p>Для всех прочих сервисов init-контейнеры являются однотипными и выполняют функции wait-for для обеспечения последовательного запуска сервисов. Ресурсы для них настраиваются в разделе</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#on-premise-installation-in-k8s-__codelineno-15-1"></a>codescoring:
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#on-premise-installation-in-k8s-__codelineno-15-2"></a>  initContainers:
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#on-premise-installation-in-k8s-__codelineno-15-3"></a>    limits:
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#on-premise-installation-in-k8s-__codelineno-15-4"></a>      cpu: 2500m
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#on-premise-installation-in-k8s-__codelineno-15-5"></a>      memory: 2500Mi
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#on-premise-installation-in-k8s-__codelineno-15-6"></a>    requests:
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#on-premise-installation-in-k8s-__codelineno-15-7"></a>      cpu: 200m
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#on-premise-installation-in-k8s-__codelineno-15-8"></a>      memory: 200Mi
</code></pre></div>
<h2 id="on-premise-installation-in-k8s-ca-certificate">Добавление сертификата удостоверяющего центра (CA)<a class="headerlink" href="#on-premise-installation-in-k8s-ca-certificate" title="Permanent link">&para;</a></h2>
<p>Для доступа CodeScoring к ресурсам с TLS-сертификатами, подписанными корпоративным удостоверяющим центром (CA) необходимо:</p>
<ol>
<li>Присвоить переменной <code>codescoring.trustedCA.enabled</code> значение <code>true</code></li>
<li>Добавить корневой сертификат удостоверяющего центра (RootCA) в формате PEM в переменную <code>codescoring.trustedCA.certificates</code> в формате <code>ключ: значение</code>,
где ключ - имя файла сертификата, включая расширение <code>.crt</code>, значение - сертификат в формате PEM.</li>
</ol>
<p>Например:
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#on-premise-installation-in-k8s-__codelineno-16-1"></a>codescoring:
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#on-premise-installation-in-k8s-__codelineno-16-2"></a>  trustedCA:
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#on-premise-installation-in-k8s-__codelineno-16-3"></a>    enabled: true
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#on-premise-installation-in-k8s-__codelineno-16-4"></a>    certificates:
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#on-premise-installation-in-k8s-__codelineno-16-5"></a>        ## THIS IS AN EXAMPLE ONE! DO NOT USE IN PRODUCTION!
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#on-premise-installation-in-k8s-__codelineno-16-6"></a>        my-root-ca.crt: |-
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#on-premise-installation-in-k8s-__codelineno-16-7"></a>          -----BEGIN CERTIFICATE-----
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#on-premise-installation-in-k8s-__codelineno-16-8"></a>          MIIDTDCCAjSgAwIBAgIBATANBgkqhkiG9w0BAQUFADA3MQswCQYDVQQGEwJERTEP
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#on-premise-installation-in-k8s-__codelineno-16-9"></a>          MA0GA1UEChMGZWR1UEtJMRcwFQYDVQQDEw5lZHVQS0kgVGVzdCBDQTAeFw0xMDAz
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#on-premise-installation-in-k8s-__codelineno-16-10"></a>          MzExMjIwMjRaFw0zMDAzMjYxMjIwMjRaMDcxCzAJBgNVBAYTAkRFMQ8wDQYDVQQK
<a id="__codelineno-16-11" name="__codelineno-16-11" href="#on-premise-installation-in-k8s-__codelineno-16-11"></a>          EwZlZHVQS0kxFzAVBgNVBAMTDmVkdVBLSSBUZXN0IENBMIIBIjANBgkqhkiG9w0B
<a id="__codelineno-16-12" name="__codelineno-16-12" href="#on-premise-installation-in-k8s-__codelineno-16-12"></a>          AQEFAAOCAQ8AMIIBCgKCAQEAt5IxCk/NQPOLqeA1lGuB3pvqHGQPxRQ1udYGcXQY
<a id="__codelineno-16-13" name="__codelineno-16-13" href="#on-premise-installation-in-k8s-__codelineno-16-13"></a>          t7EuSMFymUR9m5TsifG1ktktJTtOWyaWFC4ac0vai49wGVeuDYptfZBoHLIUvCwN
<a id="__codelineno-16-14" name="__codelineno-16-14" href="#on-premise-installation-in-k8s-__codelineno-16-14"></a>          DOofLYHxk04WzfrtSiUTptn1o6QPOw8YR0XH30MEi1zgD8fLMZmVTJ+XwA5Eus6c
<a id="__codelineno-16-15" name="__codelineno-16-15" href="#on-premise-installation-in-k8s-__codelineno-16-15"></a>          XtTmI4XhNrHUtvWt4UsNgLmp5/djUgRMpNqxIdrpFQzl+XycRJRAaoAwUzHFl14t
<a id="__codelineno-16-16" name="__codelineno-16-16" href="#on-premise-installation-in-k8s-__codelineno-16-16"></a>          49qwBhGChxQ8AdDMQGA7kv6VR8o0ktCPv3a4GQbs8+z0cX0w5dC+XhJ1xpqW6TOg
<a id="__codelineno-16-17" name="__codelineno-16-17" href="#on-premise-installation-in-k8s-__codelineno-16-17"></a>          qAY9XBFIDe5j21hjKmNZ39rsODVGUS2wUtNEhSz+3YqxLwIDAQABo2MwYTAdBgNV
<a id="__codelineno-16-18" name="__codelineno-16-18" href="#on-premise-installation-in-k8s-__codelineno-16-18"></a>          HQ4EFgQUqHe3saMjZZLan8RlFJs+Xuz4yiAwHwYDVR0jBBgwFoAUqHe3saMjZZLa
<a id="__codelineno-16-19" name="__codelineno-16-19" href="#on-premise-installation-in-k8s-__codelineno-16-19"></a>          n8RlFJs+Xuz4yiAwDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAQYwDQYJ
<a id="__codelineno-16-20" name="__codelineno-16-20" href="#on-premise-installation-in-k8s-__codelineno-16-20"></a>          KoZIhvcNAQEFBQADggEBAEjQGyHZQis47c2kf+zXJJoDDlRgFzr9xfcnrHFaJvYx
<a id="__codelineno-16-21" name="__codelineno-16-21" href="#on-premise-installation-in-k8s-__codelineno-16-21"></a>          nuqNE0T+xmujnwGm3VrgddeAQJuW3sD6y0Ox8NgL4z886VFeaDQ0GmFPI6HEVtg6
<a id="__codelineno-16-22" name="__codelineno-16-22" href="#on-premise-installation-in-k8s-__codelineno-16-22"></a>          mixMhi+YzdkC+PFrEdYUeVNNwVO+bvJb1Rc08BYU4v7VtTkssHjru76E2/ahn/Ct
<a id="__codelineno-16-23" name="__codelineno-16-23" href="#on-premise-installation-in-k8s-__codelineno-16-23"></a>          kaVTEojEWeRaxsw5/0VLkgyf8SwDaukM2aamqgEzfsw5GTdSAh7ERZKc+zF7Sr5s
<a id="__codelineno-16-24" name="__codelineno-16-24" href="#on-premise-installation-in-k8s-__codelineno-16-24"></a>          DY8c5lOmyCwuNh9ODuw4cAThICrn7G8bh8ZyxLyj4Znxh0X45SwMZKTmYLfy9ab8
<a id="__codelineno-16-25" name="__codelineno-16-25" href="#on-premise-installation-in-k8s-__codelineno-16-25"></a>          b/j7FK8uBNRL+pXl9HGBWAFA01uJw4HkYK+Uo+RcAzo=
<a id="__codelineno-16-26" name="__codelineno-16-26" href="#on-premise-installation-in-k8s-__codelineno-16-26"></a>          -----END CERTIFICATE-----
</code></pre></div>
В случае наличия нескольких корневых CA необходимо добавить их в отдельные ключи, например:
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#on-premise-installation-in-k8s-__codelineno-17-1"></a>codescoring:
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#on-premise-installation-in-k8s-__codelineno-17-2"></a>  trustedCA:
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#on-premise-installation-in-k8s-__codelineno-17-3"></a>    enabled: true
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#on-premise-installation-in-k8s-__codelineno-17-4"></a>    certificates:
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#on-premise-installation-in-k8s-__codelineno-17-5"></a>        my-root-ca.crt: |-
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#on-premise-installation-in-k8s-__codelineno-17-6"></a>          ...
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#on-premise-installation-in-k8s-__codelineno-17-7"></a>        my-root-ca-2.crt: |-
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#on-premise-installation-in-k8s-__codelineno-17-8"></a>          ...
</code></pre></div></p>
<h2 id="on-premise-installation-in-k8s-secret-management">Управление секретами<a class="headerlink" href="#on-premise-installation-in-k8s-secret-management" title="Permanent link">&para;</a></h2>
<p>По умолчанию для шаблонов <code>ipcs-backend</code>, <code>pgbouncer</code> и <code>postgresql</code> предусмотрены объекты типа <code>Secret</code>. Значения переменных в этих объектах заполняются из содержимого <code>values</code>.</p>
<p>Также присутствует возможность подключать внешние хранилища секретов. Для этого в кластере должен должен быть установлен <strong>External Secrets Operator (ESO)</strong>. Он добавляет в кластер необходимые CRD (Custom Resource Definition) и обеспечивает связь с хранилищем секретов.</p>
<p>Для подключения ESO к внешнему хранилищу секретов необходимо сконфигурировать провайдера для <strong>SecretStore</strong> в разделе <code>codescoring.secretStore</code>.</p>
<p>Далее, необходимо настроить объекты <strong>ExternalSecret</strong> для получения секретов из внешнего хранилища в разделах <code>codescoring.config.externalSecret,</code> <code>pgbouncer.externalSecret</code>, <code>postgresql.externalSecret</code>.</p>
<p>Вся конфигурация осуществляется в соответствии с документацией ESO.</p>
<p><strong>Важно!</strong>: Некоторые провайдеры могут тарифицировать запросы к хранилищам секретов. Интервал запроса данных регулируется параметром <code>externalSecret.refreshInterval</code> для каждого отдельного сервиса.</p>
<h2 id="on-premise-installation-in-k8s-monitoring">Мониторинг<a class="headerlink" href="#on-premise-installation-in-k8s-monitoring" title="Permanent link">&para;</a></h2>
<p>Для сбора метрик с сервисов в чарте предусмотрены ресурсы <strong>ServiceMonitor</strong>. Метрики собираются с сервисов <code>backend</code> и <code>osa-api</code>. Для использования <strong>ServiceMonitor</strong> в кластере должен быть установлен и настроен Prometheus Operator.</p>
<p><strong>ServiceMonitor</strong> настраивается в следующих разделах values: <code>codescoring.backend.prometheus.serviceMonitor</code>, <code>codescoring.osa_api.prometheus.serviceMonitor</code>.</p>
<p>Также для вышеуказанных сервисов предусмотрены ресурсы <strong>PrometheusRule</strong>, необходимые для настройки правил алертинга. Настройка данных ресурсов осуществляется в следующих разделах values: <code>codescoring.backend.prometheus.alerts</code>, <code>codescoring.osa_api.prometheus.alerts</code>.</p>
<p>Все настройки осуществляются в соответствии с <a href="https://prometheus-operator.dev/docs/">документацией Prometheus Operator</a>.</p>
<h2 id="on-premise-installation-in-k8s-update">Обновление системы<a class="headerlink" href="#on-premise-installation-in-k8s-update" title="Permanent link">&para;</a></h2>
<p>Для обновления системы необходимо актуализировать helm-репозиторий командой</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#on-premise-installation-in-k8s-__codelineno-18-1"></a>helm repo update
</code></pre></div>
<p>и далее выполнить команду обновления платформы, где <code>CHART_VERSION</code> - версия чарта, на которую происходит обновление</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#on-premise-installation-in-k8s-__codelineno-19-1"></a>helm upgrade codescoring codescoring-org/codescoring -n codescoring -f values.yaml --version CHART_VERSION
</code></pre></div></section></section>
                    <section class='print-page md-section' id='section-3-2-3' heading-number='3.2.3'>
                        <h1>Обслуживание<a class='headerlink' href='#section-3-2-3' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="on-premise-update" heading-number="3.2.3.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-update.en">English</a></li>
</ul>
<h1 id="on-premise-update-_1">Обновление системы<a class="headerlink" href="#on-premise-update-_1" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-update-_2">Стандартная инструкция по обновлению<a class="headerlink" href="#on-premise-update-_2" title="Permanent link">&para;</a></h2>
<div class="admonition warning">
<p class="admonition-title">Резервное копирование</p>
<p>Перед обновлением обязательно выполните резервное копирование платформы.</p>
</div>
<p>Для обновления необходимо иметь актуальные версии файлов <code>docker-compose.yml</code>, <code>external-db.override.yml</code>, <code>app.env</code> и <code>.env</code>, которые можно получить у вендора.</p>
<p>В переменной <code>CODESCORING_VERSION</code> внутри файла <code>.env</code> указывается требуемая версия системы. Актуальную версию можно узнать в разделе <a href="#changelog-on-premise-changelog">Changelog</a>.</p>
<p>Затем нужно выполнить следующие шаги:</p>
<ol>
<li>
<p>Перейти в директорию с файлами запуска:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-update-__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="nb">cd</span><span class="w"> </span>/path/to/docker/compose
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>Выполнить команду обновления образов:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-update-__codelineno-1-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-2" name="__codelineno-1-2"></a>docker<span class="w"> </span>compose<span class="w"> </span>pull
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>Перезапустить платформу:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-update-__codelineno-2-3">3</a></span>
<span class="normal"><a href="#on-premise-update-__codelineno-2-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-3" name="__codelineno-2-3"></a>docker<span class="w"> </span>compose<span class="w"> </span>down<span class="w"> </span>--remove-orphans
<a id="__codelineno-2-4" name="__codelineno-2-4"></a>docker<span class="w"> </span>compose<span class="w"> </span>up<span class="w"> </span>-d<span class="w"> </span>--renew-anon-volumes
</code></pre></div></td></tr></table></div>
</li>
</ol>
<h2 id="on-premise-update-_3">Восстановление предыдущей версии<a class="headerlink" href="#on-premise-update-_3" title="Permanent link">&para;</a></h2>
<p>Если после обновления возникли ошибки или система работает нестабильно, можно восстановить предыдущую версию платформы из резервной копии:</p>
<ol>
<li>
<p>Остановите текущую инсталляцию:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#on-premise-update-__codelineno-3-1"></a>docker<span class="w"> </span>compose<span class="w"> </span>down
</code></pre></div></p>
</li>
<li>
<p>Очистите базу данных любым удобным способом:</p>
<ul>
<li>через Docker:
  <div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#on-premise-update-__codelineno-4-1"></a>docker<span class="w"> </span>volume<span class="w"> </span>rm<span class="w"> </span>&lt;db_volume_name&gt;
</code></pre></div></li>
<li>или удалив БД напрямую (например, <code>DROP DATABASE</code>);</li>
<li>или, при использовании Kubernetes:
  <div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#on-premise-update-__codelineno-5-1"></a>kubectl<span class="w"> </span>delete<span class="w"> </span>pvc<span class="w"> </span>&lt;db_pvc_name&gt;
</code></pre></div></li>
</ul>
</li>
<li>
<p>Восстановите базу данных из ранее созданного бэкапа.</p>
</li>
<li>
<p>В файле <code>.env</code> установите прежнее значение переменной <code>CODESCORING_VERSION</code>.</p>
</li>
<li>
<p>Перезапустите платформу:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#on-premise-update-__codelineno-6-1"></a>docker<span class="w"> </span>compose<span class="w"> </span>up<span class="w"> </span>-d
</code></pre></div></p>
</li>
</ol>
<p>Подробная инструкция по созданию резервных копий доступна в разделе <a href="#on-premise-backup">Резервное копирование</a>.</p>
<h2 id="on-premise-update-_4">Инструкции по обновлению на версии с измененной конфигурацией<a class="headerlink" href="#on-premise-update-_4" title="Permanent link">&para;</a></h2>
<h3 id="on-premise-update-2025210-2025-05-21">[2025.21.0] – 2025-05-21<a class="headerlink" href="#on-premise-update-2025210-2025-05-21" title="Permanent link">&para;</a></h3>
<p>Начиная с данной версии, значение переменной окружения <code>$SECRET_KEY</code> будет использоваться для шифрования чувствительных данных в базе данных и изменение значения этой переменной будет требовать дополнительных операций.</p>
<p>Перед обновлением необходимо убедиться, что в файле <code>.env</code> указано корректное (<strong>уникальное, непредсказуемое</strong>) значение <code>$SECRET_KEY</code>, а не значение по умолчанию.</p>
<h3 id="on-premise-update-2025130-2025-03-28">[2025.13.0] - 2025-03-28<a class="headerlink" href="#on-premise-update-2025130-2025-03-28" title="Permanent link">&para;</a></h3>
<ul>
<li>Необходимо убедиться, что версия <code>Docker Engine</code> больше или равна 25. Для этого нужно выполнить команду <code>docker version</code> на машине с платформой. В случае, если версия Docker Engine ниже, чем 25, необходимо обновить Docker.<ul>
<li><strong>ВАЖНО!</strong> Перед обновлением Docker необходимо штатно остановить платформу.</li>
</ul>
</li>
<li>Необходимо внести название проекта docker compose в конфигурацию:<ul>
<li>Перед выключением системы для обновления, необходимо отметить название docker compose проекта, в котором сейчас запущена платформа.</li>
<li>Это либо значение, передаваемое с параметром <code>-p</code> для <code>docker compose</code>, либо название директории, в которой находился <code>docker-compose.yml</code> файл, по умолчанию -- <code>on-premise</code> или <code>on-premise-split-db</code></li>
<li>Это значение используется как префикс в названии ресурсов, создаваемых compose: томов, контейнеров, сетей</li>
<li>Необходимо вписать это значение в <code>.env</code> файл c ключом <code>COMPOSE_PROJECT_NAME=</code></li>
<li><strong>ВАЖНО!</strong> Если этого не сделать, то платформа не запустится. Если вписать некорректное значение, то создадутся томы с новым префиксом, и платформа на новой версии запустится "с нуля"</li>
<li>После того, как значение добавлено в <code>.env</code> файл, вызовы к <code>docker compose</code> можно делать без опции <code>-p PROJECT_NAME</code></li>
</ul>
</li>
<li>Необходимо скачать из реестра CodeScoring обновлённые файлы <code>docker-compose.yml</code> и <code>external-db.override.yml</code> и поместить их в директорию с compose файлом.</li>
</ul></section><section class="print-page" id="on-premise-postgres-upgrade-compose" heading-number="3.2.3.2"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-postgres-upgrade-compose.en">English</a></li>
</ul>
<h1 id="on-premise-postgres-upgrade-compose-postgresql-docker">Обновление PostgreSQL в Docker<a class="headerlink" href="#on-premise-postgres-upgrade-compose-postgresql-docker" title="Permanent link">&para;</a></h1>
<p>Обновление мажорной версии PostgreSQL требует инициализации БД с использованием новой версии PostgreSQL, создания дампа и его восстановления. Ниже описана процедура для инсталляций CodeScoring, развёрнутых с помощью Docker Compose.</p>
<div class="admonition warning">
<p class="admonition-title">Корректный порядок обновления</p>
<p>Не рекомендуется выполнять обновление инсталляции и базы данных одновременно.
Обновление следует проводить последовательно: сначала обновить инсталляцию и убедиться в корректной работе сервиса, после чего выполнять обновление базы данных.</p>
</div>
<h2 id="on-premise-postgres-upgrade-compose-_1">Необходимые условия<a class="headerlink" href="#on-premise-postgres-upgrade-compose-_1" title="Permanent link">&para;</a></h2>
<h3 id="on-premise-postgres-upgrade-compose-_2">Дисковое пространство<a class="headerlink" href="#on-premise-postgres-upgrade-compose-_2" title="Permanent link">&para;</a></h3>
<p>Требуется свободное дисковое пространство в объёме не менее <strong>размера тома <code>db-data</code></strong>.</p>
<p>Пример утилизации дискового пространства при обновлении:</p>
<ul>
<li>версии PostgreSQL:<ul>
<li>исходная: 13.21</li>
<li>новая: 15.15</li>
</ul>
</li>
<li>данные инсталляции CodeScoring:<ul>
<li>~500 000 пакетов</li>
<li>~1 200 проектов</li>
<li>~22 000 образов</li>
</ul>
</li>
<li>размер тома <code>db-data</code>: ~50 GiB</li>
<li>потребление дискового пространства в процессе обновления:<ul>
<li>сжатая резервная копия: ~9 GiB</li>
<li>сжатый дамп: ~3 GiB</li>
<li>размер <code>db-data</code> после восстановления: ~32 GiB</li>
</ul>
</li>
</ul>
<h3 id="on-premise-postgres-upgrade-compose-_3">Окно планового технического обслуживания<a class="headerlink" href="#on-premise-postgres-upgrade-compose-_3" title="Permanent link">&para;</a></h3>
<p>Процедура требует полной остановки CodeScoring. Фактическое время выполнения зависит от объёма данных.</p>
<p>Для примера выше:</p>
<ul>
<li>создание сжатой резервной копии: ~11 минут 45 секунд</li>
<li>восстановление резервной копии: ~2 минуты 30 секунд</li>
<li><code>pg_dump</code> + <code>pg_restore</code>: ~3 минуты 30 секунд</li>
<li>перенос данных между томами: ~1 минута</li>
<li>сбор статистики планировщика: ~1 секунда</li>
</ul>
<h2 id="on-premise-postgres-upgrade-compose-docker-compose">Переопределение конфигурации Docker Compose<a class="headerlink" href="#on-premise-postgres-upgrade-compose-docker-compose" title="Permanent link">&para;</a></h2>
<p>Для обновления требуется файл переопределения конфигурации Docker Compose. Файл <code>postgres-upgrade.override.yml</code> поставляется, начиная с версии CodeScoring 2026.3.1, и располагается в той же директории, что и файл <code>docker-compose.yml</code>.</p>
<h3 id="on-premise-postgres-upgrade-compose-_4">Описание компонентов файла переопределения конфигурации<a class="headerlink" href="#on-premise-postgres-upgrade-compose-_4" title="Permanent link">&para;</a></h3>
<h4 id="on-premise-postgres-upgrade-compose-_5">Тома<a class="headerlink" href="#on-premise-postgres-upgrade-compose-_5" title="Permanent link">&para;</a></h4>
<ul>
<li><code>upgrade-new-db-data</code> - временный <code>pgdata</code> PostgreSQL новой версии</li>
<li><code>upgrade-dump</code> - сжатый дамп</li>
<li><code>upgrade-backup</code> - сжатый бэкап</li>
</ul>
<h4 id="on-premise-postgres-upgrade-compose-_6">Сервисы<a class="headerlink" href="#on-premise-postgres-upgrade-compose-_6" title="Permanent link">&para;</a></h4>
<ul>
<li><code>psql-new</code> - PostgreSQL новой версии с конфигурацией, идентичной сервису <code>psql</code></li>
<li><code>upgrade-dump</code> - создание сжатого дампа</li>
<li><code>upgrade-dump-restore</code> - восстановление дампа в PostgreSQL новой версии</li>
<li><code>upgrade-cleanup-transfer</code> - очистка и перенос данных в основной том <code>db-data</code></li>
<li><code>upgrade-analyze-in-stages</code> - итеративный сбор статистики планировщика</li>
<li><code>upgrade-backup</code> - создание резервной копии</li>
<li><code>upgrade-backup-restore</code> - восстановление резервной копии</li>
</ul>
<h2 id="on-premise-postgres-upgrade-compose-_7">Резервное копирование<a class="headerlink" href="#on-premise-postgres-upgrade-compose-_7" title="Permanent link">&para;</a></h2>
<h3 id="on-premise-postgres-upgrade-compose-_8">Создание резервной копии<a class="headerlink" href="#on-premise-postgres-upgrade-compose-_8" title="Permanent link">&para;</a></h3>
<p>Остановите CodeScoring:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-postgres-upgrade-compose-__codelineno-0-1"></a>docker<span class="w"> </span>compose<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#on-premise-postgres-upgrade-compose-__codelineno-0-2"></a><span class="w">  </span>-f<span class="w"> </span>docker-compose.yml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#on-premise-postgres-upgrade-compose-__codelineno-0-3"></a><span class="w">  </span>-f<span class="w"> </span>postgres-upgrade.override.yml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#on-premise-postgres-upgrade-compose-__codelineno-0-4"></a><span class="w">  </span>down
</code></pre></div>
<p>Создайте резервную копию:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#on-premise-postgres-upgrade-compose-__codelineno-1-1"></a>docker<span class="w"> </span>compose<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#on-premise-postgres-upgrade-compose-__codelineno-1-2"></a><span class="w">    </span>-f<span class="w"> </span>docker-compose.yml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#on-premise-postgres-upgrade-compose-__codelineno-1-3"></a><span class="w">    </span>-f<span class="w"> </span>postgres-upgrade.override.yml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#on-premise-postgres-upgrade-compose-__codelineno-1-4"></a><span class="w">    </span>run<span class="w"> </span>--rm<span class="w"> </span>upgrade-backup
</code></pre></div>
<h3 id="on-premise-postgres-upgrade-compose-_9">Восстановление резервной копии<a class="headerlink" href="#on-premise-postgres-upgrade-compose-_9" title="Permanent link">&para;</a></h3>
<p>Остановите CodeScoring:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#on-premise-postgres-upgrade-compose-__codelineno-2-1"></a>docker<span class="w"> </span>compose<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#on-premise-postgres-upgrade-compose-__codelineno-2-2"></a><span class="w">  </span>-f<span class="w"> </span>docker-compose.yml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#on-premise-postgres-upgrade-compose-__codelineno-2-3"></a><span class="w">  </span>-f<span class="w"> </span>postgres-upgrade.override.yml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#on-premise-postgres-upgrade-compose-__codelineno-2-4"></a><span class="w">  </span>down
</code></pre></div>
<p>Восстановите резервную копию:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#on-premise-postgres-upgrade-compose-__codelineno-3-1"></a>docker<span class="w"> </span>compose<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#on-premise-postgres-upgrade-compose-__codelineno-3-2"></a><span class="w">    </span>-f<span class="w"> </span>docker-compose.yml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#on-premise-postgres-upgrade-compose-__codelineno-3-3"></a><span class="w">    </span>-f<span class="w"> </span>postgres-upgrade.override.yml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#on-premise-postgres-upgrade-compose-__codelineno-3-4"></a><span class="w">    </span>run<span class="w"> </span>--rm<span class="w"> </span>upgrade-backup-restore
</code></pre></div>
<p>Убедитесь, что значение <code>POSTGRES_IMAGE</code> в файле <code>.env</code> соответствует версии PostgreSQL <strong>до</strong> обновления:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#on-premise-postgres-upgrade-compose-__codelineno-4-1"></a>POSTGRES_IMAGE=postgres:13.23-rev1 # версия, с которой обновляемся
</code></pre></div>
<h2 id="on-premise-postgres-upgrade-compose-_10">Процедура обновления<a class="headerlink" href="#on-premise-postgres-upgrade-compose-_10" title="Permanent link">&para;</a></h2>
<p>Установите в .env:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#on-premise-postgres-upgrade-compose-__codelineno-5-1"></a>POSTGRES_IMAGE=postgres:13.23-rev1 # версия, с которой обновляемся
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#on-premise-postgres-upgrade-compose-__codelineno-5-2"></a>POSTGRES_UPGRADE_IMAGE=postgres:15.15-rev1 # версия, на которую обновляемся
</code></pre></div>
<p>Загрузите образы, необходимые для обновления:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#on-premise-postgres-upgrade-compose-__codelineno-6-1"></a>docker<span class="w"> </span>compose<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#on-premise-postgres-upgrade-compose-__codelineno-6-2"></a><span class="w">  </span>-f<span class="w"> </span>docker-compose.yml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#on-premise-postgres-upgrade-compose-__codelineno-6-3"></a><span class="w">  </span>-f<span class="w"> </span>postgres-upgrade.override.yml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#on-premise-postgres-upgrade-compose-__codelineno-6-4"></a><span class="w">  </span>pull
</code></pre></div>
<p>Остановите все сервисы:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#on-premise-postgres-upgrade-compose-__codelineno-7-1"></a>docker<span class="w"> </span>compose<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#on-premise-postgres-upgrade-compose-__codelineno-7-2"></a><span class="w">  </span>-f<span class="w"> </span>docker-compose.yml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#on-premise-postgres-upgrade-compose-__codelineno-7-3"></a><span class="w">  </span>-f<span class="w"> </span>postgres-upgrade.override.yml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#on-premise-postgres-upgrade-compose-__codelineno-7-4"></a><span class="w">  </span>down
</code></pre></div>
<p>Инициализируйте PostgreSQL новой версии, выполните дамп и восстановление:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#on-premise-postgres-upgrade-compose-__codelineno-8-1"></a>docker<span class="w"> </span>compose<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#on-premise-postgres-upgrade-compose-__codelineno-8-2"></a><span class="w">  </span>-f<span class="w"> </span>docker-compose.yml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#on-premise-postgres-upgrade-compose-__codelineno-8-3"></a><span class="w">  </span>-f<span class="w"> </span>postgres-upgrade.override.yml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#on-premise-postgres-upgrade-compose-__codelineno-8-4"></a><span class="w">  </span>run<span class="w"> </span>--rm<span class="w"> </span>upgrade-dump-restore
</code></pre></div>
<p>Снова остановите сервисы:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#on-premise-postgres-upgrade-compose-__codelineno-9-1"></a>docker<span class="w"> </span>compose<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#on-premise-postgres-upgrade-compose-__codelineno-9-2"></a><span class="w">  </span>-f<span class="w"> </span>docker-compose.yml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#on-premise-postgres-upgrade-compose-__codelineno-9-3"></a><span class="w">  </span>-f<span class="w"> </span>postgres-upgrade.override.yml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#on-premise-postgres-upgrade-compose-__codelineno-9-4"></a><span class="w">  </span>down
</code></pre></div>
<p>Перенесите данные в основной том <code>db-data</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#on-premise-postgres-upgrade-compose-__codelineno-10-1"></a>docker<span class="w"> </span>compose<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#on-premise-postgres-upgrade-compose-__codelineno-10-2"></a><span class="w">  </span>-f<span class="w"> </span>docker-compose.yml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#on-premise-postgres-upgrade-compose-__codelineno-10-3"></a><span class="w">  </span>-f<span class="w"> </span>postgres-upgrade.override.yml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#on-premise-postgres-upgrade-compose-__codelineno-10-4"></a><span class="w">  </span>run<span class="w"> </span>--rm<span class="w"> </span>upgrade-cleanup-transfer
</code></pre></div>
<p>Установите версию PostgreSQL для образа, используемого сервисом <code>psql</code>, в файле <code>.env</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#on-premise-postgres-upgrade-compose-__codelineno-11-1"></a>POSTGRES_IMAGE=postgres:15.15-rev1 # версия, на которую обновились
</code></pre></div>
<p>Запустите сбор статистики (можно не дожидаться завершения):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#on-premise-postgres-upgrade-compose-__codelineno-12-1"></a>docker<span class="w"> </span>compose<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#on-premise-postgres-upgrade-compose-__codelineno-12-2"></a><span class="w">  </span>-f<span class="w"> </span>docker-compose.yml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#on-premise-postgres-upgrade-compose-__codelineno-12-3"></a><span class="w">  </span>-f<span class="w"> </span>postgres-upgrade.override.yml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#on-premise-postgres-upgrade-compose-__codelineno-12-4"></a><span class="w">  </span>run<span class="w"> </span>--rm<span class="w"> </span>upgrade-analyze-in-stages
</code></pre></div>
<p>Запустите CodeScoring:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#on-premise-postgres-upgrade-compose-__codelineno-13-1"></a>docker<span class="w"> </span>compose<span class="w"> </span>-f<span class="w"> </span>docker-compose.yml<span class="w"> </span>up<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#on-premise-postgres-upgrade-compose-__codelineno-13-2"></a><span class="w">  </span>--detach<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#on-premise-postgres-upgrade-compose-__codelineno-13-3"></a><span class="w">  </span>--force-recreate<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#on-premise-postgres-upgrade-compose-__codelineno-13-4"></a><span class="w">  </span>--remove-orphans<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#on-premise-postgres-upgrade-compose-__codelineno-13-5"></a><span class="w">  </span>--renew-anon-volumes
</code></pre></div>
<p>Проверьте логи и убедитесь в работоспособности инсталляции CodeScoring:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#on-premise-postgres-upgrade-compose-__codelineno-14-1"></a>docker<span class="w"> </span>compose<span class="w"> </span>logs<span class="w"> </span>-f
</code></pre></div>
<p>Удалите следующие тома:</p>
<ul>
<li><code>${COMPOSE_PROJECT_NAME}_upgrade-new-db-data</code></li>
<li><code>${COMPOSE_PROJECT_NAME}_upgrade-dump</code></li>
<li><code>${COMPOSE_PROJECT_NAME}_upgrade-backup</code></li>
</ul></section><section class="print-page" id="on-premise-backup" heading-number="3.2.3.3"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-backup.en">English</a></li>
</ul>
<h1 id="on-premise-backup-_1">Резервное копирование<a class="headerlink" href="#on-premise-backup-_1" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-backup-_2">Создание резервной копии установки<a class="headerlink" href="#on-premise-backup-_2" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Перейти в директорию с файлами запуска:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-backup-__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="nb">cd</span><span class="w"> </span>/path/to/docker/compose
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>Для создания резервной копии выполнить команду:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-backup-__codelineno-1-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-2" name="__codelineno-1-2"></a>docker<span class="w"> </span>compose<span class="w"> </span>run<span class="w"> </span>backup<span class="w"> </span>create
</code></pre></div></td></tr></table></div>
<p>Файл резервной копии сохранится в директорию <code>backup</code>.</p>
</li>
</ol>
<h2 id="on-premise-backup-_3">Восстановление из резервной копии<a class="headerlink" href="#on-premise-backup-_3" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Для восстановления из резервной копии выполнить команду:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-backup-__codelineno-2-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a>docker<span class="w"> </span>compose<span class="w"> </span>run<span class="w"> </span>backup<span class="w"> </span>restore<span class="w"> </span>BACKUP_FILENAME
</code></pre></div></td></tr></table></div>
<p><code>BACKUP_FILENAME</code> — имя файла резервной копии. Список доступных резервных копий можно получить выполнив команду:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#on-premise-backup-__codelineno-3-1"></a>ls<span class="w"> </span>-la<span class="w"> </span>./backup
</code></pre></div>
</li>
<li>
<p>Перезапустить платформу:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-backup-__codelineno-4-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-2" name="__codelineno-4-2"></a>docker<span class="w"> </span>compose<span class="w"> </span>up<span class="w"> </span>-d<span class="w"> </span>--force-recreate<span class="w"> </span>--renew-anon-volumes
</code></pre></div></td></tr></table></div>
</li>
</ol></section><section class="print-page" id="on-premise-proxy" heading-number="3.2.3.4"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-proxy.en">English</a></li>
</ul>
<h1 id="on-premise-proxy-_1">Работа через прокси<a class="headerlink" href="#on-premise-proxy-_1" title="Permanent link">&para;</a></h1>
<p>При необходимости работы системы через прокси необходимо раскомментировать и задать значения соответствующих переменных в файле <code>app.env</code>:</p>
<ul>
<li>
<p><code>HTTP_PROXY</code> и <code>HTTPS_PROXY</code> — адрес прокси-сервера</p>
<p><strong>Важно</strong>: для обеих переменных в значении должна использоваться схема <code>http</code>.</p>
</li>
<li>
<p><code>NO_PROXY</code> — список URL внешних систем, запросы к которым не должны идти через прокси. Среди значений возможно указание IP адресов, например:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-proxy-__codelineno-0-1"></a>NO_PROXY=127.0.0.1,192.168.0.1/24,example.com,domain.example.com,.subdomain.example.com
</code></pre></div>
<p>Если добавить список URL VCS в переменную <code>NO_PROXY</code> невозможно, то необходимо <a href="#on-premise-self-signed-ssl">добавить сертификат прокси в каталог SSL</a>.</p>
<p><strong>Важно</strong>: при заданных настройках НTTP Proxy мимо прокси-сервера будут идти все запросы к URL внешних систем, указанных в переменной <code>NO_PROXY</code>. Это относится как к системам контроля версий, так и, например, к подключенным таск-менеджерам.</p></section><section class="print-page" id="on-premise-self-signed-ssl" heading-number="3.2.3.5"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-self-signed-ssl.en">English</a></li>
</ul>
<h1 id="on-premise-self-signed-ssl-_1">Работа с самоподписанными сертификатами<a class="headerlink" href="#on-premise-self-signed-ssl-_1" title="Permanent link">&para;</a></h1>
<p>При работе с внешними системами CodeScoring проверяет валидность SSL-сертификатов удалённых хостов и по умолчанию не будет подключать проекты из систем, сертификаты которых не прошли валидацию или подписаны неизвестным системе удостоверяющим центром.</p>
<p>Чтобы подключить внешнюю систему, SSL-сертификат домена которой является самоподписанным, требуется добавить корневой сертификат в доверенные (trusted) на уровне установки. Для этого перед запуском системы его необходимо положить в директорию <code>ssl</code> в установочных файлах системы. Желательно дать файлу говорящее название, например, <code>codescoring-root-CA.crt</code>.</p>
<p><strong>Важно</strong>: расширение файла обязательно должно быть <code>crt</code>.</p>
<p>Чтобы посмотреть всю цепочку используемых для домена сертификатов и выделить корневой, можно использовать команду:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-self-signed-ssl-__codelineno-0-1"></a>openssl<span class="w"> </span>s_client<span class="w"> </span>-showcerts<span class="w"> </span>-partial_chain<span class="w"> </span>-connect<span class="w"> </span>DOMAIN.NAME:443
</code></pre></div></section><section class="print-page" id="on-premise-postgresql-tls" heading-number="3.2.3.6"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-postgresql-tls.en">English</a></li>
</ul>
<h1 id="on-premise-postgresql-tls-postgresqlpgbouncer-tls">Подключение к PostgreSQL/PgBouncer с использованием TLS<a class="headerlink" href="#on-premise-postgresql-tls-postgresqlpgbouncer-tls" title="Permanent link">&para;</a></h1>
<p>Подключение к PostgreSQL/PgBouncer с использованием TLS обеспечивает безопасную и зашифрованную передачу данных между клиентом и сервером. Данная функциональность доступна начиная с <a href="#changelog-on-premise-changelog-2025210-2025-05-21">версии CodeScoring 2025.21.0</a>.</p>
<h2 id="on-premise-postgresql-tls-_1">Инструкция для подключение<a class="headerlink" href="#on-premise-postgresql-tls-_1" title="Permanent link">&para;</a></h2>
<ol>
<li>Перед запуском системы разместить файлы сертификатов и ключей в каталоге <code>ssl</code> в установочных файлах системы;</li>
<li>
<p>Дать файлам говорящие названия, например <code>pgbouncer_server.crt</code>, <code>pgbouncer_server.key</code>;</p>
<p><strong>Важно</strong>: расширение файлов сертификатов обязательно должно быть <code>crt</code>;</p>
</li>
<li>
<p>Сменить владельца файлов ключей следующим образом:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-postgresql-tls-__codelineno-0-1"></a>chown<span class="w"> </span><span class="m">999</span>:0<span class="w"> </span>./ssl/postgresql_server.key
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#on-premise-postgresql-tls-__codelineno-0-2"></a>chown<span class="w"> </span><span class="m">1050</span>:0<span class="w"> </span>./ssl/pgbouncer_server.key
</code></pre></div></p>
</li>
<li>Раскомментировать и отредактировать файлы конфигурации SSL/TLS.</li>
</ol>
<h2 id="on-premise-postgresql-tls-postgresqlpgbouncer-tls_1">Пример включения PostgreSQL/PgBouncer в режим TLS с самоподписанными сертификатами<a class="headerlink" href="#on-premise-postgresql-tls-postgresqlpgbouncer-tls_1" title="Permanent link">&para;</a></h2>
<ol>
<li>Сгенерировать сертификаты в каталоге <code>ssl</code> в установочных файлах системы, используя утилиту <code>mkcert</code>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#on-premise-postgresql-tls-__codelineno-1-1"></a>docker<span class="w"> </span>run<span class="w"> </span>-v<span class="w"> </span>./ssl:/ssl<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span>alpine/mkcert<span class="w"> </span>-cert-file<span class="w"> </span>/ssl/pgbouncer_server.crt<span class="w"> </span>-key-file<span class="w"> </span>/ssl/pgbouncer_server.key<span class="w"> </span>pgbouncer
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#on-premise-postgresql-tls-__codelineno-1-2"></a>docker<span class="w"> </span>run<span class="w"> </span>-v<span class="w"> </span>./ssl:/ssl<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span>alpine/mkcert<span class="w"> </span>-cert-file<span class="w"> </span>/ssl/postgresql_server.crt<span class="w"> </span>-key-file<span class="w"> </span>/ssl/postgresql_server.key<span class="w"> </span>psql
</code></pre></div></li>
<li>Сменить владельцев файлов ключей
    <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#on-premise-postgresql-tls-__codelineno-2-1"></a>chown<span class="w"> </span><span class="m">999</span>:0<span class="w"> </span>./ssl/postgresql_server.key
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#on-premise-postgresql-tls-__codelineno-2-2"></a>chown<span class="w"> </span><span class="m">1050</span>:0<span class="w"> </span>./ssl/pgbouncer_server.key
</code></pre></div></li>
<li>Скопировать шаблоны конфигурации SSL/TLS
    <div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#on-premise-postgresql-tls-__codelineno-3-1"></a>cp<span class="w"> </span>postgres/pgbouncer_tls_include.ini.template<span class="w"> </span>postgres/pgbouncer_tls_include.ini
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#on-premise-postgresql-tls-__codelineno-3-2"></a>cp<span class="w"> </span>postgres/postgresql_ssl_include.conf.template<span class="w"> </span>postgres/postgresql_ssl_include.conf
</code></pre></div></li>
<li>Раскомментировать и отредактировать следующие строчки в файле конфигурации <code>postgres/pgbouncer_tls_include.ini</code>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#on-premise-postgresql-tls-__codelineno-4-1"></a><span class="nv">client_tls_sslmode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>require
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#on-premise-postgresql-tls-__codelineno-4-2"></a><span class="nv">client_tls_ca_file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/usr/local/share/ca-certificates/pgbouncer_server.crt
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#on-premise-postgresql-tls-__codelineno-4-3"></a><span class="nv">client_tls_key_file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/usr/local/share/ca-certificates/pgbouncer_server.key
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#on-premise-postgresql-tls-__codelineno-4-4"></a><span class="nv">client_tls_cert_file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/usr/local/share/ca-certificates/pgbouncer_server.crt
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#on-premise-postgresql-tls-__codelineno-4-5"></a><span class="nv">server_tls_sslmode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>require
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#on-premise-postgresql-tls-__codelineno-4-6"></a><span class="nv">server_tls_ca_file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/usr/local/share/ca-certificates/postgresql_server.crt
</code></pre></div></li>
<li>Раскомментировать и отредактировать следующие строчки в файле конфигурации <code>postgres/postgresql_ssl_include.conf</code>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#on-premise-postgresql-tls-__codelineno-5-1"></a><span class="nv">ssl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>on
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#on-premise-postgresql-tls-__codelineno-5-2"></a><span class="nv">ssl_cert_file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;/usr/local/share/ca-certificates/postgresql_server.crt&#39;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#on-premise-postgresql-tls-__codelineno-5-3"></a><span class="nv">ssl_key_file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;/usr/local/share/ca-certificates/postgresql_server.key&#39;</span>
</code></pre></div></li>
</ol></section><section class="print-page" id="on-premise-analysis-ignore-paths" heading-number="3.2.3.7"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-analysis-ignore-paths.en">English</a></li>
</ul>
<h1 id="on-premise-analysis-ignore-paths-_1">Пути анализа и исключения<a class="headerlink" href="#on-premise-analysis-ignore-paths-_1" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-analysis-ignore-paths-_2">Значения по умолчанию<a class="headerlink" href="#on-premise-analysis-ignore-paths-_2" title="Permanent link">&para;</a></h2>
<p>В анализе сконфигурированы исключения для путей, по которым <strong>не производится</strong> поиск манифестов, файлов и не происходит анализ качества. По умолчанию в исключения добавлены следующие значения (формат выражений — glob):</p>
<ul>
<li><code>**/.git*</code></li>
<li><code>**/.git/**</code></li>
<li><code>**/fixtures/**</code></li>
<li><code>**/tests/**</code></li>
<li><code>**/doc/**</code></li>
<li><code>**/docs/**</code></li>
<li><code>**/samples/**</code></li>
</ul>
<h2 id="on-premise-analysis-ignore-paths-_3">Добавление исключений<a class="headerlink" href="#on-premise-analysis-ignore-paths-_3" title="Permanent link">&para;</a></h2>
<p>Чтобы добавить в список свои значения, в файле <code>app.env</code> в переменную <code>ANALYSIS_IGNORED_PATHS</code> необходимо <strong>добавить</strong> значения в формате:</p>
<ul>
<li><code>**/ignoring_prj_1/**</code> - для исключения из анализа директории <code>ignoring_prj_1</code>;</li>
<li><code>**/ignoring_projects_*</code> - для исключения из анализа директорий у которых в навании присутствует <code>ignoring_projects_</code>;</li>
<li><code>**/ignoring_file.pom</code> - для исключения из анализа файла <code>ignoring_file.pom</code>.</li>
</ul>
<p><strong>Важно</strong>: не рекомендуется удалять пути исключений, указанные в переменной по умолчанию.</p>
<p>Пути добавляются через <code>,</code>. Пример переменной с добавленным исключением <code>**/migrations/**</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-analysis-ignore-paths-__codelineno-0-1"></a>ANALYSIS_IGNORED_PATHS=**/.git*,**/.git/**,**/fixtures/**,**/tests/**,**/doc/**,**/docs/**,**/samples/**,**/migrations/**
</code></pre></div></section><section class="print-page" id="on-premise-scripts" heading-number="3.2.3.8"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-scripts.en">English</a></li>
</ul>
<h1 id="on-premise-scripts-_1">Скрипты для управления платформой<a class="headerlink" href="#on-premise-scripts-_1" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-scripts-_2">Порядок запуска скриптов<a class="headerlink" href="#on-premise-scripts-_2" title="Permanent link">&para;</a></h2>
<p>Скрипты запускаются в backend-сервисе платформы:</p>
<ul>
<li>для Docker Compose:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-scripts-__codelineno-0-1"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>&lt;backend<span class="w"> </span>service&gt;<span class="w"> </span>./manage.py<span class="w"> </span>runscript<span class="w"> </span>&lt;команда&gt;<span class="sb">`</span>
</code></pre></div>
<ul>
<li>для Helm:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#on-premise-scripts-__codelineno-1-1"></a>kubectl<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>&lt;backend<span class="w"> </span>service&gt;<span class="w"> </span>./manage.py<span class="w"> </span>runscript<span class="w"> </span>&lt;команда&gt;
</code></pre></div>
<p>Переменные, передаваемые в скрипт, являются строго позиционными и обозначаются ключом <code>--script-arg</code>, опциональные переменные указаны в квадратных скобках.</p>
<h2 id="on-premise-scripts-_3">Доступные команды<a class="headerlink" href="#on-premise-scripts-_3" title="Permanent link">&para;</a></h2>
<h3 id="on-premise-scripts-set_new_secret_key"><code>set_new_secret_key</code><a class="headerlink" href="#on-premise-scripts-set_new_secret_key" title="Permanent link">&para;</a></h3>
<p>Данная команда устанавливает новое значение переменной окружения <code>SECRET_KEY</code>. Чтобы избежать проблем с кодировкой, алиасами или других неожиданных действий консоли, значение <code>NEW_SECRET_KEY</code> рекомендуется скопировать из вывода в терминале после окончания работы скрипта.</p>
<p><strong>Синтаксис</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#on-premise-scripts-__codelineno-2-1"></a><span class="w"> </span>set_new_secret_key<span class="w"> </span>--script-arg<span class="o">=</span><span class="s2">&quot;NEW_SECRET_KEY&quot;</span><span class="w"> </span><span class="o">[</span>--script-arg<span class="o">=</span><span class="s2">&quot;OLD_SECRET_KEY&quot;</span><span class="o">]</span>
</code></pre></div>
<p><strong>Варианты использования</strong></p>
<ol>
<li>
<p>Изменение с явно указанного <code>OLD_SECRET_KEY</code> на явно указанный <code>NEW_SECRET_KEY</code>. Данное изменение требуется в ситуации, когда во время запуска платформы значение переменной окружения <code>SECRET_KEY</code> отличалось от <code>OLD_SECRET_KEY</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#on-premise-scripts-__codelineno-3-1"></a>./manage.py<span class="w"> </span>runscript<span class="w"> </span>set_new_secret_key<span class="w"> </span>--script-arg<span class="o">=</span><span class="s2">&quot;NEW_SECRET_KEY&quot;</span><span class="w"> </span>--script-arg<span class="o">=</span><span class="s2">&quot;OLD_SECRET_KEY&quot;</span>
</code></pre></div>
<p>Данная команда перешифрует все чувствительные поля с переданного <code>OLD_SECRET_KEY</code> на <code>NEW_SECRET_KEY</code>.</p>
<p><strong>Важно:</strong> Если значение переменной <code>SECRET_KEY</code> на момент запуска скрипта не совпадало с <code>NEW_SECRET_KEY</code>,
  после успешного окончания скрипта необходимо изменить значение переменной <code>SECRET_KEY</code> на <code>NEW_SECRET_KEY</code>,
  и перезапустить платформу.</p>
</li>
<li>
<p>Изменение на явно указанный <code>NEW_SECRET_KEY</code> без указания <code>OLD_SECRET_KEY</code>. Требуется в ситуации, когда <code>OLD_SECRET_KEY</code> совпадает с указанным в <code>settings.SECRET_KEY</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#on-premise-scripts-__codelineno-4-1"></a>./manage.py<span class="w"> </span>runscript<span class="w"> </span>set_new_secret_key<span class="w"> </span>--script-arg<span class="o">=</span><span class="s2">&quot;NEW_SECRET_KEY&quot;</span>
</code></pre></div>
<p>Данная команда перешифрует все чувствительные поля с ключа, установленного в <code>settings.SECRET_KEY</code>
  на <code>NEW_SECRET_KEY</code>.</p>
<p>После успешного окончания скрипта необходимо изменить значение переменной <code>SECRET_KEY</code> на <code>NEW_SECRET_KEY</code>
  и перезапустить платформу.</p>
</li>
</ol></section><section class="print-page" id="on-premise-variables-extended" heading-number="3.2.3.9"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-variables-extended.en">English</a></li>
</ul>
<h1 id="on-premise-variables-extended-_1">Описание переменных<a class="headerlink" href="#on-premise-variables-extended-_1" title="Permanent link">&para;</a></h1>
<p>В этом разделе представлено описание переменных, необходимых для установки и настройки платформы, включая те, которые описаны в разделах <a href="#on-premise-installation">Установка системы в Docker</a> и <a href="#on-premise-installation-in-k8s">Работа системы в Kubernetes</a>.</p>
<div class="admonition warning">
<p class="admonition-title">Внесение изменений</p>
<p>Перед внесением любых изменений в стандартное значение переменных, необязательных к заполнению во время установки, проконсультируйтесь с технической поддержкой. Изменение стандартных значений может оказать влияние на производительность и эффективность работы системы.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Не используйте в параметрах символ <code>#</code>, он может некорректно восприниматься системой при установке.</p>
</div>
<h2 id="on-premise-variables-extended-envtemplate"><strong>env.template</strong><a class="headerlink" href="#on-premise-variables-extended-envtemplate" title="Permanent link">&para;</a></h2>
<p>Файл <code>env.template</code> содержит переменные, необходимые для запуска инсталляции CodeScoring с использованием Docker Compose. Он определяет параметры, необходимые для корректного запуска инсталляции в контейнеризированной среде.</p>
<ul>
<li>
<p><strong>COMPOSE_PROJECT_NAME</strong> - название проекта в Docker Compose, используемое как префикс для ресурсов, создаваемых Docker Compose;</p>
</li>
<li>
<p><strong>CODESCORING_VERSION</strong> - определяет версию CodeScoring для установки. Актуальную версию можно узнать в разделе <a href="#changelog-on-premise-changelog">Changelog</a>;</p>
</li>
<li>
<p><strong>SECRET_KEY</strong> - случайная строка символов, используемая CodeScoring как секрет инсталляции;</p>
</li>
<li>
<p><strong>DJANGO_CSRF_TRUSTED_ORIGINS</strong> - cписок доменов для правильной работы CSRF защиты. Указание протокола является обязательным, например:
  <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-variables-extended-__codelineno-0-1"></a><span class="w">   </span><span class="nv">DJANGO_CSRF_TRUSTED_ORIGINS</span><span class="o">=</span>http://localhost:18000,https://localhost:8081,https://внешний_ip:8081
</code></pre></div></p>
</li>
</ul>
<h3 id="on-premise-variables-extended-nginx">Nginx<a class="headerlink" href="#on-premise-variables-extended-nginx" title="Permanent link">&para;</a></h3>
<p>Для настройки домена системы CodeScoring использует <a href="https://nginx.org/ru/docs/">Nginx</a>.</p>
<ul>
<li><strong>NGINX_HOST</strong> - хост, на котором будет доступна система;</li>
<li><strong>NGINX_PORT</strong> - порт, на котором будет доступна система;</li>
<li><strong>SITE_SCHEME</strong> - протокол передачи данных, по умолчанию <code>https</code>.</li>
</ul>
<h3 id="on-premise-variables-extended-postgresql">PostgreSQL<a class="headerlink" href="#on-premise-variables-extended-postgresql" title="Permanent link">&para;</a></h3>
<p>Для управления, обработки и хранения данных CodeScoring использует <code>PostgreSQL</code>.</p>
<ul>
<li><strong>POSTGRES_DB</strong> - название базы данных;</li>
<li><strong>POSTGRES_USER</strong> - имя пользователя. При использовании собственной базы необходимо убедиться, что пользователь имеет следующие права: <code>Superuser, Create role, Create DB, Replication, Bypass RLS</code>;</li>
<li><strong>POSTGRES_PASSWORD</strong> - пароль;</li>
<li><strong>POSTGRES_HOST</strong> - хост, на котором доступна база данных;</li>
<li><strong>POSTGRES_PORT</strong> - порт, на котором доступна база данных.</li>
</ul>
<h3 id="on-premise-variables-extended-sentry">Sentry<a class="headerlink" href="#on-premise-variables-extended-sentry" title="Permanent link">&para;</a></h3>
<p>По умолчанию интеграция с Sentry отключена, <strong>SENTRY_ENABLE</strong> = <code>False</code>. При необходимости использования Sentry для отправки данных об ошибках и других событий системы укажите <strong>SENTRY_ENABLED</strong> = <code>True</code> и заполните следующие переменные:</p>
<ul>
<li><strong>SENTRY_DSN</strong> - идентификатор проекта внутри Sentry, в который будут отправляться данные;</li>
<li><strong>SENTRY_ENVIRONMENT</strong> - окружение к которому будут относится отправляемые данные;</li>
<li><strong>SENTRY_RELEASE</strong> - релиз с которым будут связаны отправляемые данные.</li>
</ul>
<h2 id="on-premise-variables-extended-appenvtemplate"><strong>app.env.template</strong><a class="headerlink" href="#on-premise-variables-extended-appenvtemplate" title="Permanent link">&para;</a></h2>
<p>Файл <code>app.env.template</code> содержит переменные окружения, необходимые для конфигурирования инсталляции CodeScoring. Он определяет настройки базы данных, веб-сервера и очередей, а также другие важные параметры системы.</p>
<ul>
<li>
<p><strong>PATH</strong> - определяет путь к исполняемым файлам, файлам виртуального окружения (venv) и стандартным системным путям:
  <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#on-premise-variables-extended-__codelineno-1-1"></a><span class="w">   </span><span class="nv">PATH</span><span class="o">=</span>/venv/bin:<span class="si">${</span><span class="nv">PATH</span><span class="si">}</span>:/jscpd/node_modules/jscpd/bin:/sbin:/bin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:/root/bin
</code></pre></div></p>
</li>
<li>
<p><strong>ANALYSIS_IGNORED_PATHS</strong> - содержит список путей, по которым не производится поиск манифестов, файлов и не происходит анализ качества. По умолчанию указаны следующие пути:
  <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#on-premise-variables-extended-__codelineno-2-1"></a><span class="w">   </span>**/.git*,**/.git/**,**/fixtures/**,**/tests/**,**/doc/**,**/docs/**,**/samples/**
</code></pre></div></p>
</li>
<li>
<p>Переменные, указывающие на расположение основных файлов инсталляции:</p>
<ul>
<li><strong>HOME</strong> - значение по умолчанию: <code>ipcs-backend</code>;</li>
<li><strong>BASE_DIR</strong> - значение по умолчанию: <code>ipcs-backend</code>;</li>
<li><strong>AZURE_DEVOPS_CACHE_DIR</strong> - значение по умолчанию: <code>ipcs-backend</code>.</li>
</ul>
</li>
<li>
<p><strong>INDEX_API_URL</strong> - URL-адрес API для индекса, необходимого для обновления базы знаний, значение по умолчанию: <code>https://index.codescoring.ru</code>. Данный параметр не требует изменений;</p>
</li>
<li>
<p><strong>INDEX_PROXY_URL</strong> - указывает внутри сети докер на URL-адрес контейнера Index Proxy. Не нуждается в изменении. Значение по умолчанию: <code>http://index-proxy:8000</code>;</p>
</li>
<li>
<p><strong>ALLOWED_HOSTS</strong> - разрешенные хосты для Django. Определяет допустимые адреса, с которых Django может принимать запросы. При отсутствии хоста в списке, Django отклоняет входящие запросы. По умолчанию разрешены все хосты <code>*</code>;</p>
</li>
<li>
<p><strong>DJANGO_CACHES_REDIS_URL</strong> - адрес сервера Redis, используемого в качестве системы кэширования Django. Значение по умолчанию: <code>redis://redis:6379/1</code>;</p>
</li>
<li>
<p><strong>JOHNNY_BIN</strong> - путь к исполняемому файлу агента сканирования <code>JOHNNY</code>. Значение по умолчанию: <code>/agents/johnny-linux-amd64</code>;</p>
</li>
<li>
<p><strong>HASHER_BIN</strong> - путь к исполняемому файлу агента <code>HASHER</code>, отвечающего за хеширование файлов. Значение по умолчанию: <code>/agents/hasher-linux-amd64</code>;</p>
</li>
<li>
<p><strong>ANALYSIS_ROOT</strong> - корневая директория для клонирования репозиториев для анализа. Файлы копируются как временные и после анализа удаляются. Значение по умолчанию: <code>/analysis-root</code>;</p>
</li>
<li>
<p><strong>MEDIA_ROOT</strong> - рабочая директория для промежуточного хранения скачиваемых и загружаемых файлов (таких как отчёт, SBOM и т.д.). Значение по умолчанию: <code>/analysis-root</code>;</p>
</li>
<li>
<p><strong>NODE_PATH</strong> - директория расположения <code>node_modules</code>. Значение по умолчанию: <code>/jscpd/node_modules</code>;</p>
</li>
<li>
<p><strong>REQUESTS_CA_BUNDLE</strong> и <strong>SSL_CERT_FILE</strong> - указывают на расположение SSL-сертификатов, используемых инсталляцией для работы:
  <div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#on-premise-variables-extended-__codelineno-3-1"></a><span class="nv">REQUESTS_CA_BUNDLE</span><span class="o">=</span>/etc/ssl/certs/ca-certificates.crt
</code></pre></div>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#on-premise-variables-extended-__codelineno-4-1"></a><span class="nv">SSL_CERT_FILE</span><span class="o">=</span>/etc/ssl/certs/ca-certificates.crt
</code></pre></div></p>
</li>
<li>
<p><strong>USE_SMART_FILTERS</strong> - отвечает за использование "умных фильтров" в Celery. Эти фильтры позволяют более гибко управлять порядком выполнения задач. Доступны значения <code>True</code> или <code>False</code>, значение по умолчанию: <code>True</code>;</p>
</li>
<li>
<p>В случае необходимости использования прокси для предоставления доступа инсталляции в интернет или к системе контроля версий, раскомментируйте и заполните необходимые переменные, указав URL-адрес прокси с протоколом, а также имя пользователя и пароль (при необходимости), например:</p>
<ul>
<li><strong>HTTP_PROXY</strong>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#on-premise-variables-extended-__codelineno-5-1"></a><span class="nv">HTTP_PROXY</span><span class="o">=</span>http://proxy_user:password@proxy_host:proxy_port
</code></pre></div></li>
<li><strong>HTTPS_PROXY</strong>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#on-premise-variables-extended-__codelineno-6-1"></a><span class="nv">HTTPS_PROXY</span><span class="o">=</span>http://proxy_user:password@proxy_host:proxy_port
</code></pre></div></li>
<li><strong>NO_PROXY</strong>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#on-premise-variables-extended-__codelineno-7-1"></a><span class="nv">NO_PROXY</span><span class="o">=</span>localhost,gitlab.domain.local
</code></pre></div></li>
</ul>
</li>
</ul>
<h3 id="on-premise-variables-extended-huey">HUEY<a class="headerlink" href="#on-premise-variables-extended-huey" title="Permanent link">&para;</a></h3>
<p><strong>HUEY</strong> - сервис, отвечающий за очереди и задачи. Количество воркеров рекомендуется изменять, только после консультации со специалистами технической поддержки.</p>
<ul>
<li><strong>HUEY_REDIS_URL</strong> - адрес для подключения к серверу Redis, используемому Huey. Значение по умолчанию: <code>redis://redis:6379/0</code>;</li>
<li><strong>HUEY_WORKERS</strong> - количество воркеров HUEY, разбирающих очереди <code>tasks-main</code>. Значение по умолчанию: <code>8</code>;</li>
<li><strong>HUEY_HIGH_PRIORITY_WORKERS</strong> - количество воркеров HUEY для высокоприоритетных задач. Значение по умолчанию: <code>8</code>;</li>
<li><strong>HUEY_OSA_PACKAGE_SCAN_WORKERS</strong> - количество воркеров HUEY для модуля сканирования пакетов OSA. Значение по умолчанию: <code>4</code>;</li>
<li><strong>HUEY_OSA_CONTAINER_IMAGE_SCAN_WORKERS</strong> - количество воркеров HUEY для модуля сканирования контейнеров OSA. Значение по умолчанию: <code>4</code>;</li>
<li><strong>HUEY_POLICY_WORKERS</strong> - количество воркеров HUEY для работы политик безопасности. Значение по умолчанию: <code>4</code>;</li>
<li><strong>HUEY_TQI_WORKERS</strong> - количество воркеров HUEY для модуля TQI. Значение по умолчанию: <code>4</code>;</li>
<li><strong>HUEY_SECRETS_WORKERS</strong> - количество воркеров HUEY для модуля поиска секретов. Значение по умолчанию: <code>4</code>;</li>
<li><strong>HUEY_MEDIA_WORKERS</strong> - количество воркеров Huey, отвечающих за загрузку медиа. Значение по умолчанию: <code>4</code>;</li>
<li><strong>HUEY_SCA_EXTERNAL_SCAN_WORKERS</strong> - количество воркеров отвечающих за очередь анализа, запущенного через агент Джонни <code>(tasks-sca-external-scan)</code>. Значение по умолчанию: <code>4</code>;</li>
<li><strong>HUEY_WEBHOOKS_WORKERS</strong> - стандартное количество воркеров HUEY, отвечающих за работу вебхуков. Значение по умолчанию: <code>2</code>;</li>
<li><strong>HUEY_WORKER_MAX_TASKS</strong> - максимальное количество задач, которое может обработать один воркер HUEY. Значение по умолчанию: <code>500</code>.</li>
</ul>
<h3 id="on-premise-variables-extended-redis">Redis<a class="headerlink" href="#on-premise-variables-extended-redis" title="Permanent link">&para;</a></h3>
<p><strong>Redis</strong> - хранилище данных, предназначенное для кэширования и управления данными в реальном времени. Переменные, определяющие параметры конфигурации для взаимодействия с сервером <a href="#on-premise-containers-description">Redis</a>:</p>
<ul>
<li><strong>REDIS_BACKOFF_CAP</strong> - максимальное количество повторных попыток соединения при возникновении ошибок. Если после этого количества попыток соединение не установлено, будет возвращена ошибка. Значение по умолчанию: <code>5</code>;</li>
<li><strong>REDIS_BACKOFF_BASE</strong> - базовое время задержки (в секундах) между повторными попытками при возникновении ошибок. Значение по умолчанию: <code>0.08</code>;</li>
<li><strong>REDIS_RETRIES</strong> - общее количество попыток подключения к серверу <code>Redis</code>. Значение по умолчанию: <code>5</code>;</li>
<li><strong>REDIS_SOCKET_CONNECT_TIMEOUT</strong> - время ожидания (в секундах) при выполнении операций с сервером Redis. Если операция не завершится в течение этого времени, будет выдана ошибка. Значение по умолчанию: <code>5.0</code>;</li>
<li><strong>REDIS_SOCKET_TIMEOUT</strong> - время ожидания (в секундах) при выполнении операций с сервером Redis. Если соединение не установлено в течение этого времени, будет осуществлена повторная попытка или выдана ошибка. Значение по умолчанию: <code>5.0</code>;</li>
<li><strong>REDIS_SOCKET_KEEPALIVE</strong> - включает механизм поддержки активного соединения с сервером Redis, чтобы избежать его разрыва из-за бездействия. Доступны значения <code>True</code> или <code>False</code>, значение по умолчанию: <code>True</code>;</li>
<li><strong>TASK_RESULT_EXPIRATION_PERIOD</strong> - указывает, как долго (в секундах) результаты выполнения задач будут храниться в <code>Redis</code>. После истечения этого времени они будут удалены. Значение по умолчанию: <code>14400</code>.</li>
</ul>
<h3 id="on-premise-variables-extended-celery">Celery<a class="headerlink" href="#on-premise-variables-extended-celery" title="Permanent link">&para;</a></h3>
<p><strong>Celery</strong> - сервис, отвечающий за управления асинхронными задачами, который позволяет разгрузить основные процессы приложения и повысить его отзывчивость. Переменные, отвечающие за настройку воркеров <a href="#on-premise-containers-description">Celery</a>:</p>
<ul>
<li><strong>CELERY_WORKER_CONCURRENCY</strong> - количество задач, которые может обрабатывать один воркер Celery одновременно, значение по умолчанию: <code>6</code>;</li>
<li><strong>CELERY_WORKER_MAX_CONCURRENCY</strong> - максимальное количество задач, которые может обрабатывать один воркер Celery. Этот параметр используется для предотвращения перегрузки системы при большом количестве задач, значение по умолчанию: <code>12</code>;</li>
<li><strong>CELERY_MEDIA_WORKER_CONCURRENCY</strong> - количество задач, которые может обрабатывать воркер Celery, отвечающий за обработку медиа-задач (например, генерация отчётов), значение по умолчанию: <code>2</code>;</li>
<li><strong>CELERY_MEDIA_WORKER_MAX_CONCURRENCY</strong> - максимальное количество задач, которые может обрабатывать воркер Celery, отвечающий за обработку медиа-задач. Этот параметр используется для предотвращения перегрузки системы при большом количестве задач, значение по умолчанию: <code>4</code>;</li>
</ul>
<h3 id="on-premise-variables-extended-codescoring-osa">Архивирование данных CodeScoring OSA<a class="headerlink" href="#on-premise-variables-extended-codescoring-osa" title="Permanent link">&para;</a></h3>
<p>Следующие переменные отвечают за настройку архивирования данных сервиса системы CodeScoring - OSA. По умолчанию переменные <code>OSA_ARCHIVE_THRESHOLD_DAYS, OSA_ARCHIVE_AUTO_CLEANUP_ENABLED, OSA_ARCHIVE_RETENTION_PERIOD_DAYS, OSA_ARCHIVE_CHUNK_SIZE</code> закомментированы, при необходимости их использования, необходимо их расскомментировать.</p>
<ul>
<li><strong>OSA_ARCHIVE_THRESHOLD_DAYS</strong> - период (в днях), после которого пакет или контейнерный образ, не получивший запросов, архивируется. Значение по умолчанию: <code>14</code>;</li>
<li><strong>OSA_ARCHIVE_RETENTION_PERIOD_DAYS</strong> - период (в днях) указывающий, сколько дней архивные пакеты или контейнерные образы будут храниться перед тем, как быть удаленными, при включенной автоматической очистке <code>OSA_ARCHIVE_AUTO_CLEANUP_ENABLED</code>. Значение по умолчанию: <code>30</code>;</li>
<li><strong>OSA_ARCHIVE_AUTO_CLEANUP_ENABLED</strong> - включение или отключение автоматической очистки архивных компонентов OSA. Если выставлено значение <code>True</code>, то система будет автоматически удалять архивные пакеты после периода, указанного в <code>OSA_ARCHIVE_RETENTION_PERIOD_DAYS</code>, если <code>False</code> - очистка выполняется вручную, значение по умолчанию: <code>False</code>;</li>
<li><strong>OSA_ARCHIVE_CHUNK_SIZE</strong> - определяет размер "порций" (чанков) для обработки архивных компонентов. Этот параметр может влиять на производительность и эффективность процесса архивирования/очистки. Значение по умолчанию: <code>1000</code>.</li>
</ul>
<h3 id="on-premise-variables-extended-judge">Judge<a class="headerlink" href="#on-premise-variables-extended-judge" title="Permanent link">&para;</a></h3>
<p>Следующие переменные отвечают за настройку компонента <a href="#on-premise-containers-description">Judge</a>, отвечающего за работу политик в рамках работы сервиса OSA Proxy. Их необходимо настраивать только в случае использования OSA Proxy:</p>
<ul>
<li><strong>WEB_CONCURRENCY</strong> - определяет количество воркеров для параллельной проверки компонентов или контейнеров на соответствие политикам безопасности. Значение по умолчанию: <code>5</code>;</li>
<li><strong>MIN_DATABASE_CONNECTION_POOL_SIZE</strong> - определяет минимальный пул активных соединений к базе данных. По умолчанию: переменная закомментирована и имеет значение <code>0</code>;</li>
<li><strong>MAX_DATABASE_CONNECTION_POOL_SIZE</strong> - определяет максимальный пул активных соединений к базе данных. По умолчанию: переменная закомментирована и имеет значение <code>10</code>.</li>
</ul></section><section class="print-page" id="on-premise-containers-description" heading-number="3.2.3.10"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-containers-description.en">English</a></li>
</ul>
<h1 id="on-premise-containers-description-_1">Описание служб<a class="headerlink" href="#on-premise-containers-description-_1" title="Permanent link">&para;</a></h1>
<p>В данном разделе представлен обзор основных служб, используемых для работы системы.</p>
<h2 id="on-premise-containers-description-_2">Основные компоненты<a class="headerlink" href="#on-premise-containers-description-_2" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Frontend</strong> – пользовательский интерфейс, обеспечивающий взаимодействие с системой. Отображает результаты анализа, настройки и параметры политик.</li>
<li><strong>Backend</strong> – обрабатывает запросы от Frontend и координирует работу других компонентов системы;</li>
<li><strong>Celery-worker</strong> – выполняет задачи, полученные от различных сервисов (например, Celery-beat и Backend);</li>
<li><strong>Celery-beat</strong> – планировщик задач, запускающий задачи в Celery-worker по заданному расписанию;</li>
<li><strong>Collectstatic</strong> – отвечает за сборку статических файлов, необходимых для работы системы;</li>
<li><strong>Fluentd</strong> – агент сбора логов, собирающий логи из всех компонентов системы;</li>
<li><strong>Index-proxy</strong> – обогащает запросы к индексу (https://index.codescoring.ru) дополнительными данными и заголовками;</li>
<li><strong>Migrate</strong> – выполняет конфигурацию системы при запуске и обновление базы данных;</li>
<li><strong>Osa-api</strong> – обеспечивает взаимодействие между основной системой и плагином OSA (установленным в Sonartype Nexus Repository или Jfrog Artifactory) через API;</li>
<li><strong>Osa-registration</strong> – отвечает за сканирование и проверку пакетов и контейнерных образов на соответствие политикам;</li>
<li><strong>Pgbouncer</strong> – обеспечивает управление и оптимизацию запросов к базе данных;</li>
<li><strong>Psql</strong> – клиент PostgreSQL, используемый для управления базой данных;</li>
<li><strong>Redis</strong> – кэш и брокер сообщений, обеспечивающий хранение данных и координацию работы компонентов;</li>
<li><strong>Tasks-high-priority</strong> – очередь для выполнения задач с высоким приоритетом;</li>
<li><strong>Tasks-main</strong> – очередь для выполнения основных задач, таких как сканирование, загрузка проектов и отправка политик;</li>
<li><strong>Tasks-main-scheduler</strong> – планировщик периодических задач, например сканирование по расписанию;</li>
<li><strong>Tasks-media</strong> – очередь для загрузки и выгрузки медиафайлов;</li>
<li><strong>Tasks-osa-container-image-scan</strong> – отвечает за сканирование образов в стандартах Docker, OCI и Singularity  на предмет уязвимостей;</li>
<li><strong>Tasks-osa-package-scan</strong> – отвечает за сканирование пакетов на наличие уязвимостей;</li>
<li><strong>Tasks-policy</strong> – выполняет задачи по проверке соответствия политикам безопасности;</li>
<li><strong>Tasks-sca-external-scan</strong> – очередь для сканирований, запущенных через консольного агента Johnny;</li>
<li><strong>Tasks-tqi</strong> – агент модуля CodeScoring TQI (Teams and Quality Intelligence), анализирующий качество исходного кода;</li>
<li><strong>Tasks-secrets</strong> – агент модуля CodeScoring Secrets, отвечающий за поиск чувствительной информации в коде;</li>
<li><strong>Judge</strong> – отвечает за работу политик в рамках работы сервиса OSA Proxy.</li>
</ul></section><section class="print-page" id="on-premise-troubleshooting" heading-number="3.2.3.11"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-troubleshooting.en">English</a></li>
</ul>
<h1 id="on-premise-troubleshooting-_1">Диагностика неполадок<a class="headerlink" href="#on-premise-troubleshooting-_1" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-troubleshooting-_2">Работа с логами<a class="headerlink" href="#on-premise-troubleshooting-_2" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Перейти в директорию с файлами запуска:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-troubleshooting-__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="nb">cd</span><span class="w"> </span>/path/to/docker/compose
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>Выполнить команду копирования файла логов из контейнера в файл <code>codescoring_onprem.log</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-troubleshooting-__codelineno-1-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-2" name="__codelineno-1-2"></a>docker<span class="w"> </span>cp<span class="w"> </span>-L<span class="w"> </span>PROJECT_NAME_fluentd_1:/fluentd/log/docker.log<span class="w"> </span>codescoring_onprem.log
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>Отправить вендору файл <code>codescoring_onprem.log</code>.</p>
</li>
</ol>
<h2 id="on-premise-troubleshooting-_3">Переустановка системы<a class="headerlink" href="#on-premise-troubleshooting-_3" title="Permanent link">&para;</a></h2>
<p>При необходимости начать процесс установки с нуля нужно выполнить очистку томов.</p>
<p>Если на сервере с докером нет других контейнеров, кроме проекта CodeScoring, выполнить команду:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#on-premise-troubleshooting-__codelineno-2-1"></a>docker<span class="w"> </span>system<span class="w"> </span>prune<span class="w"> </span>--all<span class="w"> </span>--volumes
</code></pre></div>
<p>Если на сервере есть ещё другие проекты на docker:</p>
<ol>
<li>
<p>остановить docker compose:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-troubleshooting-__codelineno-3-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a>docker<span class="w"> </span>compose<span class="w"> </span>down<span class="w"> </span>--remove-orphans
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>выполнить команду:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-troubleshooting-__codelineno-4-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-2" name="__codelineno-4-2"></a>docker<span class="w"> </span>volume<span class="w"> </span>rm<span class="w"> </span>PROJECT_NAME__db-data
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>Если возникнет ошибка, что данный том используется контейнером, следует выполнить команду и повторить предыдущие шаги (<code>CT_HASH</code> будет в сообщении об ошибке):</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#on-premise-troubleshooting-__codelineno-5-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-3" name="__codelineno-5-3"></a>docker<span class="w"> </span>rm<span class="w"> </span>CT_HASH
</code></pre></div></td></tr></table></div>
</li>
</ol>
<p>Если проблема не решается, обратиться к контактному лицу вендора, оказывающему сопровождение, для получения дальнейших инструкций.</p></section></section></section>
                    <section class='print-page md-section' id='section-3-3' heading-number='3.3'>
                        <h1>Настройка платформы<a class='headerlink' href='#section-3-3' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="on-premise-how-to-activation" heading-number="3.3.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-activation.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-activation-_1">Активация системы<a class="headerlink" href="#on-premise-how-to-activation-_1" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-how-to-activation-_2">Ввод ключа активации<a class="headerlink" href="#on-premise-how-to-activation-_2" title="Permanent link">&para;</a></h2>
<p>Для работы системы необходимо её активировать с помощью ключа, который передается клиенту в отдельном <code>txt</code> файле.</p>
<p>Для ввода ключа необходимо перейти в раздел <code>Настройки -&gt; Ключ активации</code>, скопировать текст из файла в поле без каких-либо изменений и нажать кнопку <strong>Сохранить</strong>. В случае успеха на странице появится информация по ключу и поле Статус перейдет в значение <strong>Активен</strong>.</p>
<h2 id="on-premise-how-to-activation-_3">Параметры ключа<a class="headerlink" href="#on-premise-how-to-activation-_3" title="Permanent link">&para;</a></h2>
<p>При успешной активации системы в разделе <code>Настройки -&gt; Ключ активации</code> отображаются параметры используемого ключа:</p>
<ul>
<li><strong>Статус</strong> – статус активации системы;</li>
<li><strong>Владелец</strong> – наименование организации, на чье имя выдан ключ;</li>
<li><strong>Дата выпуска</strong> – день выпуска ключа;</li>
<li><strong>Дата истечения</strong> день истечения действия ключа;</li>
<li><strong>Ограничение по количеству авторов</strong> – максимальное количество авторов (разработчиков), на которое лицензирована система;</li>
<li><strong>Частные базы уязвимостей</strong> – список подключенных частных баз уявимостей, например <strong>Kaspersky OSS Threats Data Feed</strong>;</li>
<li><strong>Доступные модули</strong> – список подключенных модулей с отображением даты истечения ключа для каждого.</li>
</ul>
<h2 id="on-premise-how-to-activation-_4">Истечение ключа активации<a class="headerlink" href="#on-premise-how-to-activation-_4" title="Permanent link">&para;</a></h2>
<p>При истечении срока действия ключа активации платформа продолжает работать с ограничениями:</p>
<ul>
<li>Ранее выполненные сканирования и их результаты остаются доступными для просмотра;</li>
<li>Попытка выполнения нового сканирования приводит к ошибке, связанной с истечением ключа активации.</li>
</ul></section><section class="print-page" id="on-premise-how-to-author-audit" heading-number="3.3.2"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-author-audit.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-author-audit-_1">Аудит количества авторов<a class="headerlink" href="#on-premise-how-to-author-audit-_1" title="Permanent link">&para;</a></h1>
<p>Функция аудита количества авторов доступна в платформе, начиная с версии <strong>2025.37.0</strong>. Она позволяет получить статистику об уникальных авторах коммитов в выбранных репозиториях.</p>
<p>Совершить расчет можно в разделе <code>Настройки → Ключ активации</code> по кнопке <strong>Рассчитать</strong>.</p>
<h2 id="on-premise-how-to-author-audit-_2">Поддерживаемые платформы<a class="headerlink" href="#on-premise-how-to-author-audit-_2" title="Permanent link">&para;</a></h2>
<p>На данный момент аудит доступен для платформы GitLab.</p>
<h2 id="on-premise-how-to-author-audit-_3">Настройка параметров<a class="headerlink" href="#on-premise-how-to-author-audit-_3" title="Permanent link">&para;</a></h2>
<p>После нажатия кнопки открывается форма с параметрами анализа:</p>
<ul>
<li><strong>Провайдер</strong> — источник данных о репозиториях. На текущий момент поддерживается <strong>GitLab</strong>;</li>
<li><strong>VCS URL</strong> — адрес хоста, на котором размещены репозитории (без указания конкретного репозитория).
  Пример:
  <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-how-to-author-audit-__codelineno-0-1"></a>https://gitlab.svc.cdscrng.ru/
</code></pre></div></li>
<li><strong>Ключ доступа</strong> — персональный токен с правами <code>read_api</code>. Токен не сохраняется и используется только для текущего расчёта.
  В GitLab токен можно получить по адресу:
  <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#on-premise-how-to-author-audit-__codelineno-1-1"></a>&lt;VCS-URL&gt;/-/user_settings/personal_access_tokens
</code></pre></div></li>
<li><strong>Фильтр по email авторов</strong> — список доменов или регулярных выражений для отбора авторов. Можно указать несколько значений через <code>|</code>.</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Важно</p>
<p>VCS URL должен начинаться с протокола передачи данных. Закрывающий слэш необязателен.</p>
</div>
<h2 id="on-premise-how-to-author-audit-_4">Выполнение анализа<a class="headerlink" href="#on-premise-how-to-author-audit-_4" title="Permanent link">&para;</a></h2>
<p>После заполнения формы нажмите <strong>Рассчитать</strong>. Пока идёт сканирование, процесс можно отменить нажатием кнопки <strong>Отменить</strong>.</p>
<h2 id="on-premise-how-to-author-audit-_5">Результаты расчёта<a class="headerlink" href="#on-premise-how-to-author-audit-_5" title="Permanent link">&para;</a></h2>
<p>После завершения аудита в разделе ключей активации отображаются следующие данные:</p>
<ul>
<li><strong>Статус расчёта</strong> – показывает результат выполнения. При ошибке причину можно посмотреть в разделе <strong>Аудит-лог</strong>;</li>
<li><strong>Время расчёта</strong> – дата и время выполнения аудита;</li>
<li><strong>Уникальных авторов за год</strong> – количество авторов коммитов за последние 365 дней. Через API параметр можно изменить;</li>
<li><strong>Успешно обработанных репозиториев</strong> – количество репозиториев, обработанных без ошибок;</li>
<li><strong>Репозиториев с ошибкой</strong> – количество репозиториев, где возникли ошибки чтения. Подробности можно увидеть в логах бэкенда;</li>
<li><strong>URL отчёта (JSON)</strong> – ссылка на полный отчёт в формате JSON с деталями анализа и списком обработанных репозиториев.</li>
</ul>
<h2 id="on-premise-how-to-author-audit-_6">Диагностика ошибок<a class="headerlink" href="#on-premise-how-to-author-audit-_6" title="Permanent link">&para;</a></h2>
<p>Если анализ завершился с ошибкой:</p>
<ol>
<li>Проверьте <strong>VCS URL</strong> и корректность <strong>токена</strong>. При ошибке <strong>401</strong> обычно указаны неверный адрес или недействительный токен.</li>
<li>Дополнительную информацию можно найти в разделе <strong>Аудит-лог</strong>.</li>
</ol></section>
                    <section class='print-page md-section' id='section-3-3-3' heading-number='3.3.3'>
                        <h1>Управление доступом<a class='headerlink' href='#section-3-3-3' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="on-premise-how-to-users" heading-number="3.3.3.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-users.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-users-_1">Управление учетными записями<a class="headerlink" href="#on-premise-how-to-users-_1" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-how-to-users-_2">Создание учетных записей<a class="headerlink" href="#on-premise-how-to-users-_2" title="Permanent link">&para;</a></h2>
<p>Платформа CodeScoring поддерживает работу множества пользователей с отдельными учетными записями. Создание и управление учетными записями пользователей происходит в разделе <code>Настройки -&gt; Пользователи</code>.</p>
<p>Для создания нового пользователя необходимо перейти на форму по кнопке <strong>Create New</strong> и заполнить следующие поля:</p>
<ul>
<li><strong>Имя пользователя</strong> — имя пользователя в системе;</li>
<li><strong>Имя</strong> — имя;</li>
<li><strong>Фамилия</strong> — фамилия;</li>
<li><strong>Email</strong> — электронная почта;</li>
<li><strong>Подразделение</strong> — принадлежность к подразделению организации в рамках системы;</li>
<li><strong>Уровень доступа</strong> — уровень доступа в рамках системы;</li>
<li><strong>Пароль</strong> – пароль для входа в систему;</li>
<li><strong>Может создавать CLI проекты через API</strong> – возможность создавать проекты типа CLI при использовании API.</li>
</ul>
<p>Список созданных пользователей можно отфильтровать по следующим параметрам:</p>
<ul>
<li><strong>Подразделение</strong>;</li>
<li><strong>Уровень доступа</strong>;</li>
<li><strong>Активен</strong> — признак действующей учетной записи;</li>
<li><strong>Сервер LDAP</strong> — <a href="#on-premise-how-to-ldap-settings">сервер LDAP</a>, подключенный к системе.</li>
</ul>
<h2 id="on-premise-how-to-users-_3">Настройка учетных записей<a class="headerlink" href="#on-premise-how-to-users-_3" title="Permanent link">&para;</a></h2>
<p>Созданные учетные записи можно отредактировать или удалить в разделе <code>Настройки -&gt; Пользователи</code>. Добавить пользователя в проект с указанной ролью можно по кнопке <strong>Добавить пользователи</strong> на вкладке "Проекты" страницы редактирования пользователя.</p>
<p>Время сессии для неактивного пользователя ограничено. По умолчанию сессия пользователя заканчивается через 2 недели с момента последней активности, после чего нужно произвести повторный вход в систему.</p>
<p>Для конфигурации времени жизни сессии доступна переменная окружения (в секундах): <code>SESSION_COOKIE_AGE</code>.</p>
<div class="admonition warning">
<p class="admonition-title">Важно</p>
<p>Изменение имени УЗ и пароля для пользователей из внешних провайдеров идентичности невозможно.</p>
</div>
<h2 id="on-premise-how-to-users-_4">Разделение уровней доступа<a class="headerlink" href="#on-premise-how-to-users-_4" title="Permanent link">&para;</a></h2>
<p>При создании учетной записи ей должен быть присвоен один из следующих уровней доступа - <strong>User</strong> (пользователь), <strong>Administrator</strong> (администратор), <strong>Auditor</strong> (аудитор ИБ) или <strong>Security Manager</strong> (Менеджер безопасности).</p>
<h3 id="on-premise-how-to-users-administrator">Уровень доступа Administrator<a class="headerlink" href="#on-premise-how-to-users-administrator" title="Permanent link">&para;</a></h3>
<p>Для уровня доступа Administrator предоставляется доступ во все проекты. Данный уровень доступа также дает возможность просматривать и изменять все настройки в системе без ограничений.</p>
<h3 id="on-premise-how-to-users-security-manager">Уровень доступа Security Manager<a class="headerlink" href="#on-premise-how-to-users-security-manager" title="Permanent link">&para;</a></h3>
<p>Для уровня доступа Security Manager предоставляется доступ во все проекты. Данный уровень доступа также дает возможность просматривать все разделы, связанные с безопасностью, но изменять - только политики.</p>
<h3 id="on-premise-how-to-users-auditor">Уровень доступа Auditor<a class="headerlink" href="#on-premise-how-to-users-auditor" title="Permanent link">&para;</a></h3>
<p>Для уровня доступа Auditor предоставляется доступ во все проекты. Данный уровень доступа также дает право просмотра всех настроек и проектов в системе без возможности вносить и сохранять изменения.</p>
<h3 id="on-premise-how-to-users-user">Уровень доступа User<a class="headerlink" href="#on-premise-how-to-users-user" title="Permanent link">&para;</a></h3>
<p>Для уровня доступа User доступ организуется индивидуально. Для каждого проекта может быть предоставлен доступ со следующими ролями:</p>
<ul>
<li><strong>Viewer</strong> — доступ только на просмотр результатов анализов в рамках проекта;</li>
<li><strong>Developer</strong> — все права роли Viewer, а также доступ к запуску анализа в веб-интерфейсе, через агента и через плагин прокси-репозитория;</li>
<li><strong>Owner</strong> — все права роли Developer, доступ к изменению настроек проекта и управлению доступами других пользователей проекта.</li>
</ul>
<p>Для каждой роли в рамках уровня доступа <strong>User</strong> доступно создание CLI проектов через API при активации параметра <strong>Может создавать CLI проекты через API</strong> в профиле пользователя.</p>
<p>В проекте может быть несколько пользователей с одинаковыми ролями, в том числе несколько <strong>Owner</strong>. При отсутствии пользователей в роли <strong>Owner</strong> проектом может управлять только пользователь с уровнем доступа <strong>Administrator</strong>.</p>
<h2 id="on-premise-how-to-users-_5">Доступные действия<a class="headerlink" href="#on-premise-how-to-users-_5" title="Permanent link">&para;</a></h2>
<p>Более подробное перечисление доступных действий для каждого уровня доступа представлено в таблице ниже:</p>
<table>
<thead>
<tr>
<th><strong>Действие</strong></th>
<th><strong>User (Viewer)</strong></th>
<th><strong>User (Developer)</strong></th>
<th><strong>User (Owner)</strong></th>
<th><strong>Auditor</strong></th>
<th><strong>Security Manager</strong></th>
<th><strong>Administrator</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Analysis</strong>: Просмотр результатов анализа</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Analysis</strong>: запуск SCA анализа</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Analysis</strong>: запуск анализа Secrets</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Analysis</strong>: изменение статуса Secrets</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Analysis</strong>: запуск Authors анализа</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Analysis</strong>: запуск Quality анализа</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Activation key</strong>: просмотр информации об активационном ключе</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Activation key</strong>: сохранение активационного ключа</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Audit log</strong>: просмотр аудит лога</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Audit log</strong>: экспорт аудит лога</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Authors merge</strong>: просмотр правил</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Authors merge</strong>: создание правил</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Dashboard</strong>: просмотр страницы</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Dependencies</strong>: просмотр списка зависимостей</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Dependencies</strong>: экспорт списка зависимостей</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Email</strong>: просмотр настроек почты</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Email</strong>: редактирование настроек почты</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Groups</strong>: просмотр групп пользователей</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Groups</strong>: создание групп пользователей</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Groups</strong>: редактирование групп пользователей</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Groups</strong>: удаление групп пользователей</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>LDAP</strong>: просмотр настроек LDAP</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>LDAP</strong>: редактирование настроек LDAP</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>OSS Index</strong>: просмотр настроек OSS Index</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>OSS Index</strong>: редактирование настроек OSS Index</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Policies</strong>: просмотр политик</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Policies</strong>: создание политик</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Policies</strong>: редактирование настроек политик</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Policies</strong>: удаление политик</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Policy alerts</strong>: просмотр списка алертов</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Policy alerts</strong>: экспорт списка алертов</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Policy alerts</strong>: отправка уведомлений</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Policy ignores</strong>: просмотр правил</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Policy ignores</strong>: создание правил</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Policy ignores</strong>: редактирование правил</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Policy ignores</strong>: удаление правил</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Projects</strong>: просмотр проектов</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Projects</strong>: просмотр Contribution map</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Projects</strong>: просмотр Complexity map</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Projects</strong>: создание проектов</td>
<td><span class="twemoji icon_optional"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 15s0-6 6-6c4 0 4.5 3.5 7.5 3.5 4 0 4-3.5 4-3.5H22s0 6-6 6c-4 0-5.5-3.5-7.5-3.5-4 0-4 3.5-4 3.5z"/></svg></span></td>
<td><span class="twemoji icon_optional"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 15s0-6 6-6c4 0 4.5 3.5 7.5 3.5 4 0 4-3.5 4-3.5H22s0 6-6 6c-4 0-5.5-3.5-7.5-3.5-4 0-4 3.5-4 3.5z"/></svg></span></td>
<td><span class="twemoji icon_optional"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 15s0-6 6-6c4 0 4.5 3.5 7.5 3.5 4 0 4-3.5 4-3.5H22s0 6-6 6c-4 0-5.5-3.5-7.5-3.5-4 0-4 3.5-4 3.5z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Projects</strong>: редактирование настроек проектов</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Projects</strong>: удаление проектов</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Projects</strong>: управление правами доступа групп для проектов</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Projects</strong>: управление правами доступа пользователей для проектов</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Projects</strong>: загрузка SBOM</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Projects</strong>: редактирование зависимостей для экспорта SBOM</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Project categories</strong>: просмотр категорий</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Project categories</strong>: создание категорий</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Project categories</strong>: редактирование категорий</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Project categories</strong>: удаление категорий</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Proprietors</strong>: просмотр владельцев кода</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Proprietors</strong>: создание владельцев кода</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Proprietors</strong>: редактирование владельцев кода</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Proprietors</strong>: удаление владельцев кода</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Task managers</strong>: просмотр интеграций</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Task managers</strong>: добавление интеграций</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Task managers</strong>: редактирование настроек интеграций</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Task managers</strong>: удаление интеграций</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Task managers</strong>: выполнение проверки настроек</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Users</strong>: просмотр пользователей</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Users</strong>: создание пользователей</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Users</strong>: редактирование настроек пользователей</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Users</strong>: удаление пользователей</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>VCS</strong>: просмотр репозиториев</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>VCS</strong>: добавление репозиториев</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>VCS</strong>: редактирование настроек репозиториев</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>VCS</strong>: удаление репозиториев</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>VCS</strong>: выполнение проверки настроек</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 13H5v-2h14z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Vulnerabilities</strong>: просмотр списка уязвимостей</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
<tr>
<td><strong>Vulnerabilities</strong>: экспорт списка уязвимостей</td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
<td><span class="twemoji icon_check"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></span></td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Важно</p>
<p>Для возможности запуска сканирования также убедитесь, что в лицензии включен соответствующий модуль анализа.</p>
</div>
<h2 id="on-premise-how-to-users-_6">Группы пользователей<a class="headerlink" href="#on-premise-how-to-users-_6" title="Permanent link">&para;</a></h2>
<p>Пользователи внутри системы могут быть распределены в группы. Создание и управление группами происходит в разделе <code>Настройки -&gt; Группы</code>.</p>
<p>Для создания новой группы пользователей необходимо перейти на форму по кнопке <strong>Создать</strong> и заполнить следующие поля:</p>
<ul>
<li><strong>Название</strong> — название группы;</li>
<li><strong>Описание</strong> — описание группы.</li>
</ul>
<p>Группы могут быть добавлены к созданным проектам для более удобного отслеживания пользователей, связанных с проектом.</p></section><section class="print-page" id="on-premise-how-to-groups" heading-number="3.3.3.2"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-groups.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-groups-_1">Создание групп<a class="headerlink" href="#on-premise-how-to-groups-_1" title="Permanent link">&para;</a></h1>
<p>Группы используются для объединения <a href="#on-premise-how-to-users">пользователей</a> в списки и привязки к определенным проектам. Это позволяет удобно управлять массовым доступом к проектам в системе.</p>
<p>Создание групп происходит в разделе <code>Настройки -&gt; Группы</code>. Перейти на форму создания группы можно по кнопке <strong>Создать</strong>. В форме необходимо обязательно заполнить поле названия <strong>Название</strong> и опционально задать описание группы, цвет иконки.</p>
<h2 id="on-premise-how-to-groups-_2">Настройка групп<a class="headerlink" href="#on-premise-how-to-groups-_2" title="Permanent link">&para;</a></h2>
<p>Каждая группа имеет свой список пользователей и набор привязанных проектов. Изменить данные параметры можно по кнопке <strong>Редактировать</strong>.</p>
<p>Привязать проект к группе можно по кнопке <strong>Добавить проект</strong>. После привязки группы каждый ее пользователь будет иметь доступ к проекту согласно назначенной роли.</p>
<p>При добавлении нового пользователя в группу по кнопке <strong>Добавить пользователя</strong> необходимо выбрать существующую учетную запись в системе CodeScoring и назначить одну из ролей в рамках группы:</p>
<ul>
<li><strong>Наблюдатель</strong> — доступ только на просмотр результатов анализов проекта;</li>
<li><strong>Разработчик</strong> — доступ к запуску анализа в веб-интерфейсе, через агента и через плагин прокси-репозитория;</li>
<li><strong>Владелец</strong> — доступ к просмотру политик проекта, изменению настроек проекта и управлению доступами других пользователей проекта.</li>
</ul>
<p>В рамках системы также имеется возможность настроить <a href="#on-premise-how-to-ldap-settings-ldap-codescoring-mapping-groups">маппинг групп LDAP на группы и роли CodeScoring</a>.</p></section><section class="print-page" id="on-premise-how-to-ldap-settings" heading-number="3.3.3.3"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-ldap-settings.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-ldap-settings-ldap">Работа с LDAP<a class="headerlink" href="#on-premise-how-to-ldap-settings-ldap" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-how-to-ldap-settings-ldap_1">Возможности интеграции с LDAP<a class="headerlink" href="#on-premise-how-to-ldap-settings-ldap_1" title="Permanent link">&para;</a></h2>
<p><strong>CodeScoring</strong> поддерживает аутентификацию и авторизацию пользователей по протоколу <strong>LDAP</strong> и маппинг атрибутов записей о пользователях в <strong>LDAP</strong> на атрибуты пользователей в системе.</p>
<h2 id="on-premise-how-to-ldap-settings-codescoring">Страница аутентификации CodeScoring<a class="headerlink" href="#on-premise-how-to-ldap-settings-codescoring" title="Permanent link">&para;</a></h2>
<p>На странице аутентификации доступно меню с выбором провайдера аутентификации. Помимо провайдера по умолчанию (локальные учётные записи, <code>internal directory</code>), доступны для выбора активные интеграции с <strong>LDAP</strong> серверами.</p>
<p float="left">
  <img src="/assets/img/ldap/login-1.png" alt="аутентификации через провайдера по умолчанию" width="350" />
  <img src="/assets/img/ldap/login-2.png" alt="выбор провайдера аутентификации" width="350" />
</p>

<h2 id="on-premise-how-to-ldap-settings-ldap-codescoring">Маппинг атрибутов записей о пользователях LDAP на атрибуты пользователей CodeScoring<a class="headerlink" href="#on-premise-how-to-ldap-settings-ldap-codescoring" title="Permanent link">&para;</a></h2>
<p>При аутентификации через <strong>LDAP</strong> происходит маппинг следующих данных из записи в директории на учётную запись в CodeScoring:</p>
<ul>
<li>название УЗ (<code>username</code>);</li>
<li>имя;</li>
<li>фамилия;</li>
<li>электронная почта.</li>
</ul>
<p><img alt="маппинг атрибутов записей на УЗ в CodeScoring" src="/assets/img/ldap/user_field_mapping.png" /></p>
<h2 id="on-premise-how-to-ldap-settings-mapping-groups">Маппинг групп LDAP на группы и роли CodeScoring<a class="headerlink" href="#on-premise-how-to-ldap-settings-mapping-groups" title="Permanent link">&para;</a></h2>
<p>При аутентификации через LDAP CodeScoring может запрашивать данные LDAP-групп пользователя и производить их маппинг на свои уровни доступа, группы и роли. Для активации этой возможности в настройках LDAP необходимо заполнить следующие поля:</p>
<ul>
<li><code>База для поиска групп</code>.</li>
<li><code>Фильтр поиска для всех групп</code></li>
<li><code>Поле с названием группы</code></li>
<li><code>Поле с группами пользователя</code> (если значение поля <code>Метод поиска по группе</code> равно "Пользовательская запись")</li>
<li><code>Фильтр поиска групп пользователя</code> (если значение поля <code>Метод поиска по группе</code> равно "Поиск по группе")</li>
</ul>
<p>CodeScoring производит маппинг согласно правилам, управление которыми доступно в разделе <code>Настройки -&gt; Провайдеры идентификации -&gt; Группы LDAP</code>.</p>
<p>Маппинг запускается только в двух случаях:</p>
<ul>
<li>в момент входа пользователя в систему;</li>
<li>при нажатии кнопки <code>Применить все правила</code> в разделе <code>Настройки -&gt; Провайдеры идентификации -&gt; Группы LDAP</code>.</li>
</ul>
<p>Правила маппинга применяются следующим образом:</p>
<ul>
<li>в процессе маппинга обновляется состав групп пользователя;</li>
<li>добавление, изменение и удаление правил маппинга не приведёт к обновлению групп пользователя. Для применения изменённых правил, необходимо инициировать процесс маппинга одним из двух способов, указанных выше;</li>
<li>группы пользователя, добавленные или отредактированные администратором в ручном режиме, не изменяются в процессе маппинга, то есть приоритет отдаётся ручным изменениям;</li>
<li>если при поиске LDAP-групп после успешной аутентификации в LDAP произошла ошибка, группы пользователей, применённые согласно правилам маппинга, будут удалены.</li>
</ul>
<p float="left">
  <img src="/assets/img/ldap/group_mapping_create_1.png" alt="создание правил маппинга групп LDAP на роли и группы CodeScoring" width="400" />
  <img src="/assets/img/ldap/group_mapping_create_2.png" alt="создание правил маппинга групп LDAP на уровень доступа CodeScoring" width="400" />
</p>

<p><img alt="просмотр правил маппинга групп LDAP на роли и группы CodeScoring" src="/assets/img/ldap/group_mapping_list.png" /></p>
<h2 id="on-premise-how-to-ldap-settings-ldap_2">Просмотр существующих интеграций с LDAP<a class="headerlink" href="#on-premise-how-to-ldap-settings-ldap_2" title="Permanent link">&para;</a></h2>
<p>Просмотр существующих интеграций доступен в разделе <code>Настройки -&gt; Провайдеры идентификации -&gt; LDAP</code>. В разделе отображаются таблица со списком настроенных интеграций LDAP, кнопка для создания новой интеграции (<code>Добавить</code>) и окно поиска.</p>
<p><img alt="просмотр списка интеграций с LDAP" src="/assets/img/ldap/list.png" /></p>
<h2 id="on-premise-how-to-ldap-settings-ldap_3">Просмотр деталей о существующей интеграции с LDAP<a class="headerlink" href="#on-premise-how-to-ldap-settings-ldap_3" title="Permanent link">&para;</a></h2>
<p>Просмотр деталей открывается при нажатии на гиперссылку с названием интеграции либо при нажатии на кнопку <strong>View</strong> в разделе Actions.</p>
<p>При просмотре доступны следующие действия:</p>
<ul>
<li>удаление интеграции;</li>
<li>редактирование интеграции;</li>
<li>проверка доступности (<code>Обновить статус</code>).</li>
</ul>
<p>Помимо основных полей настроек (описаны ниже), при просмотре деталей об интеграции с <strong>LDAP</strong> доступны данные о:</p>
<ul>
<li>дате создания;</li>
<li>дате последнего обновления;</li>
<li>статусе доступности;</li>
<li>(опционально) причине недоступности.</li>
</ul>
<p><img alt="просмотр деталей об интеграции с LDAP" src="/assets/img/ldap/view.png" /></p>
<h2 id="on-premise-how-to-ldap-settings-ldap_4">Создание или редактирование интеграции с LDAP<a class="headerlink" href="#on-premise-how-to-ldap-settings-ldap_4" title="Permanent link">&para;</a></h2>
<p>Для того чтобы создать новую интеграцию с <strong>LDAP</strong>, необходимо на просмотре списка интеграций нажать на кнопку <code>Добавить</code>. Для того чтобы отредактировать существующую интеграцию, необходимо нажать на кнопку <code>Редактировать</code> на странице просмотра или списка интеграций. Формы создания и редактирования идентичны.</p>
<h3 id="on-premise-how-to-ldap-settings-_1">Описание полей формы<a class="headerlink" href="#on-premise-how-to-ldap-settings-_1" title="Permanent link">&para;</a></h3>
<ul>
<li><code>Название</code> — название интеграции, отображается на странице аутентификации;</li>
<li><code>LDAP протокол</code> — выбор между протоколами <strong>LDAP</strong> и <strong>LDAPS</strong> (<strong>LDAP</strong> поверх <strong>SSL</strong>);</li>
<li><code>Имя хоста LDAP</code> — доменное имя или IP адрес сервера <strong>LDAP</strong>;</li>
<li><code>Порт LDAP</code> — порт <strong>LDAP</strong> сервера;</li>
<li><code>База для поиска пользователя</code> — указание места поиска записей о пользователе;</li>
<li><code>Фильтр поиска пользователя</code> — фильтр для поиска записи о пользователе. Должен содержать шаблон <code>%USERNAME%</code>, при поиске он
будет заменён на имя УЗ, для которой производится аутентификация через LDAP;</li>
<li><code>Поле с именем учетной записи</code> — атрибут хранящий название УЗ пользователя в записи о нём;</li>
<li><code>Поле с email</code> — атрибут хранящий email пользователя в записи о нём;</li>
<li><code>Поле с именем</code> — атрибут хранящий имя пользователя в записи о нём;</li>
<li><code>Поле с фамилией</code> — атрибут хранящий фамилию пользователя в записи о нём;</li>
<li><code>Формат имени учетной записи</code> — выбор формата строки авторизации;</li>
<li><code>Домен</code> — указание домена <strong>Active Directory</strong> (появляется при выборе соответствующего <strong>Username format</strong>);</li>
<li><code>Сервисный пользователь</code> — логин пользователя с правами чтения каталогов на сервере <strong>LDAP</strong>;</li>
<li><code>Пароль</code> — пароль пользователя с правами чтения каталогов на сервере <strong>LDAP</strong>;</li>
<li><code>Поле с названием группы</code> — атрибут хранящий название группы в записи о ней;</li>
<li><code>База для поиска групп</code> — указание места поиска записей о группах;</li>
<li><code>Фильтр поиска групп пользователя</code> — фильтр для поиска записей о группах, к которым принадлежит пользователь. Должен
содержать шаблон <code>%USERNAME%</code>, при поиске он будет заменён на имя УЗ, для которой производится аутентификация через <strong>LDAP</strong>;</li>
<li><code>Фильтр поиска для всех групп</code> — фильтр для поиска записей о всех группах в <strong>LDAP</strong>;</li>
<li><code>Поле с группами пользователя</code> — атрибут хранящий идентификаторы членов группы в записи о ней;</li>
<li><code>Использовать TLS</code>;</li>
<li><code>Активно</code> — используется ли интеграция с <strong>LDAP</strong> для аутентификации пользователей.</li>
</ul>
<p><img alt="поля создания или редактирования" src="/assets/img/ldap/edit_or_create.png" /></p>
<h3 id="on-premise-how-to-ldap-settings-username-format">Доступные опции для username format<a class="headerlink" href="#on-premise-how-to-ldap-settings-username-format" title="Permanent link">&para;</a></h3>
<p><img alt="доступные опции для username format" src="/assets/img/ldap/username_format.png" /></p>
<h3 id="on-premise-how-to-ldap-settings-ldap_5">Тестирование конфигурации интеграции с LDAP<a class="headerlink" href="#on-premise-how-to-ldap-settings-ldap_5" title="Permanent link">&para;</a></h3>
<p>Для удобства конфигурации пользователям доступны 2 формы для тестирования подключения:</p>
<ul>
<li>тестирование подключения и аутентификации (<code>Тестирование подключения</code>);</li>
<li>тестирование поиска (<code>Тест поиска пользователя</code>).</li>
</ul>
<p>Для обоих тестов комбинируются данные из основной формы с данными формы тестирования. Данные из полей <code>Сервисный пользователь</code> и <code>Пароль сервисного пользователя</code> игнорируются.</p>
<h4 id="on-premise-how-to-ldap-settings-_2">Тестирование подключения и аутентификации<a class="headerlink" href="#on-premise-how-to-ldap-settings-_2" title="Permanent link">&para;</a></h4>
<p>При нажатии на кнопку теста (<code>Проверить подключение</code>) в секции <strong>Тестирование подключения</strong> происходит подключение к LDAP серверу (операция <code>bind</code>). В случае успешного теста выводится уведомление об успехе операции, в случае провала теста — сообщение об ошибке.</p>
<p><img alt="успешный тест соединения" src="/assets/img/ldap/test_bind_success.png" />
<img alt="проваленный тест соединения" src="/assets/img/ldap/test_bind_fail.png" /></p>
<h4 id="on-premise-how-to-ldap-settings-_3">Тестирование загрузки данных о пользователе<a class="headerlink" href="#on-premise-how-to-ldap-settings-_3" title="Permanent link">&para;</a></h4>
<p>При нажатии на кнопку теста (<code>Проверить подключение</code>) в секции <strong>Тест поиска пользователя</strong> происходит подключение к LDAP серверу (операция <code>bind</code>) и поиск данных о пользователе (операция <code>search</code>) согласно данным в форме. В случае успешного теста выводится уведомление об успехе операции и результат поиска, в случае провала теста — сообщение об ошибке.</p>
<p><img alt="успешный тест загрузки данных о пользователе" src="/assets/img/ldap/test_search_success.png" />
<img alt="проваленный тест загрузки данных о пользователе" src="/assets/img/ldap/test_search_fail.png" /></p>
<h4 id="on-premise-how-to-ldap-settings-_4">Тестирование загрузки данных о группах<a class="headerlink" href="#on-premise-how-to-ldap-settings-_4" title="Permanent link">&para;</a></h4>
<p>При нажатии на кнопку теста (<code>Проверить подключение</code>) в секции <strong>Тест загрузки групп</strong> происходит подключение к LDAP серверу (операция <code>bind</code>) и поиск данных о группах (операция <code>search</code>) согласно данным в форме. В случае успешного теста выводится уведомление об успехе операции и результат поиска, в случае провала теста — сообщение об ошибке.
<img alt="успешный тест загрузки данных о группах" src="/assets/img/ldap/test_load_groups_success.png" />
<img alt="проваленный тест загрузки данных о группах" src="/assets/img/ldap/test_load_groups_fail.png" /></p>
<h2 id="on-premise-how-to-ldap-settings-ldap_6">Механизм аутентификации с помощью LDAP<a class="headerlink" href="#on-premise-how-to-ldap-settings-ldap_6" title="Permanent link">&para;</a></h2>
<p><img alt="иллюстрация механизма аутентификации с помощью LDAP" src="/assets/img/ldap/auth_swimlane.png" /></p>
<h2 id="on-premise-how-to-ldap-settings-_5">Замечания<a class="headerlink" href="#on-premise-how-to-ldap-settings-_5" title="Permanent link">&para;</a></h2>
<ul>
<li>Использование авторизации через <strong>LDAP</strong> не подразумевает полную синхронизацию директории с информацией о пользователях из <strong>Службы каталогов</strong>.</li>
<li>Редактирование название УЗ (<code>username</code>) и назначение пароля пользователю из <strong>LDAP</strong> невозможно.</li>
<li>Возможно наличие пользователей из различных провайдеров аутентификации с одинаковым названием УЗ (<code>username</code>).</li>
<li>Возможно назначение пользователю из <strong>LDAP</strong> любого уровня доступа (<code>User</code>, <code>Auditor</code>, <code>Administrator</code>, <code>Security Manager</code>).</li>
</ul></section><section class="print-page" id="on-premise-how-to-oidc" heading-number="3.3.3.4"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-oidc.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-oidc-openid-connect">Настройка интеграции с OpenID Connect<a class="headerlink" href="#on-premise-how-to-oidc-openid-connect" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-how-to-oidc-codescoring">Страница аутентификации CodeScoring<a class="headerlink" href="#on-premise-how-to-oidc-codescoring" title="Permanent link">&para;</a></h2>
<p><strong>CodeScoring</strong> поддерживает аутентификацию и авторизацию пользователей по протоколу <strong>OpenID Connect</strong>. На странице аутентификации доступно меню с выбором провайдера аутентификации. Помимо провайдера по умолчанию (локальные учётные записи, <code>internal directory</code>) и интеграций с LDAP, доступны для выбора активные интеграции с <strong>OpenID Connect</strong>.</p>
<p float="left">
  <img src="/assets/img/oidc/login-1.png" alt="аутентификации через провайдера по умолчанию" width="350" />
  <img src="/assets/img/oidc/login-2.png" alt="выбор провайдера аутентификации" width="350" />
</p>

<h2 id="on-premise-how-to-oidc-openid-connect_1">Настройка клиента на стороне провайдера OpenID Connect<a class="headerlink" href="#on-premise-how-to-oidc-openid-connect_1" title="Permanent link">&para;</a></h2>
<p>Ниже представлен пример валидной конфигурации клиента OpenID Connect на стороне провайдера при условии, что URL
платформы CodeScoring - <code>https://codescoring.example.com/</code>:</p>
<ul>
<li><strong>Root url</strong> - <code>https://codescoring.example.com/</code>;</li>
<li><strong>Home url</strong> - <code>https://codescoring.example.com/cabinet/dashboard/</code>;</li>
<li><strong>Valid redirect urls</strong> - <code>https://codescoring.example.com/auth/oidc/callback*</code>;</li>
<li><strong>Web origins</strong> - <code>https://codescoring.example.com/</code>;</li>
<li><strong>Admin url</strong> - <code>https://codescoring.example.com/</code>;</li>
<li><strong>Authentication flow</strong> - standard flow.</li>
</ul>
<h2 id="on-premise-how-to-oidc-openid-connect-codescoring">Настройка интеграции с OpenID Connect на стороне CodeScoring<a class="headerlink" href="#on-premise-how-to-oidc-openid-connect-codescoring" title="Permanent link">&para;</a></h2>
<p>Сконфигурировать OpenID Connect на стороне CodeScoring можно в разделе <code>Настройки -&gt; Провайдеры идентичности -&gt; OpenID Connect</code>.</p>
<p>Переход на форму создания нового подключения осуществляется по кнопке <strong>Создать</strong>. В форме необходимо заполнить следующие поля:</p>
<h3 id="on-premise-how-to-oidc-oidc">Основные настройки OIDC<a class="headerlink" href="#on-premise-how-to-oidc-oidc" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Наименование</strong> - название интеграции, будет отображаться на экране аутентификации;</li>
<li><strong>Активно</strong> - флаг активности интеграции, в зависимости от значения, эта интеграция будет доступна как провайдер
  аутентификации;</li>
<li><strong>Идентификатор клиента</strong> - значение должно соответствовать полю "идентификатор клиента" (client id) в конфигурации клиента на стороне провайдера;</li>
<li><strong>Секрет клиента</strong> - значение должно соответствовать полю "секрет клиента" (client secret) в конфигурации клиента на стороне провайдера.</li>
</ul>
<h3 id="on-premise-how-to-oidc-_1">Настройки подключения<a class="headerlink" href="#on-premise-how-to-oidc-_1" title="Permanent link">&para;</a></h3>
<p>CodeScoring может настроить поля ниже на основе эндпоинта <code>/.well-known/openid-configuration</code> издателя OIDC при нажатии на кнопку <code>Получить настройки</code>.</p>
<ul>
<li><strong>Issuer URL провайдера</strong> - адрес издателя провайдера OpenID Connect;</li>
<li><strong>Authorization URL провайдера</strong> - URL для авторизации в провайдере OpenID Connect, значение можно получить по
  <code>$ISSUER_URL/.well-known/openid-configuration</code>;</li>
<li><strong>Token URL провайдера</strong> - URL для получения у провайдера токена авторизации, значение можно получить по
  <code>$ISSUER_URL/.well-known/openid-configuration</code>;</li>
<li><strong>UserInfo URL провайдера</strong> - UserInfo эндпоинт провайдера, значение можно получить по
  <code>$ISSUER_URL/.well-known/openid-configuration</code>;</li>
<li><strong>JWKS URL провайдера</strong> - JWKS эндпоинт провайдера, значение можно получить по
  <code>$ISSUER_URL/.well-known/openid-configuration</code>;</li>
<li><strong>Области доступа клиента</strong> - значения передаются в параметре "scope" запроса авторизации.</li>
</ul>
<h3 id="on-premise-how-to-oidc-_2">Настройки соотнесения полей<a class="headerlink" href="#on-premise-how-to-oidc-_2" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Поле с идентификатором субъекта</strong> - название поля с идентификатором субъекта (sub) в ответе, возвращаемом эндпоинтом
  UserInfo;</li>
<li><strong>Поле с именем учётной записи</strong> - название поля с предпочитаемым именем УЗ пользователя в ответе, возвращаемом
  эндпоинтом UserInfo;</li>
<li><strong>Поле с именем</strong> - название поля с именем пользователя в ответе, возвращаемом эндпоинтом UserInfo;</li>
<li><strong>Поле с фамилией</strong> - название поля с фамилией пользователя в ответе, возвращаемом эндпоинтом UserInfo;</li>
<li><strong>Поле с email</strong> - название поля с email пользователя в ответе, возвращаемом эндпоинтом UserInfo.</li>
</ul>
<h2 id="on-premise-how-to-oidc-codescoring-openid-connect">УЗ CodeScoring, созданные при аутентификации через OpenID Connect<a class="headerlink" href="#on-premise-how-to-oidc-codescoring-openid-connect" title="Permanent link">&para;</a></h2>
<p>При аутентификации через OpenID Connect, CodeScoring будет создавать новые или обновлять существующие учётные записи.</p>
<p>Соотносятся следующие данные:</p>
<ul>
<li>Идентификатор субъекта в провайдере OpenID Connect;</li>
<li>Предпочитаемое название УЗ;</li>
<li>Имя;</li>
<li>Фамилия;</li>
<li>Email.</li>
</ul>
<p>УЗ, созданные таким образом, можно добавлять в группы, для них можно менять уровень доступа так же, как и для обычных
УЗ.</p>
<p>Для УЗ, созданных при аутентификации через KeyCloak, нельзя менять имя УЗ или устанавливать пароль.</p></section></section></section></section>
                    <section class='print-page md-section' id='section-4' heading-number='4'>
                        <h1>Руководство пользователя<a class='headerlink' href='#section-4' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="user-guide" heading-number="4.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#user-guide.en">English</a></li>
</ul>
<h1 id="user-guide-_1">Руководство пользователя<a class="headerlink" href="#user-guide-_1" title="Permanent link">&para;</a></h1>
<p>Выберите раздел документации:</p>
<div class="guide-hub">
  <a class="guide-card guide-card--general" href="#on-premise-how-to-general">
    <div class="guide-card__head">
      <span class="guide-card__title">Общее</span>
    </div>
    <p class="guide-card__text">Базовые настройки платформы, управление пользователями, политиками, уведомлениями и API.</p>
  </a>

  <a class="guide-card" href="#osa">
    <div class="guide-card__head">
      <img class="guide-card__icon guide-card__icon--light" src="/assets/icons/osa.svg" alt="CodeScoring.OSA logo" />
      <img class="guide-card__icon guide-card__icon--dark" src="/assets/icons/osa-dark.svg" alt="CodeScoring.OSA logo" />
      <span class="guide-card__title">CodeScoring.OSA</span>
    </div>
    <p class="guide-card__text">Защита цепочки поставок open source, политики и контроль компонентов в репозиториях.</p>
  </a>

  <a class="guide-card" href="#sca">
    <div class="guide-card__head">
      <img class="guide-card__icon guide-card__icon--light" src="/assets/icons/sca.svg" alt="CodeScoring.SCA logo" />
      <img class="guide-card__icon guide-card__icon--dark" src="/assets/icons/sca-dark.svg" alt="CodeScoring.SCA logo" />
      <span class="guide-card__title">CodeScoring.SCA</span>
    </div>
    <p class="guide-card__text">Композиционный анализ зависимостей, уязвимости, лицензии, отчеты и SBOM.</p>
  </a>

  <a class="guide-card" href="#secrets">
    <div class="guide-card__head">
      <img class="guide-card__icon guide-card__icon--light" src="/assets/icons/secrets.svg" alt="CodeScoring.Secrets logo" />
      <img class="guide-card__icon guide-card__icon--dark" src="/assets/icons/secrets-dark.svg" alt="CodeScoring.Secrets logo" />
      <span class="guide-card__title">CodeScoring.Secrets</span>
    </div>
    <p class="guide-card__text">Поиск секретов в коде, работа с находками и настройка сценариев сканирования.</p>
  </a>

  <a class="guide-card" href="#tqi">
    <div class="guide-card__head">
      <img class="guide-card__icon guide-card__icon--light" src="/assets/icons/tqi.svg" alt="CodeScoring.TQI logo" />
      <img class="guide-card__icon guide-card__icon--dark" src="/assets/icons/tqi-dark.svg" alt="CodeScoring.TQI logo" />
      <span class="guide-card__title">CodeScoring.TQI</span>
    </div>
    <p class="guide-card__text">Анализ качества разработки, метрики технического долга, авторы и дубликаты кода.</p>
  </a>
</div></section>
                    <section class='print-page md-section' id='section-4-2' heading-number='4.2'>
                        <h1>Общее<a class='headerlink' href='#section-4-2' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="on-premise-how-to-general" heading-number="4.2.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-general-index.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-general-_1">Общее<a class="headerlink" href="#on-premise-how-to-general-_1" title="Permanent link">&para;</a></h1>
<p>Раздел содержит базовые сценарии работы с платформой:</p>
<ul>
<li>настройка профиля пользователя;</li>
<li>создание и настройка политик безопасности;</li>
<li>подключение VCS и управление проектами;</li>
<li>расширенные настройки (подразделения, уведомления, аудит-лог, метрики, webhooks, API).</li>
</ul>
<p>Используйте навигацию слева для перехода к нужному подразделу.</p></section><section class="print-page" id="on-premise-how-to-user-profile" heading-number="4.2.2"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-user-profile.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-user-profile-_1">Настройка профиля пользователя<a class="headerlink" href="#on-premise-how-to-user-profile-_1" title="Permanent link">&para;</a></h1>
<p>Раздел <strong>Профиль</strong> позволяет пользователю просматривать и изменять персональные данные, а также настроить отображение интерфейса.</p>
<p>Просмотр профиля доступен по нажатию на имя пользователя в левом нижнем углу интерфейса.</p>
<p><img alt="User profile" src="/assets/img/user-profile.png" /></p>
<p>На странице отображаются следующие параметры:</p>
<ul>
<li><strong>Имя пользователя</strong> — уникальный логин, используемый для входа в систему. Не подлежит редактированию;</li>
<li><strong>Уровень доступа</strong> — определяет полномочия в системе. Возможные значения: <code>User</code>, <code>Auditor</code> или <code>Administrator</code>;</li>
<li><strong>Подразделение</strong> — организационная единица, к которой привязан пользователь (если используется);</li>
<li><strong>Имя</strong> – отображается в интерфейсе и отчетах;</li>
<li><strong>Фамилия</strong> — отображается в интерфейсе и отчетах;</li>
<li><strong>Email</strong> — контактный адрес, отображаемый в списках пользователей;</li>
<li><strong>API токен</strong> — используется для интеграции с внешними инструментами. Можно скопировать или сгенерировать новый (предыдущий станет недействительным);</li>
<li><strong>Формат чисел</strong> — отображение чисел в системе;</li>
<li><strong>Формат дат</strong> — отображение дат в системе.</li>
</ul>
<p><strong>Важно</strong>: формат чисел и дат влияет только на отображение. На ввод данных и экспорт эти настройки не распространяются.</p>
<h2 id="on-premise-how-to-user-profile-_2">Редактирование профиля<a class="headerlink" href="#on-premise-how-to-user-profile-_2" title="Permanent link">&para;</a></h2>
<p>По нажатию кнопки <strong>Редактировать</strong> открывается форма редактирования профиля. Доступно изменение следующих полей:</p>
<ul>
<li>Имя;</li>
<li>Фамилия;</li>
<li>Email.</li>
</ul>
<p>Изменения сохраняются немедленно после нажатия кнопки <strong>Сохранить</strong>.</p></section>
                    <section class='print-page md-section' id='section-4-2-3' heading-number='4.2.3'>
                        <h1>Политики безопасности<a class='headerlink' href='#section-4-2-3' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="on-premise-how-to-policies" heading-number="4.2.3.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-policies.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-policies-_1">Настройка политик<a class="headerlink" href="#on-premise-how-to-policies-_1" title="Permanent link">&para;</a></h1>
<h2 id="on-premise-how-to-policies-_2">Принципы работы<a class="headerlink" href="#on-premise-how-to-policies-_2" title="Permanent link">&para;</a></h2>
<p><strong>Политики</strong> на платформе CodeScoring представляют собой механизм отслеживания и блокирования open source компонентов в процессе разработки программного обеспечения. Они могут быть связаны с проверкой безопасности, совместимости лицензий или других критериев включения сторонних компонентов в разработку.</p>
<p>Политики можно создавать для:</p>
<ul>
<li>всей организации;</li>
<li>подразделения;</li>
<li>группы проектов;</li>
<li>проекта;</li>
<li>окружения разработки;</li>
<li>репозитория;</li>
<li>типа компонента.</li>
</ul>
<p>Механизм политик учитывает указанный этап разработки программного обеспечения: от поступления сторонних компонентов в периметр организации до отслеживания сборок и написания нового кода.</p>
<p>Политики настраиваются по условиям, объединенным логическими выражениями <strong>И/ИЛИ</strong>. Помимо стандартных настроек политик безопасности по уровню критичности уязвимостей, условия могут быть настроены согласно метаданным компонента: дата релиза, лицензия, автор и другим. Всего поддерживается <strong>40+ типизированных условий</strong>. Среди проверок также присутствует встроенная вендорская политика проверки на лицензионную чистоту.</p>
<p>В результате срабатывания политики в CodeScoring создаются соответствующие <strong>алерты</strong>. Алерты можно временно или навсегда проигнорировать, а также выгрузить их в виде отчета.</p>
<p>Политики могут быть <strong>блокирующими</strong>: при срабатывании такой политики используемые компоненты блокируются в хранилище артефактов (прокси-репозитории), либо останавливается сборка программного продукта до устранения выявленного дефекта.</p>
<p>Дополнительно, по срабатыванию политики может быть направлено уведомление ответственным специалистам в систему управления задачами или электронное письмо с описанием проблемы.</p>
<h2 id="on-premise-how-to-policies-_3">Этапы работы политик<a class="headerlink" href="#on-premise-how-to-policies-_3" title="Permanent link">&para;</a></h2>
<p>Этапы работы политик настраиваются пользователем при редактировании параметров проекта в разделе <strong>Настройки → Проекты</strong> в поле <strong>Этап политики</strong> или указываются через параметр <code>--stage</code> при запуске <a href="#agent-scan">консольного агента Johnny</a>. Наименования стадий имеют следующие значения:</p>
<ul>
<li><code>dev</code> – этап разработки;</li>
<li><code>stage</code> – промежуточный (предпромышленный) этап;</li>
<li><code>test</code> – этап тестирования;</li>
<li><code>prod</code> – промышленный контур.</li>
</ul>
<p>При создании или редактировании политики в разделе <strong>Настройки → Политики</strong> необходимо указать стадии, к которым она будет применяться.</p>
<p>Кроме того, существуют специальные значения стадий, используемые по умолчанию для определённых задач:</p>
<ul>
<li><code>proxy</code> – для плагина в модуле OSA;</li>
<li><code>source</code> – для анализа VCS-проектов;</li>
<li><code>build</code> – для консольного агента Johnny.</li>
</ul>
<h2 id="on-premise-how-to-policies-_4">Создание политики<a class="headerlink" href="#on-premise-how-to-policies-_4" title="Permanent link">&para;</a></h2>
<p>Политики создаются в разделе <code>Настройки -&gt; Политики</code>. Перейти на форму создания политики можно по кнопке <strong>Создать</strong>.</p>
<p><img alt="Policy сreation" src="/assets/img/policy-creation.png" /></p>
<p>В форме создания политики задается контекст работы политики по следующим параметрам:</p>
<ul>
<li><strong>Название</strong>;</li>
<li><strong>Группы</strong> — группы проектов, на которые распространяется политика. Если параметр пустой – политика применяется для всей организации;</li>
<li><strong>Подразделения</strong> — подразделения организации, на которого распространяется политика. Если параметр пустой – политика применяется для всей организации;</li>
<li><strong>Проекты</strong> — проекты, на которые применяется политика;</li>
<li><strong>Этапы</strong> — стадии цикла разработки, на которые применяется политика;</li>
<li><strong>Компоненты OSA</strong> – тип компонентов в менеджере репозиториев с плагином OSA, на который применяется политика (<strong>Пакеты</strong> или <strong>Контейнерные образы</strong>);</li>
<li><strong>Репозитории</strong> – список репозиториев с плагином OSA, на которые применяется политика;</li>
<li><strong>Уровень</strong> — уровень критичности политики (не влияет на действия в системе);</li>
<li><strong>Блокер</strong> — блокировка сборки или загрузки компонента из прокси-репозитория;</li>
<li><strong>Отложенная блокировка</strong> — задержка (в днях) от первого срабатывания политики до блокировки;</li>
<li><strong>Активно</strong> — состояние политики;</li>
<li><strong>Описание</strong> — описание политики;</li>
<li><strong>Условия</strong> — перечень условий в политике.</li>
</ul>
<p>Далее настраиваются условия срабатывания политики, поддерживаются следующие параметры:</p>
<ul>
<li><strong>PURL</strong> — <a href="https://github.com/package-url/purl-spec">package URL</a>, идентификатор компонента;</li>
<li><strong>Название зависимости</strong> — имя используемого компонента;</li>
<li><strong>Версия зависимости</strong> — конкретная версия компонента, обнаруженная в проекте;</li>
<li><strong>Автор зависимости</strong> — имя или организация, указанные как автор компонента;</li>
<li><strong>Дата публикации зависимости</strong> — дата первого появления версии зависимости в открытых источниках;</li>
<li><strong>Возраст зависимости (в днях)</strong> — количество дней с момента публикации зависимости;</li>
<li><strong>Количество уязвимостей в зависимости</strong> — общее число уязвимостей, связанных с компонентом;</li>
<li><strong>Зависимость опасна</strong> – зависимость считается опасной, если у нее есть уязвимости с:</li>
<li>префиксом <code>MAL-</code> (фид вредоносных пакетов OSV);</li>
<li>одним из следующих CWE:<ul>
<li>CWE-506: Внедренный вредоносный код;</li>
<li>CWE-507: Троянское ПО;</li>
<li>CWE-509: Нераспространяющийся вредоносный код;</li>
<li>CWE-509: Распространяющийся вредоносный код (вирус или червь);</li>
<li>CWE-510: Скрытые средства несанкционированного доступа;</li>
<li>CWE-511: Логическая или временная бомба;</li>
<li>CWE-512: Шпионское ПО;</li>
<li>CWE-912: Скрытые функции;</li>
</ul>
</li>
<li>или одним из следующих значений поля Импакт в базе <a href="#feeds-kaspersky">Kaspersky OSS Threats Data Feed</a>:<ul>
<li>Вредоносное ПО;</li>
<li>Другое влияние.</li>
</ul>
</li>
<li><strong>Зависимость является протестным ПО</strong> – наличие уязвимости в проприетарном <a href="#feeds-protestware">фиде protestware</a>;</li>
<li><strong>Зависимость является потомком</strong> – поиск на нижестоящих уровнях транзитивных зависимостей, относящихся к указанному родительскому компоненту. Поиск зависимости осуществляется для более глубоких уровней вложенности графа зависимостей. Например, для случая цепочки зависимостей <code>a&lt;-b&lt;-c&lt;-d</code> потомками <code>b</code> будут <code>с</code> и <code>d</code>;</li>
<li><strong>Глубина транзитивности зависимости</strong> - контролирует глубину поиска зависимостей, где 1 - прямая зависимость, 2 и более - транзитивные. Допускается указывать только натуральные числа;</li>
<li><strong>Технология</strong> — язык программирования или экосистема;</li>
<li><strong>Лицензия</strong> – SPDX-идентификатор лицензии;</li>
<li><strong>Категория лицензии</strong> — классификация лицензии по типу (например, copyleft, permissive);</li>
<li><strong>ID уязвимости</strong> — идентификатор уязвимости;</li>
<li><strong>Оценка CVSS2</strong> — численная оценка угрозы по стандарту CVSS 2;</li>
<li><strong>Уровень угрозы CVSS2</strong> — уровень угрозы по стандарту CVSS 2;</li>
<li><strong>CVSS2 Access Vector (AV)</strong> – путь эксплуатации уязвимости (физический или сетевой);</li>
<li><strong>CVSS2 Access Complexity (AC)</strong> – сложность эксплуатация уязвимости;</li>
<li><strong>CVSS2 Authentication (Au)</strong> – требования аутентификации для эксплуатации уязвимости;</li>
<li><strong>CVSS2 Availability Impact (A)</strong> – степень потери доступности данных;</li>
<li><strong>CVSS2 Confidentiality Impact (C)</strong> – степень потери конфиденциальности данных;</li>
<li><strong>CVSS2 Integrity Impact (I)</strong> – степень потери целостности данных;</li>
<li><strong>Оценка CVSS3</strong> — численная оценка угрозы по стандарту CVSS 3;</li>
<li><strong>Уровень угрозы CVSS3</strong> — уровень угрозы по стандарту CVSS 3;</li>
<li><strong>CVSS3 Attack Vector (AV)</strong> — вектор атаки;</li>
<li><strong>CVSS3 Attack Complexity (AC)</strong> — сложность атаки;</li>
<li><strong>CVSS3 Priviliges Required (PR)</strong> — требуемый уровень доступа для эксплуатации уязвимости;</li>
<li><strong>CVSS3 User Interaction (UI)</strong> — наличие взаимодействия с пользователем;</li>
<li><strong>CVSS3 Scope (S)</strong> — область безопасности компонента;</li>
<li><strong>CVSS3 Confidentiality (C)</strong> — cтепень потери конфиденциальности данных;</li>
<li><strong>CVSS3 Integrity (I)</strong> — степень потери целостности данных;</li>
<li><strong>CVSS3 Availability (A)</strong> — степень потери доступности данных;</li>
<li><strong>Дата публикации уязвимости</strong> — дата, когда уязвимость была впервые опубликована;</li>
<li><strong>Дата обновления уязвимости</strong> — дата последнего обновления информации об уязвимости;</li>
<li><strong>Результат эксплуатации уязвимости (Kaspersky)</strong> – поле Импакт в базе <a href="#feeds-kaspersky">Kaspersky OSS Threats Data Feed</a>;</li>
<li><strong>Уязвимость имеет эксплойт</strong> – признак наличия публичного эксплойта в базе знаний уязвимостей (NVD, GHSA, БДУ ФСТЭК или другой);</li>
<li><strong>Уязвимость имеет исправление</strong> – признак наличия версии, на которую можно обновиться для устранения уязвимости;</li>
<li><strong>Уязвимости достижима</strong> – уязвимый метод компонента используется в исходном коде. Более подробно об анализе достижимость можно прочесть в <a href="#agent-reachability">документации агента Johnny</a>.</li>
<li><strong>Возраст уязвимости (в днях)</strong> — количество дней с момента публикации уязвимости;</li>
<li><strong>Окружение</strong> — окружение разработки;</li>
<li><strong>Способ обнаружения</strong> — способ обнаружения зависимости (по манифесту, содержанию проекта или в результате разрешения зависимостей);</li>
<li><strong>Связь</strong> — связь зависимости в проекте (прямая или транзитивная);</li>
<li><strong>CWE</strong> — идентификатор типа уязвимости по стандарту <a href="https://cwe.mitre.org/">Common Weakness Enumeration</a>.</li>
</ul>
<p>Есть возможность задать списковые значения для следующих параметров:</p>
<ul>
<li><strong>Список PURL</strong></li>
<li><strong>Список названий зависимостей</strong></li>
<li><strong>Список email авторов зависимостей</strong></li>
<li><strong>Список ID уязвимостей (CVE)</strong></li>
<li><strong>Список окружений</strong></li>
<li><strong>Список технологий</strong></li>
<li><strong>Список лицензий</strong></li>
<li><strong>Список категорий лицензий</strong></li>
<li><strong>Список CWE</strong></li>
<li><strong>Список уровней угрозы CVSS2</strong></li>
<li><strong>Список уровней угрозы CVSS3</strong></li>
</ul>
<h2 id="on-premise-how-to-policies-_5">Создание копии политики<a class="headerlink" href="#on-premise-how-to-policies-_5" title="Permanent link">&para;</a></h2>
<p>При необходимости продублировать уже имеющуюся политику можно воспользоваться пунктом контекстного меню <strong>Создать копию</strong>.</p>
<p><img alt="Copy policy" src="/assets/img/copy-pol-context-ru.png" /></p>
<p>Или на форме политики нажать кнопку <strong>Создать копию</strong>.</p>
<p><img alt="Copy policy" src="/assets/img/copy-pol-ru.png" /></p>
<p>В случае создания копии политики выполняется создание новой политики с тем же описанием, условиями и связанными с ней действиями.</p>
<h2 id="on-premise-how-to-policies-_6">Пример политики<a class="headerlink" href="#on-premise-how-to-policies-_6" title="Permanent link">&para;</a></h2>
<p>Условия политики можно объединять в группы с помощью логических выражений <strong>И/ИЛИ</strong>. Группы не имеют ограничений по уровню вложенности и количеству условий.</p>
<p>Например, можно задать условия политики для следующего сценария – либо зависимость содержит уязвимость с эксплойтом и рекомендацию по исправлению, либо зависимость является директивной и содержит критическую уязвимость по стандарту CVSS 3.</p>
<p>Для создания такой политики необходимо добавить две группы, объединенные выражением <strong>ИЛИ</strong>. Это значит, что политика сработает при соответствии любой из перечисленных групп условий. Внутри группы задаются условия, объединенные выражением <strong>И</strong>.</p>
<p><img alt="Policy example" src="/assets/img/policy-example.png" /></p>
<p>Политика становится активной сразу после создания по нажатию кнопки <strong>Создать</strong>. Для созданной политики можно настроить действия при ее срабатывании: <a href="#on-premise-how-to-notifications-email">уведомление на почту</a> или <a href="#on-premise-how-to-notifications-jira">создание задачи в Jira</a>.</p>
<p><strong>Важно</strong>: политики срабатывают во время анализа, поэтому важно их создать до запуска анализа.</p>
<p><strong>Рекомендация</strong>: если оставить поля <code>Подразделения</code>, <code>Группы</code> и <code>Проекты</code> пустыми, политика будет применяться для всех активных проектов в системе.</p>
<h2 id="on-premise-how-to-policies-_7">Результаты работы политик<a class="headerlink" href="#on-premise-how-to-policies-_7" title="Permanent link">&para;</a></h2>
<p>Результаты работы политик отображаются в разделе <code>Алерты</code>. Раздел имеет три вкладки:</p>
<ul>
<li><strong>Активные</strong> – список алертов по результатам последнего анализа (проекта, сборки или компонента в прокси-репозитории);</li>
<li><strong>Игнорированные</strong> – список проигнорированных алертов;</li>
<li><strong>Решенные</strong> – список алертов, которые были решены после последнего анализа (условие политики больше не актуально).</li>
</ul>
<p>Причина срабатывания политики отображается в поле <strong>Условия политики</strong>, включая заданные условия и найденные данные о компоненте. Например, значение <code>django@4.2.2 has CVE-2024-38875, CVSS3 Score 7.5 &gt;= 7.00</code> подразумевает, что политика блокировки компонентов с CVSS3 равным или выше 7.00 сработала на компоненте django версии 4.2.2 с оценкой уязвимости 7.5.</p>
<p>Для создания задачи или отправки email из списка алертов необходимо выбрать один или несколько алертов и нажать соответствующую кнопку.</p>
<p>Например, так:</p>
<ul>
<li>создание задач</li>
</ul>
<p><img alt="New task" src="/assets/img/alerts_new_task.png" /></p>
<ul>
<li>отправка почтовых сообщений</li>
</ul>
<p><img alt="Send email" src="/assets/img/alerts_send_email.png" /></p>
<p>Связанные задачи Jira можно отвязать, используя массовое действие <code>Удалить ссылку на задачу</code>.</p>
<p><img alt="Remove issue link" src="/assets/img/alerts_remove_issue_link.png" /></p></section><section class="print-page" id="on-premise-how-to-ignores" heading-number="4.2.3.2"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-ignores.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-ignores-_1">Игнорирование политик<a class="headerlink" href="#on-premise-how-to-ignores-_1" title="Permanent link">&para;</a></h1>
<p>Созданные политики можно временно или навсегда проигнорировать при анализе. Условие игнорирования позволит оставить политики в системе, при этом не получая алертов о ее срабатывании, например в случае если уязвимость в компоненте не применима для конкретного проекта.</p>
<h2 id="on-premise-how-to-ignores-_2">Создание игноров<a class="headerlink" href="#on-premise-how-to-ignores-_2" title="Permanent link">&para;</a></h2>
<p>Создание и настройка условий игнорирования происходит в разделе <code>Настройки -&gt; Игноры политики</code>.</p>
<p>Для создания условия игнорирования для одной или нескольких политик необходимо нажать на кнопку <strong>Создать</strong> и заполнить следующие поля:</p>
<ul>
<li><strong>Группы</strong> – группы проектов, на которые применяется игнор;</li>
<li><strong>Проекты</strong> — проекты, на которые применяется игнор;</li>
<li><strong>Образы контейнеров</strong> – образы в реестрах, на которые применяется игнор;</li>
<li><strong>Технология</strong> - язык программирования или экосистема;</li>
<li><strong>PURL зависимости</strong> — <a href="https://github.com/package-url/purl-spec">package URL</a>, идентификатор компонента;</li>
<li><strong>Название зависимости</strong>;</li>
<li><strong>Версия зависимости</strong>;</li>
<li><strong>Лицензия</strong>;</li>
<li><strong>ID уязвимости</strong> - идентификатор уязвимости;</li>
<li><strong>Политики</strong>;</li>
<li><strong>Активно</strong> - состояние игнора;</li>
<li><strong>Дата активации</strong> - дата, с которой игнор начнет работать;</li>
<li><strong>Дата окончания</strong> - дата, после которой игнор закончит работать;</li>
<li><strong>Заметка</strong>.</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Игнорирование по частичному совпадению</p>
<p>Игнорирование алерта по PURL происходит методом частичного совпадения: если в указанном PURL не хватает какого-то компонента, сравнение будет считаться положительным.</p>
<p>Например, алерт по зависимости с PURL <code>pkg:conda/setuptools@65.1.0?build=py310h2ec42d9_0&amp;channel=conda-forge&amp;subdir=osx-64&amp;type=tar.bz2</code> при игноре по PURL <code>pkg:conda/setuptools@65.1.0</code> будет успешно проигнорирован.</p>
<p>При этом, для <code>pkg:conda/setuptools@65.1.0?subdir=foo</code> указанный PURL зависимости не будет учтен как подходящий, потому что квалификатор <code>subdir</code> не совпадает.</p>
</div>
<p><img alt="Ignore example" src="/assets/img/ignore.png" /></p>
<h2 id="on-premise-how-to-ignores-_3">Результаты игнорирования<a class="headerlink" href="#on-premise-how-to-ignores-_3" title="Permanent link">&para;</a></h2>
<p>Политики, на которые был распространено условие игнорирование, отображаются на вкладке "Игнорированные" раздела <code>Алерты</code>.</p>
<p>Сработавшие активные политики также можно быстро проигнорировать из вкладки "Активные", используя кнопку <strong>Игнорировать</strong>.</p>
<div class="admonition warning доступ">
<p class="admonition-title">Warning</p>
<p>Пользователь может просматривать только игноры, которые связанны с доступными ему проектами.</p>
</div></section></section>
                    <section class='print-page md-section' id='section-4-2-4' heading-number='4.2.4'>
                        <h1>Настройка проектов<a class='headerlink' href='#section-4-2-4' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="on-premise-how-to-vcs-git" heading-number="4.2.4.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-vcs-git.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-vcs-git-_1">Подключение системы контроля версий<a class="headerlink" href="#on-premise-how-to-vcs-git-_1" title="Permanent link">&para;</a></h1>
<p>Для добавления в систему проектов (git-репозиториев) на анализ необходимо предварительно создать подключение к системе контроля версий (VCS). CodeScoring поддерживает следующие платформы:</p>
<ul>
<li>GitLab</li>
<li>GitHub</li>
<li>BitBucket (только Data Center и Server)</li>
<li>Azure DevOps Git</li>
<li>GitFlic</li>
<li>Другие платформы, использующие Git</li>
</ul>
<p>Интеграция происходит через два возможных механизма: Personal Access Token или ключ SSH. Для механизма Personal Access Token возможно подключение нескольких систем контроля версий с одним адресом, но разными токенами.</p>
<p><strong>Важно</strong>: После подключения системы контроля версий невозможно поменять ее тип и адрес подключения.</p>
<p><strong>Примечание</strong>: в случае, если для обращения к системе контроля версий используются приватные NS сервера, их необходимо указать в настройках платформы. Для получения соответствующих шаблонов необходимо обратиться к вендору.</p>
<h2 id="on-premise-how-to-vcs-git-ssh-">Добавление SSH-ключа<a class="headerlink" href="#on-premise-how-to-vcs-git-ssh-" title="Permanent link">&para;</a></h2>
<ol>
<li>Скопировать существующий или сгенерировать новый приватный SSH ключ в системе контроля версий по инструкции для:<ul>
<li><a href="https://docs.gitlab.com/ee/user/ssh.html">Gitlab</a></li>
<li><a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent">Github</a></li>
<li><a href="https://support.atlassian.com/bitbucket-cloud/docs/configure-ssh-and-two-step-verification/">BitBucket</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/devops/repos/git/use-ssh-keys-to-authenticate?view=azure-devops">Azure DevOps Git</a></li>
</ul>
</li>
<li>В интерфейсе CodeScoring перейти в раздел <code>Настройки -&gt; SSH ключи</code></li>
<li>Нажать <strong>Добавить</strong> в правом верхнем углу.</li>
<li>Ввести название ключа в поле <strong>Название</strong> и сам приватный SSH ключ в поле <strong>Приватный ключ</strong>, после чего завершить добавление ключа.</li>
<li>Перейти в раздел <code>Настройки -&gt; VCS</code>.</li>
<li>Нажать <strong>Добавить</strong> в правом верхнем углу.</li>
<li>Заполнить форму, как показано на скриншоте. SSH ключ выбирается из списка в поле <strong>SSH key</strong>.
    <img alt="VCS form with SSH key" src="/assets/img/ru-vcs-ssh-key.png" /></li>
<li>Проверить подключение можно по кнопке <strong>Проверить подключение</strong>. Для создания подключения необходимо нажать на кнопку <strong>Добавить</strong>.</li>
</ol>
<h2 id="on-premise-how-to-vcs-git-gitlab">Добавление токена для GitLab<a class="headerlink" href="#on-premise-how-to-vcs-git-gitlab" title="Permanent link">&para;</a></h2>
<p>Оригинальная инструкция для генерации токена на английском: <a href="https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html#create-a-personal-access-token">https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html#create-a-personal-access-token</a></p>
<ol>
<li>Войти в свой аккаунт в GitLab.</li>
<li>
<p>Через меню пользователя в правом верхнем углу перейти в раздел <strong>Edit profile</strong>.</p>
<p><img alt="Edit profile" src="/assets/img/gitlab/edit-profile-link.png" /></p>
</li>
<li>
<p>Далее в левом меню выбрать раздел <strong>Access Tokens</strong>.</p>
<p><img alt="Access tokens" src="/assets/img/gitlab/access-tokens-link.png" /></p>
</li>
<li>
<p>Задать название токену, например, "<em>codescoring-demo</em>", дату можно оставить пустой</p>
</li>
<li>В секции <em>scopes</em> выбрать <strong>read_api</strong> и <strong>read_repository</strong>.
    <img alt="Token scopes" src="/assets/img/gitlab/scopes.png" /></li>
<li>Нажать кнопку <strong>Create personal access token</strong>.</li>
<li>Скопировать сгенерированный токен.</li>
<li>В интерфейсе CodeScoring перейти в раздел <code>Настройки -&gt; VCS</code>.</li>
<li>Нажать <strong>Добавить</strong> в правом верхнем углу.</li>
<li>Заполнить форму, как показано на скриншоте. Токен вставляется в поле <strong>Токен доступа</strong>.
    <img alt="VCS form for GitLab" src="/assets/img/gitlab/ru-vcs-form-gitlab.png" /></li>
</ol>
<h2 id="on-premise-how-to-vcs-git-github">Добавление токена для GitHub<a class="headerlink" href="#on-premise-how-to-vcs-git-github" title="Permanent link">&para;</a></h2>
<p>Оригинальная инструкция для генерации токена на английском: <a href="https://docs.github.com/en/github/authenticating-to-github/keeping-your-account-and-data-secure/creating-a-personal-access-token">https://docs.github.com/en/github/authenticating-to-github/keeping-your-account-and-data-secure/creating-a-personal-access-token</a></p>
<ol>
<li>Войти в свой аккаунт в GitHub, для облачной версии логин доступен по ссылке <a href="https://github.com/login">https://github.com/login</a>.</li>
<li>Если у аккаунта не верифицирован email, обязательно это сделать по <a href="https://docs.github.com/en/get-started/signing-up-for-github/verifying-your-email-address">инструкции</a>.</li>
<li>Через меню пользователя в правом верхнем углу перейти в раздел <strong>Settings</strong>.</li>
<li>Далее в левом меню выбрать раздел <strong>Developer settings</strong>.</li>
<li>В левом меню выбрать раздел <strong>Personal access tokens</strong>.</li>
<li>Задать название токену, например, "codescoring-demo".</li>
<li>В секции Select scopes выбрать все опции списка <em>repos</em>.</li>
<li>Нажать кнопку <strong>Generate token</strong>.</li>
<li>Скопировать сгенерированный токен.</li>
<li>В интерфейсе CodeScoring перейти в раздел <code>Настройки -&gt; VCS</code>.</li>
<li>Нажать <strong>Добавить</strong> в правом верхнем углу.</li>
<li>Заполнить форму, как показано на скриншоте. Токен вставляется в поле <strong>Токен доступа</strong>.
    <img alt="VCS form for GitHub" src="/assets/img/github/ru-vcs-form-github.png" /></li>
</ol>
<h2 id="on-premise-how-to-vcs-git-bitbucket-data-center-server">Добавление токена для BitBucket Data Center и Server<a class="headerlink" href="#on-premise-how-to-vcs-git-bitbucket-data-center-server" title="Permanent link">&para;</a></h2>
<p>Оригинальная инструкция для генерации токена на английском: <a href="https://confluence.atlassian.com/bitbucketserver072/personal-access-tokens-1005335924.html">https://confluence.atlassian.com/bitbucketserver072/personal-access-tokens-1005335924.html</a></p>
<ol>
<li>Войти в свой аккаунт в BitBucket.</li>
<li>Через меню пользователя в правом верхнем углу перейти в раздел <strong>Manage account</strong>.</li>
<li>Далее в левом меню выбрать раздел <strong>Personal access tokens</strong>.</li>
<li>Нажать на <strong>Create token</strong>.</li>
<li>Задать название токену, например, "codescoring-demo".</li>
<li>В секции <strong>Permissions</strong> дать права на чтение для проектов и репозиториев.</li>
<li>В секции <strong>Expiry</strong> при желании задать срок жизни токена.</li>
<li>Нажать кнопку <strong>Create</strong>.</li>
<li>Скопировать сгенерированный токен.</li>
<li>В интерфейсе CodeScoring перейти в раздел <code>Настройки -&gt; VCS</code>.</li>
<li>Нажать <strong>Добавить</strong> в правом верхнем углу.</li>
<li>Заполнить форму, как показано на скриншоте. Токен вставляется в поле <strong>Токен доступа</strong>.
    <img alt="VCS form for BitBucket Server" src="/assets/img/bitbucket/ru-vcs-form-bitbucket.png" /></li>
</ol>
<h2 id="on-premise-how-to-vcs-git-azure-devops-git">Добавление токена для Azure DevOps Git<a class="headerlink" href="#on-premise-how-to-vcs-git-azure-devops-git" title="Permanent link">&para;</a></h2>
<p>Оригинальная инструкция для генерации токена на английском: <a href="https://docs.microsoft.com/en-us/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate?view=azure-devops">https://docs.microsoft.com/en-us/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate?view=azure-devops</a></p>
<ol>
<li>Войти в свой аккаунт в Azure DevOps.</li>
<li>
<p>Через меню пользователя в правом верхнем углу перейти в раздел <strong>Personal access tokens</strong>.</p>
<p><img alt="PAT menu item" src="/assets/img/azure/pat-menu-item.png" /></p>
</li>
<li>
<p>Далее нажать кнопку <strong>New token</strong>.</p>
</li>
<li>Задать название токену, например, "codescoring-demo", и срок действия токена.</li>
<li>В секции <em>Scopes</em> обязательно отметить доступ на <strong>Read</strong> для сущностей <strong>Code</strong> и <strong>Identity</strong>.</li>
<li>Нажать кнопку <strong>Create</strong>.</li>
<li>Скопировать сгенерированный токен.</li>
<li>В интерфейсе CodeScoring перейти в раздел <code>Настройки -&gt; VCS</code>.</li>
<li>Нажать <strong>Добавить</strong> в правом верхнем углу.</li>
<li>Заполнить форму, как показано на скриншоте. Токен вставляется в поле <strong>Токен доступа</strong>.
    <img alt="VCS form for Azure" src="/assets/img/azure/ru-vcs-form-azure.png" /></li>
</ol>
<h2 id="on-premise-how-to-vcs-git-gitflic-ssh">Подключение GitFlic через ssh<a class="headerlink" href="#on-premise-how-to-vcs-git-gitflic-ssh" title="Permanent link">&para;</a></h2>
<ol>
<li>Создайте новую пару ключей ssh без passphase с типом <strong>RSA_SHA512</strong>,<strong>SSH_ED25519</strong> или <strong>ECDSA-SHA2-nistp256</strong>.
        <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-how-to-vcs-git-__codelineno-0-1"></a>ssh-keygen<span class="w"> </span>-t<span class="w"> </span>ed25519<span class="w"> </span>-N<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span>-q<span class="w"> </span>-f<span class="w"> </span>/tmp/id25519
</code></pre></div></li>
<li>
<p>Перейдите в веб-интерфейс GitFlic в раздел <code>Настройки -&gt; Ключи</code> и добавьте <strong>публичный</strong> ключ в пул ключей GitFlic.</p>
<p>Посмотреть содержимое публичного ключа можно при помощи следующей команды:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#on-premise-how-to-vcs-git-__codelineno-1-1"></a>cat<span class="w"> </span>/tmp/id25519.pub
</code></pre></div></p>
</li>
<li>
<p>Перейдите в интерфейс CodeScoring в раздел <code>Настройки -&gt; SSH ключи</code>, откройте форму добавления ключа по кнопке <strong>Добавить</strong>  и добавьте <strong>приватный</strong> ключ в пул ключей CodeScoring.</p>
<p>Посмотреть содержимое приватного ключа можно при помощи следующей команды:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#on-premise-how-to-vcs-git-__codelineno-2-1"></a>cat<span class="w"> </span>/tmp/id25519
</code></pre></div></p>
</li>
<li>
<p>Перейдите в раздел <code>Настройки -&gt; VCS</code>, откройте форму добавления VCS по кнопке <strong>Добавить</strong> и заполните поля создания VCS инстанса:</p>
<ul>
<li><strong>Название</strong> – название VCS подключения;</li>
<li><strong>Тип подключения</strong> – тип клонирования репозитория (выбрать тип SSH);</li>
<li><strong>Тип</strong> – тип инстанса VCS (выбрать тип Other git);</li>
<li><strong>Адрес</strong> – адрес, по которому доступен VCS;</li>
<li><strong>SSH key</strong> – ключ SSH, созданный в пункте 3.</li>
</ul>
</li>
<li>
<p>Перейдите  в раздел <code>Настройки -&gt; Проекты</code>, откройте форму создания нового проекта по кнопке <strong>Создать</strong> и заполните поля создания проекта:</p>
<ul>
<li><strong>Репозиторий</strong> – ссылка на репозиторий в GitFlic;</li>
<li><strong>VCS</strong> – название инстанса VCS, созданного в пункте 6;</li>
<li><strong>Название</strong> – название проекта в CodeScoring.</li>
</ul>
<p><strong>Важно</strong>: ввиду особенностей работы GitFlic и CodeScoring, стандартную ссылку на репозиторий необходимо модифицировать, убрав из нее часть пути <code>/project/</code>. Например:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#on-premise-how-to-vcs-git-__codelineno-3-1"></a>&lt;https://gitflic.ru/project/kovalevaa/utils.git&gt; -&gt; &lt;https://gitflic.ru/kovalevaa/utils.git&gt;_
</code></pre></div></p>
</li>
<li>
<p>Сохраните проект по кнопке <strong>Создать</strong>.</p>
</li>
</ol>
<h2 id="on-premise-how-to-vcs-git-vcs">Синхронизация данных из VCS<a class="headerlink" href="#on-premise-how-to-vcs-git-vcs" title="Permanent link">&para;</a></h2>
<p>CodeScoring автоматически синхронизирует данные из систем контроля версий при добавлении проекта, запуске анализа и в рамках фоново выполняемых задач. Ниже описаны все механизмы получения и обновления данных из <code>git</code>:</p>
<ol>
<li>При добавлении VCS-проекта, CodeScoring создаёт локальную копию репозитория в режиме <code>bare</code> и сохраняет её в каталоге проекта.</li>
<li>При запуске SCA, TQI или Secrets анализа система загружает актуальное состояние ветки, указанной в настройках проекта.</li>
<li>Раз в месяц CodeScoring инициирует фоновую задачу, которая синхронизирует все подключённые VCS-проекты с удалёнными репозиториями. Это профилактическое обновление, которое не заменяет синхронизацию при запуске анализа, а лишь ускоряет его на проектах, где анализ давно не выполнялся.<ul>
<li>Выполняется <code>git fetch</code> для всех VCS-проектов</li>
<li>Задачи распределяются с помощью инструмента Huey так, чтобы равномерно распределить нагрузку по оставшимся дням месяца</li>
</ul>
</li>
</ol>
<p><strong>Примечание:</strong> при необходимости досрочной синхронизации репозитория можно использовать ручной запуск обновления кода на странице проекта в разделе <code>Настройки -&gt; Проекты</code>.</p></section><section class="print-page" id="on-premise-how-to-projects" heading-number="4.2.4.2"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-projects.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-projects-_1">Управление проектами<a class="headerlink" href="#on-premise-how-to-projects-_1" title="Permanent link">&para;</a></h1>
<p>Проект в CodeScoring – это часть анализируемой кодовой базы. В системе возможно создать два типа проектов:</p>
<ul>
<li><strong>VCS-проект</strong> – связан с репозиторием в системе контроля версий;</li>
<li><strong>CLI-проект</strong> – не имеет привязки к репозиторию и позволяет сохранять результаты сканирования от консольного агента johnny или загрузить готовый SBOM-файл.</li>
</ul>
<p>Управление проектами происходит в разделе <code>Настройки -&gt; Проекты</code>.</p>
<h2 id="on-premise-how-to-projects-vcs-">Создание VCS-проекта<a class="headerlink" href="#on-premise-how-to-projects-vcs-" title="Permanent link">&para;</a></h2>
<p><strong>Важно!</strong> Создать VCS-проект получится только после создания <a href="#on-premise-how-to-vcs-git">подключения к системе контроля версий</a>.</p>
<p>Для перехода на форму создания VCS-проекта необходимо нажать на кнопку <strong>Создать</strong> и выбрать вкладку <strong>VCS проекты</strong>. Выбранный при создании тип проекта нельзя перевести в другой.</p>
<p><img alt="VCS Project" src="/assets/img/vcs-project.png" /></p>
<ol>
<li>Для добавления проекта необходимо добавить в форме ссылку на репозиторий, выбрать соответствующую систему контроля версий из списка, задать название проекта и опцию запуска SCA анализа сразу после клонирования.</li>
<li>После добавления происходит первоначальное клонирование проекта, время которого будет зависеть от размера репозитория.</li>
<li>После клонирования проект будет доступен для редактирования и новых анализов.</li>
</ol>
<p>Система принимает ссылки на репозитории в следующих форматах:</p>
<ul>
<li>GitLab<ul>
<li><code>&lt;http/https&gt;://&lt;GitLab Server URL&gt;/&lt;group&gt;/&lt;project</code></li>
</ul>
</li>
<li>GitHub<ul>
<li><code>https://github.com/&lt;ursername/organisation&gt;/&lt;project&gt;</code></li>
</ul>
</li>
<li>BitBucket<ul>
<li><code>&lt;http/https&gt;://&lt;Bitbucket Server URL&gt;/scm/&lt;group&gt;/&lt;project&gt;</code></li>
</ul>
</li>
<li>Azure DevOps Git<ul>
<li><code>https://&lt;organisation&gt;.visualstudio.com/&lt;group&gt;/_git/&lt;project&gt;</code></li>
<li><code>https://dev.azure.com/&lt;organisation&gt;/&lt;group&gt;/_git/&lt;project&gt;</code></li>
<li><code>&lt;http/https&gt;://&lt;Azure Server URL&gt;/&lt;organisation&gt;/&lt;group&gt;/_git/&lt;project&gt;</code></li>
</ul>
</li>
</ul>
<p>После добавления репозитория на странице настроек VCS-проекта доступно ручное обновление кода проекта по кнопке <strong>Обновить код проекта</strong>.</p>
<p><strong>Внимание!</strong> Если анализируемый проект коммерческий, то рекомендуется указать для него категорию лицензии <strong>Commercial License</strong> для корректной работы политики по лицензионной совместимости компонентов.</p>
<h2 id="on-premise-how-to-projects-cli-">Создание CLI-проекта<a class="headerlink" href="#on-premise-how-to-projects-cli-" title="Permanent link">&para;</a></h2>
<p>Для перехода на форму создания CLI-проекта необходимо нажать на кнопку <strong>Создать</strong> и выбрать вкладку CLI проекты.</p>
<p>Для добавления проекта достаточно заполнить его название в поле <strong>Название</strong>.</p>
<h2 id="on-premise-how-to-projects-_2">Создание категорий проектов<a class="headerlink" href="#on-premise-how-to-projects-_2" title="Permanent link">&para;</a></h2>
<p>Категории используются для группировки проектов системы по смысловым группам.</p>
<p>Управление категориями происходит в разделе <code>Настройки -&gt; Категории</code>. Перейти на форму создания категории можно по кнопке <strong>Создать</strong>. Для создания категории достаточно задать ей название.</p></section></section>
                    <section class='print-page md-section' id='section-4-2-5' heading-number='4.2.5'>
                        <h1>Расширенная настройка<a class='headerlink' href='#section-4-2-5' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="on-premise-how-to-proprietors" heading-number="4.2.5.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-proprietors.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-proprietors-_1">Настройка подразделений<a class="headerlink" href="#on-premise-how-to-proprietors-_1" title="Permanent link">&para;</a></h1>
<p>Подразделения — это абстрактные сущности в рамках организации. Они упрощают группировку проектов по принадлежности к разным группам ответственных <a href="#on-premise-how-to-users">пользователей</a>.</p>
<p>Управление подразделениями происходит в разделе <code>Настройки -&gt; Подразделения</code>. Перейти на форму создания подразделения можно по кнопке <strong>Создать</strong>. В форме необходимо обязательно заполнить поле названия подразделения <strong>Название</strong> и опциональные поля по желанию.</p>
<p><img alt="Создание подразделений" src="/assets/img/proprietor-setup.png" /></p>
<h2 id="on-premise-how-to-proprietors-_2">Привязка авторов<a class="headerlink" href="#on-premise-how-to-proprietors-_2" title="Permanent link">&para;</a></h2>
<p>В рамках системы имеется возможность создать связь между автором кода и конкретным подразделением. Для этого необходимо перейти на список авторов по кнопке <strong>Изменить сопоставление авторов</strong> и выбрать нужное подразделение в поле <strong>Подразделение</strong>.</p>
<p><img alt="Привязка авторов к подразделениям" src="/assets/img/proprietor-mapping.png" /></p></section><section class="print-page" id="on-premise-how-to-notifications" heading-number="4.2.5.2"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-notifications.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-notifications-_1">Настройка уведомлений<a class="headerlink" href="#on-premise-how-to-notifications-_1" title="Permanent link">&para;</a></h1>
<p>Для каждой политики можно настроить дополнительные уведомления о срабатывании политик, помимо просмотра результатов в разделе <code>Алерты</code>. На данный момент доступно два способа оповещения: через <strong>email</strong> и через таск-менеджер <strong>Jira</strong>.</p>
<h2 id="on-premise-how-to-notifications-email">Уведомления через email<a class="headerlink" href="#on-premise-how-to-notifications-email" title="Permanent link">&para;</a></h2>
<p>Отправка email оповещений осуществляется через интеграцию по протоколу SMTP.</p>
<p>Для отправки уведомлений через email необходимо предварительно настроить почтовый сервер в разделе <code>Настройки -&gt; Уведомления -&gt; Email</code>. Для этого нужно заполнить все обязательные параметры и установить чек-бокс <strong>Активный</strong>.</p>
<p>Проверить правильность конфигурации можно по кнопке <strong>Проверить подключение</strong>.</p>
<p><img alt="CodeScoring email settings example" src="/assets/img/ru-email-settings.png" /></p>
<p>После настройки почтового сервера на вкладке <code>Действия</code> на странице политики можно добавить email адрес, на который будет осуществляться рассылка писем с результатами работы политики:</p>
<p><img alt="CodeScoring Policy Actions example" src="/assets/img/policy_actions_email.png" /></p>
<ul>
<li><strong>Email</strong> — почтовый адрес;</li>
<li><strong>Режим</strong> — режим отправки писем:</li>
<li>Отправить каждое оповещение отдельно;</li>
<li>Отправить все оповещения вместе;</li>
<li><strong>Шаблон</strong> - название <a href="#on-premise-how-to-notifications-template-management">шаблона</a>. Если не указано, будет использован стандартный шаблон;</li>
<li><strong>Группы</strong> — группы проектов, на которые делается оповещение. Если не указано, подразумеваются все группы;</li>
<li><strong>Проекты</strong> — конкретные проекты, на которые делается оповещение. Если не указано, подразумеваются все проекты.</li>
</ul>
<p>Если указаны и группы, и проекты, то оповещения будут включать в себя информацию по всем проектам из указанных групп и по всем указанным проектам.</p>
<p>Письмо с результатами работы политики отправляется <strong>по завершении сканирования проекта</strong>. Содержимое письма зависит от выбранного шаблона.</p>
<h2 id="on-premise-how-to-notifications-jira">Создание задач в Jira<a class="headerlink" href="#on-premise-how-to-notifications-jira" title="Permanent link">&para;</a></h2>
<p>CodeScoring поддерживает интеграцию с таск-менеджером Jira для формирования задач по сработавшим политикам. Настройка интеграции происходит в разделе <code>Настройки -&gt; Уведомления -&gt; Менеджеры задач</code>.</p>
<p>Для создания новой интеграции используется форма по кнопке <strong>Добавить</strong>.</p>
<ul>
<li><strong>Название</strong> - название интеграции;</li>
<li><strong>Тип</strong> - тип таск-менеджера (по умолчанию – Jira Server);</li>
<li><strong>URL</strong> - адрес, по которому доступен таск-менеджер;</li>
<li><strong>Тип аутентификации</strong> - аутентификация через токен доступа или логин и пароль.</li>
</ul>
<p>После заполнения полей можно проверить соединение с сервером по кнопке <strong>Проверить подключение</strong>, или завершить создание по кнопке <strong>Добавить</strong>.</p>
<p><img alt="CodeScoring Jira settings example" src="/assets/img/ru-jira-settings.png" /></p>
<p>После настройки интеграции на вкладке <code>Действия</code> на странице политики можно добавить сервер Jira, на котором будет создаваться задача с результатами работы политики:</p>
<p><img alt="CodeScoring Jira settings example" src="/assets/img/policy_actions_task_manager.png" /></p>
<ul>
<li><strong>Режим</strong> — режим отправки:</li>
<li>Отправить каждое оповещение отдельно;</li>
<li>Отправить все оповещения вместе.</li>
<li><strong>Группы</strong> — группы проектов, на которые делается оповещение. Если не указано, подразумеваются все группы;</li>
<li><strong>Проекты</strong> — конкретные проекты, на которые делается оповещение. Если не указано, подразумеваются все проекты;</li>
<li><strong>Сервер</strong> — таск-менеджер (в данном случае Jira);</li>
<li><strong>Проект</strong> — проект в Jira;</li>
<li><strong>Задача</strong> — тип карточки: <em>Task</em>, <em>Story</em> или <em>Bug</em>;</li>
<li><strong>Приоритет задачи</strong> - приоритет карточки. Если не указан, будет использован приоритет по умолчанию на стороне Jira;</li>
<li><strong>Шаблон</strong> - название <a href="#on-premise-how-to-notifications-template-management">шаблона</a>. Если не указано, будет использован стандартный шаблон.</li>
</ul>
<p>Если указаны и группы, и проекты, то оповещения будут включать в себя информацию по всем проектам из указанных групп и по всем указанным проектам.</p>
<p><img alt="CodeScoring Policy Actions example" src="/assets/img/policy_actions.png" /></p>
<h2 id="on-premise-how-to-notifications-template-management">Управление шаблонами<a class="headerlink" href="#on-premise-how-to-notifications-template-management" title="Permanent link">&para;</a></h2>
<p>В CodeScoring поддерживается возможность использования собственных шаблонов для уведомлений по email или создания Jira-задач.
Управление шаблонами доступно в разделе <code>Настройки -&gt; Уведомления -&gt; Шаблоны</code>.</p>
<p>Для создания нового шаблона используется форма со следующими полями:</p>
<ul>
<li>Наименование;</li>
<li>Тип - шаблоны в зависимости от использования разделяются по типам <a href="https://jira.atlassian.com/secure/WikiRendererHelpAction.jspa?section=all" target="_blank">Markdown для Jira-задач</a> и <a href="https://templates.mailchimp.com/" target="_blank">HTML для email-оповещений</a>;</li>
<li>Шаблон - содержимое шаблона в формате <a href="https://jinja.palletsprojects.com/" target="_blank">jinja2</a>.</li>
</ul>
<p>Важно! Используйте только безопасные структуры.
Прежде чем завершить создание шаблона убедитесь в безопасности своих данных.</p>
<p><img alt="Template example" src="/assets/img/template.png" /></p>
<p>При заполнении поля <strong>Шаблон</strong> формы, необходимо учитывать, что шаблон может использоваться как для режима отправки "Отправить каждое оповещение отдельно", так и для "Отправить все оповещения вместе".</p>
<p>Содержимое email или jira-задачи формируется на основании шаблона и <code>контекста алертов</code>.
В контексте предоставляется <code>коллекция алертов</code> (в режиме раздельной отправки в коллекции будет один алерт).</p>
<p>Для каждого <code>алерта</code> можно использовать следующие переменные:</p>
<ul>
<li>policy_alert_level: str - уровень критичности алерта;</li>
<li>policy_alert_stage: str - стадия цикла разработки;</li>
<li>policy_alert_matched_criteria_list: list[str] - список условий политики;</li>
<li>policy_name: str - название политики;</li>
<li>policy_blocks_build: bool - блокировка сборки или загрузки компонента из прокси-репозитория;</li>
<li>policy_block_delay: int - задержка (в днях) от первого срабатывания политики до блокировки;</li>
<li>policy_is_block_delayed: bool - использование отложенной блокировки;</li>
<li>dependency_name: str - название зависимости;</li>
<li>dependency_link: str - ссылка на зависимость;</li>
<li>dependency_technology: str - язык программирования или экосистема;</li>
<li>vulnerability_code: Optional[str] - идентификатор уязвимости из внешней базы;</li>
<li>vulnerability_link: Optional[str] - ссылка на уязвимость;</li>
<li>max_fixed_version: Optional[str] - максимальная исправленная версия;</li>
<li>license_code: Optional[str] - лицензия;</li>
<li>project_name: Optional[str] - название проекта;</li>
<li>container_image_name: Optional[str] - название образа контейнера;</li>
<li>container_image_link: Optional[str] - ссылка на образ контейнера.</li>
</ul>
<p>Важно: все ссылки ведут на ту платформу, на которой были сформированы данные для email или задачи в Jira.</p></section><section class="print-page" id="on-premise-how-to-audit-log" heading-number="4.2.5.3"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-audit-log.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-audit-log--">Работа с аудит-логом<a class="headerlink" href="#on-premise-how-to-audit-log--" title="Permanent link">&para;</a></h1>
<p>Аудит-лог – это журнал событий в системе <strong>CodeScoring</strong>. Он находится в разделе <code>Настройки -&gt; Аудит лог</code>.</p>
<p>В аудит-логе фиксируются события системы, действия пользователей и произошедшие ошибки. Каждое событие содержит следующие данные:</p>
<ul>
<li><strong>Время события</strong> – дата и время события;</li>
<li><strong>Инициатор</strong> – имя пользователя или <code>system</code> для действий системы;</li>
<li><strong>Сообщение</strong> – сообщение с деталями события;</li>
<li><strong>Длительность</strong> – продолжительность событий по этапам анализа и работе с внешними источниками.</li>
</ul>
<p>Журнал можно отфильтровать по периоду или инициатору, а также найти в нем конкретное событие, используя поле <code>Поиск</code>. Также доступен экспорт журнала в формате CSV.</p>
<p>События в аудит-логе разделяются на несколько категорий. Ниже приведен полный список возможных событий по каждой из категорий с расшифровками.</p>
<h2 id="on-premise-how-to-audit-log-_1">Активация лицензии<a class="headerlink" href="#on-premise-how-to-audit-log-_1" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Текст события</th>
<th>Расшифровка</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>Object <ActivationKey: Owner: {owner.name}. Expired: YYYY-ММ-DD HH:MM:SS+HH:MM (timezone). Authors limit: {limit.number}> created</em></td>
<td>Активация лицензии на ПО с указанием владельца ключа и ограничения по количеству авторов</td>
</tr>
<tr>
<td><em>No activation key</em></td>
<td>Отсутствует ключ активации</td>
</tr>
<tr>
<td><em>Problem with activation key: {status.lower()}</em></td>
<td>Проблема с ключом активации</td>
</tr>
</tbody>
</table>
<h2 id="on-premise-how-to-audit-log-_2">Аутентификация пользователя<a class="headerlink" href="#on-premise-how-to-audit-log-_2" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Текст события</th>
<th>Расшифровка</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>User logged in</em></td>
<td>Пользователь успешно аутентифицировался в системе</td>
</tr>
<tr>
<td><em>User logged out</em></td>
<td>Пользователь вышел из системы</td>
</tr>
<tr>
<td><em>Failed login attempt {username}</em></td>
<td>Введен неверный пароль при попытке аутентификации</td>
</tr>
</tbody>
</table>
<h2 id="on-premise-how-to-audit-log-_3">Управление объектами<a class="headerlink" href="#on-premise-how-to-audit-log-_3" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Текст события</th>
<th>Расшифровка</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>Object {instance!r} created</em></td>
<td>Создание любого объекта в системе пользователем через интерфейс</td>
</tr>
<tr>
<td><em>Object {instance!r} updated</em></td>
<td>Обновление любого объекта в системе пользователем через интерфейс</td>
</tr>
<tr>
<td><em>Object {instance!r} deleted</em></td>
<td>Удаление любого объекта в системе пользователем через интерфейс</td>
</tr>
</tbody>
</table>
<h2 id="on-premise-how-to-audit-log-sca">Запуск SCA анализа<a class="headerlink" href="#on-premise-how-to-audit-log-sca" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Текст события</th>
<th>Расшифровка</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>[SCA][{analysis_run.project.name}][{analysis_run.sequence}/{analysis_run.pk}] Analysis started</em></td>
<td>SCA анализ проекта запущен</td>
</tr>
<tr>
<td><em>[SCA][{analysis_run.project.name}][{analysis_run.sequence}/{analysis_run.pk}] Analysis finished</em></td>
<td>SCA анализ проекта окончен</td>
</tr>
<tr>
<td><em>[SCA][{analysis_run.project.name}][{analysis_run.sequence}/{analysis_run.pk}] Analysis failed. Check server logs.</em></td>
<td>SCA анализ проекта завершился с ошибкой. Необходимо проверить логи сервера.</td>
</tr>
<tr>
<td><em>Failed to clone for repository {repository.name}.</em></td>
<td>Клонирование репозитория не удалось</td>
</tr>
<tr>
<td><em>Failed to detect branch for repository "{repository.name}</em></td>
<td>Не удалось обнаружить ветку для репозитория</td>
</tr>
<tr>
<td><em>[SCA][{project.name}][{analysis_run.sequence}/{analysis_run.pk}] Clone source code</em></td>
<td>Клонирование исходного кода проекта запущено</td>
</tr>
<tr>
<td><em>SCA][{project.name}][{analysis_run.sequence}/{analysis_run.pk}] Collect files data</em></td>
<td>Поиск данных о файлах проекта запущен</td>
</tr>
<tr>
<td><em>[SCA][{project.name}][{analysis_run.sequence}/{analysis_run.pk}] Collect manifests</em></td>
<td>Поиск манифестов проекта запущен</td>
</tr>
<tr>
<td><em>[SCA][{project.name}][{analysis_run.sequence}/{analysis_run.pk}] Create pipeline</em></td>
<td>Создание pipeline для SCA анализа проекта запущено</td>
</tr>
<tr>
<td><em>[SCA][{project.name}][{analysis_run.sequence}/{analysis_run.pk}] Check policies</em></td>
<td>Проверка политик SCA анализа проекта запущена</td>
</tr>
<tr>
<td><em>[SCA][{project.name}][{analysis_run.sequence}/{analysis_run.pk}] Update project metrics</em></td>
<td>Обновление метрик проекта для SCA анализа проекта запущено</td>
</tr>
<tr>
<td><em>[SCA][{project.name}][{analysis_run.sequence}/{analysis_run.pk}] Analyze dependencies</em></td>
<td>Анализ зависимостей проекта для SCA анализа проекта запущен</td>
</tr>
<tr>
<td><em>[[SCA][{project.name}] Analysis didn't start (Reason: {err.message})]</em></td>
<td>SCA анализ проекта не запустился из-за ошибки</td>
</tr>
<tr>
<td><em>Overall SCA run started for {len(projects)} project(s)</em></td>
<td>Запущен  общий SCA анализ для проектов</td>
</tr>
</tbody>
</table>
<p>Каждое событие SCA анализа содержит последовательный номер анализа в проекте и <strong>UUID</strong> запуска.</p>
<h2 id="on-premise-how-to-audit-log-tqi">Запуск TQI анализа<a class="headerlink" href="#on-premise-how-to-audit-log-tqi" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Текст события</th>
<th>Расшифровка</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>Rebuild author {primary_email}</em></td>
<td>Обновление информации по автору на основании правил объединения по основному email</td>
</tr>
<tr>
<td><em>Generate authors merge rules</em></td>
<td>Создание правил слияния авторов</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Collect commits data for project {project.name}</em></td>
<td>Сбор данных коммитов для проекта запущен</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Create authors</em></td>
<td>Создание авторов</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Load authors OSS contributions</em></td>
<td>Загрузка вклада авторов в OSS</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Authors analysis started</em></td>
<td>Начался анализ авторов</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Authors analysis completed</em></td>
<td>Анализ авторов успешно завершен</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Authors analysis failed. Check server logs.</em></td>
<td>Анализ авторов завершен с ошибкой. Необходимо проверить логи сервера</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Authors analysis cancelled</em></td>
<td>Анализ авторов отменен</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Update project {project.name}</em></td>
<td>Обновление проекта</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Clones analysis started</em></td>
<td>Запущен анализ клонированного кода запущен</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Clones analysis completed</em></td>
<td>Завершен анализ клонированного кода</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Clones analysis failed. Check server logs.</em></td>
<td>Анализ клонированного кода завершен с ошибкой. Необходимо проверить логи сервера</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Clones analysis cancelled</em></td>
<td>Анализ клонированного кода отменен</td>
</tr>
<tr>
<td><em>(Run #{run_id}) Clone source code for project {project.name}</em></td>
<td>Клонирование репозитория исходного кода проекта запущено</td>
</tr>
</tbody>
</table>
<p>Каждое событие TQI анализа содержит <strong>UUID</strong> запуска.</p>
<h2 id="on-premise-how-to-audit-log-_4">Управление политиками<a class="headerlink" href="#on-premise-how-to-audit-log-_4" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Текст события</th>
<th>Расшифровка</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>Policy ignore {policy_ignore} created</em></td>
<td>Создание правила игнорирования политики</td>
</tr>
<tr>
<td><em>Policy ignore {policy_ignore} activated</em></td>
<td>Активация правила игнорирования политики</td>
</tr>
<tr>
<td><em>To Policy ignore {policy_ignore} added Policy {policy_alert.policy}</em></td>
<td>Добавлена политика в существующее правило игнорирования</td>
</tr>
<tr>
<td><em>Policy "{policy.name}" (id: {policy.pk}) skipped. Reason: {err!r}</em></td>
<td>Политика пропущена по причине ошибки</td>
</tr>
</tbody>
</table>
<h2 id="on-premise-how-to-audit-log-_5">Анализ секретов<a class="headerlink" href="#on-premise-how-to-audit-log-_5" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Текст события</th>
<th>Расшифровка</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>[Secrets][{analysis_run.analysis_object}] Analysis started</em></td>
<td>Запущен анализ секретов</td>
</tr>
<tr>
<td><em>[Secrets] Training run started</em></td>
<td>Запущено обучение пользовательской модели на основе результатов разметки</td>
</tr>
<tr>
<td><em>[Secrets][{analysis_run.analysis_object}] Analysis finished</em></td>
<td>Завершен анализ секретов</td>
</tr>
<tr>
<td><em>[Secrets] Training run finished</em></td>
<td>Завершено обучение пользовательской модели на основе результатов разметки</td>
</tr>
<tr>
<td><em>[Secrets][{analysis_run.analysis_object}] Analysis failed. Check server logs.</em></td>
<td>Ошибка анализа секретов</td>
</tr>
<tr>
<td><em>[Secrets] Training run failed. Check server logs.</em></td>
<td>Ошибка обучения пользовательской модели</td>
</tr>
</tbody>
</table>
<h2 id="on-premise-how-to-audit-log-_6">Анализ контейнерных образов<a class="headerlink" href="#on-premise-how-to-audit-log-_6" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Текст события</th>
<th>Расшифровка</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>In container image {container_image} dependency {dep_name_and_version} was changed</em></td>
<td>В контейнерном образе изменена зависимость</td>
</tr>
<tr>
<td><em>Updating images list for registry {container_registry} triggered via update button.</em></td>
<td>Запущено принудительное обновление списка образов из реестра</td>
</tr>
</tbody>
</table>
<h2 id="on-premise-how-to-audit-log-ldap">Работа с LDAP<a class="headerlink" href="#on-premise-how-to-audit-log-ldap" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Текст события</th>
<th>Расшифровка</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>Applying all LDAP group mapping rules triggered</em></td>
<td>Запуск применения всех правил сопоставления групп LDAP</td>
</tr>
<tr>
<td><em>{message} While processing, failed to apply some of rules related to following LDAP servers: {', '.join(ldap_servers_mapping_failed_for)}. Check server logs.</em></td>
<td>Ошибка применения правил сопоставления групп для указанных LDAP-серверов</td>
</tr>
</tbody>
</table>
<h2 id="on-premise-how-to-audit-log-_7">Прочее<a class="headerlink" href="#on-premise-how-to-audit-log-_7" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Текст события</th>
<th>Расшифровка</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>(Run #{task.id}) Analysis started via API</em></td>
<td>Анализ запущен через API</td>
</tr>
<tr>
<td><em>Some tasks in analysis failed</em></td>
<td>Некоторые задачи при анализе не выполнены</td>
</tr>
<tr>
<td><em>Could not connect to OSS Index, reason: {err}</em></td>
<td>Не удалось подключиться к индексу OSS из-за ошибки</td>
</tr>
<tr>
<td><em>Could not connect to OSS Index, reason: {err}</em></td>
<td>Ошибка подключения к OSS Index</td>
</tr>
<tr>
<td><em>There is already running analysis</em></td>
<td>Анализ уже запущен</td>
</tr>
<tr>
<td><em>Another analysis in progress. Parallel execution forbidden.</em></td>
<td>Запрещен параллельный запуск анализа</td>
</tr>
<tr>
<td><em>Repo path for {project} does not exist, setting status to Not cloned</em></td>
<td>Путь к репозиторию не найден, статус установлен как "Не клонирован"</td>
</tr>
<tr>
<td><em>Failed to clone for repository {project.repo_name} because project was deleted</em></td>
<td>Не удалось клонировать репозиторий, так как проект был удален</td>
</tr>
</tbody>
</table></section><section class="print-page" id="on-premise-how-to-metrics" heading-number="4.2.5.4"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-metrics.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-metrics-_1">Настройка метрик<a class="headerlink" href="#on-premise-how-to-metrics-_1" title="Permanent link">&para;</a></h1>
<p>CodeScoring хранит метрики в формате, поддерживаемом инструментом мониторинга <strong>Prometheus</strong>. На данный момент доступны метрики с платформе CodeScoring и плагинов в прокси-репозиториях.</p>
<h2 id="on-premise-how-to-metrics-c">Cбор метрик платформы<a class="headerlink" href="#on-premise-how-to-metrics-c" title="Permanent link">&para;</a></h2>
<p>Метрики платформы доступны в <strong>CodeScoring API</strong> по адресу <code>{platform-url}/api/metrics</code>. Для того, чтобы настроить отслеживание метрик в Prometheus, необходимо выполнить следующие шаги:</p>
<ol>
<li>
<p>Открыть файл конфигурации <code>prometheus.yml</code> и добавить параметры для мониторинга метрик. Ниже приведен пример:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-how-to-metrics-__codelineno-0-1"></a><span class="nt">global</span><span class="p">:</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#on-premise-how-to-metrics-__codelineno-0-2"></a><span class="w">  </span><span class="nt">scrape_interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">15s</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#on-premise-how-to-metrics-__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#on-premise-how-to-metrics-__codelineno-0-4"></a><span class="w">  </span><span class="nt">scrape_configs</span><span class="p">:</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#on-premise-how-to-metrics-__codelineno-0-5"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">job_name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;demo-codescoring&#39;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#on-premise-how-to-metrics-__codelineno-0-6"></a><span class="w">    </span><span class="nt">metrics_path</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;/api/metrics&#39;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#on-premise-how-to-metrics-__codelineno-0-7"></a><span class="w">    </span><span class="nt">static_configs</span><span class="p">:</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#on-premise-how-to-metrics-__codelineno-0-8"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">targets</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;{platform-url}&#39;</span><span class="p p-Indicator">]</span><span class="w"> </span><span class="c1"># Адрес хоста платформе</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#on-premise-how-to-metrics-__codelineno-0-9"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">job_name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;osa&#39;</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#on-premise-how-to-metrics-__codelineno-0-10"></a><span class="w">    </span><span class="nt">metrics_path</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;/api/osa/metrics&#39;</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#on-premise-how-to-metrics-__codelineno-0-11"></a><span class="w">    </span><span class="nt">static_configs</span><span class="p">:</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#on-premise-how-to-metrics-__codelineno-0-12"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">targets</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;{platform-url}&#39;</span><span class="p p-Indicator">]</span><span class="w"> </span><span class="c1"># Адрес хоста платформы</span>
</code></pre></div>
</li>
<li>
<p>Перезапустить Prometheus, чтобы изменения вступили в силу.</p>
</li>
<li>
<p>Открыть интерфейс Prometheus и перейти на страницу <strong>Graph</strong>. В поле запроса ввеcти название одной из метрик:</p>
</li>
</ol>
<h3 id="on-premise-how-to-metrics-_2">Метрики очередей<a class="headerlink" href="#on-premise-how-to-metrics-_2" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>codescoring_tasks_queue_size_total</strong> – общее количество задач, ожидающих выполнения;</li>
<li><strong>codescoring_tasks_schedule_queue_size_total</strong> – общее количество запланированных задач, ожидающих выполнения;</li>
<li><strong>codescoring_tasks_running_tasks_total</strong> – общее количество задач, выполняющихся в данный момент;</li>
<li><strong>codescoring_celery_queue_size_total</strong> – общее количество задач в Celery-очередях;</li>
<li><strong>codescoring_celery_running_tasks_total</strong> – общее количество выполняющихся задач в Celery-очередях.</li>
</ul>
<p>Данные метрики можно отфильтровать по лейблу <code>queue</code> со следующими возможными значениями:</p>
<h4 id="on-premise-how-to-metrics-_3">Основные очереди:<a class="headerlink" href="#on-premise-how-to-metrics-_3" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>ipcs</strong> - основная очередь для исполнения асинхронных задач;</li>
<li><strong>osa-container-image-scan</strong> - очередь для сканирования контейнерных образов;</li>
<li><strong>osa-package-scan</strong> - очередь для сканирования пакетов, запрошенных через модуль OSA;</li>
<li><strong>policy</strong> - очередь для расчёта политик;</li>
<li><strong>tqi</strong> - очередь для задач в рамках анализов модуля TQI;</li>
<li><strong>sca-external-scan</strong> - очередь для SCA, запущенного с помощью консольного агента Johnny;</li>
<li><strong>secrets</strong> - очередь для задач в рамках анализов модуля Secrets.</li>
</ul>
<h4 id="on-premise-how-to-metrics-celery">Очереди Celery:<a class="headerlink" href="#on-premise-how-to-metrics-celery" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>default</strong> - основная очередь для исполнения асинхронных задач;</li>
<li><strong>webhooks</strong> - очередь для работы с вебхукам;</li>
<li><strong>secrets-external-scan</strong> - очередь для анализов секретов, запущенных с помощью консольного агента Johnny;</li>
<li><strong>osa-maintenance</strong> - очередь для периодических задач модуля OSA;</li>
<li><strong>osa-background-update</strong> - очередь для фонового обновления сущностей модуля OSA;</li>
<li><strong>oss-index</strong> - очередь для загрузки данных из OSS Index, используется в случае, если интеграция инсталляции с ним включена;</li>
<li><strong>migration-background-tasks</strong> - очередь для фонового выполнения задач, связанных с перерасчётом данных после миграций схемы БД;</li>
<li><strong>media</strong> - очередь для асинхронной генерации отчётов;</li>
<li><strong>media-cleaner</strong> - очередь для периодического удаления сгенерированных отчётов;</li>
<li><strong>sca-tasks</strong> - очередь для анализов в рамках модуля SCA.</li>
</ul>
<h3 id="on-premise-how-to-metrics-_4">Метрики анализа<a class="headerlink" href="#on-premise-how-to-metrics-_4" title="Permanent link">&para;</a></h3>
<p><strong>codescoring_running_analyses_total</strong> – общее количество выполняющихся анализов.</p>
<p>Данную метрику можно отфильтровать по лейблу <code>analysis_type</code> со следующими возможными значениями:</p>
<ul>
<li><code>sca</code> – анализ зависимостей;</li>
<li><code>authors</code> – анализ авторов кода;</li>
<li><code>clones</code> – поиск клонов кода.</li>
</ul>
<h3 id="on-premise-how-to-metrics-osa">Метрики запросов от плагинов OSA<a class="headerlink" href="#on-premise-how-to-metrics-osa" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>codescoring_registration_packages_queue_size</strong> – очередь регистрации пакетов из OSA;</li>
<li><strong>codescoring_registration_container_images_queue_size</strong> – очередь регистрации контейнерных образов из OSA.</li>
</ul>
<p>Пример визуализации метрик:</p>
<p><img alt="Prometheus metrics" src="/assets/img/prometheus_metrics.png" /></p>
<h2 id="on-premise-how-to-metrics-osa_1">Сбор метрик OSA<a class="headerlink" href="#on-premise-how-to-metrics-osa_1" title="Permanent link">&para;</a></h2>
<p>Метрики OSA содержат информацию о состоянии соединений, количестве и времени запросов, а также о статусах сканирования и блокировки компонентов в менеджерах репозиториев. Метрики доступны в <strong>CodeScoring API</strong> по адресу <code>{platform-url}/api/osa/metrics</code>.</p>
<h3 id="on-premise-how-to-metrics-_5">Метрики соединений<a class="headerlink" href="#on-premise-how-to-metrics-_5" title="Permanent link">&para;</a></h3>
<p><strong>codescoring_osa_api_db_connection_pool</strong> – состояние пула соединений к базе данных.</p>
<p>Метрику можно отфильтровать по лейблу <code>measure</code> со следующими возможными значениями:</p>
<ul>
<li><code>pool_min</code> – минимальный размер пула;</li>
<li><code>pool_max</code> – максимальный размер пула;</li>
<li><code>pool_size</code> – текущий размер пула;</li>
<li><code>pool_available</code> – доступные соединения;</li>
<li><code>requests_waiting</code> – количество ожидающих запросов;</li>
<li><code>pool_used</code> – используемые соединения.</li>
</ul>
<p><strong>codescoring_osa_api_redis_connection_pool</strong> – состояние пула соединений к Redis.</p>
<p>Метрику можно отфильтровать по лейблу <code>measure</code> со следующими возможными значениями:</p>
<ul>
<li><code>available_connections</code> – доступные соединения;</li>
<li><code>in_use_connections</code> – используемые соединения;</li>
<li><code>total_connections</code> – общее количество соединений.</li>
</ul>
<h3 id="on-premise-how-to-metrics-_6">Метрики запросов компонентов<a class="headerlink" href="#on-premise-how-to-metrics-_6" title="Permanent link">&para;</a></h3>
<p><strong>codescoring_osa_api_http_request_duration_seconds</strong> – продолжительность HTTP-запросов в секундах.</p>
<p>Метрика представлена в виде гистограммы и включает:</p>
<ul>
<li><code>codescoring_osa_api_http_request_duration_seconds_sum</code> – общее время запросов;</li>
<li><code>codescoring_osa_api_http_request_duration_seconds_bucket</code> – распределение времени запросов по временным интервалам;</li>
<li><code>codescoring_osa_api_http_request_duration_seconds_count</code> – общее количество запросов.</li>
</ul>
<p>Метрику можно отфильтровать по лейблам:</p>
<ul>
<li><code>handler</code> – обработчик запроса (например, <code>/api/osa/packages/</code>);</li>
<li><code>method</code> – метод запроса (например, <code>POST</code>);</li>
<li><code>status</code> – HTTP-статус ответа (например, <code>2xx</code>, <code>4xx</code>, <code>5xx</code>).</li>
</ul>
<p>Пример:
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#on-premise-how-to-metrics-__codelineno-1-1"></a>codescoring_osa_api_http_request_duration_seconds_bucket{handler=&quot;/api/osa/packages/&quot;,le=&quot;0.01&quot;,method=&quot;POST&quot;,status=&quot;2xx&quot;} 0.0
</code></pre></div></p>
<p><strong>codescoring_osa_api_http_requests_total</strong> – общее количество HTTP-запросов.</p>
<p>Метрику можно отфильтровать по тем же лейблам, что и <code>codescoring_osa_api_http_request_duration_seconds</code>.</p>
<h3 id="on-premise-how-to-metrics-_7">Метрики статусов компонентов<a class="headerlink" href="#on-premise-how-to-metrics-_7" title="Permanent link">&para;</a></h3>
<p><strong>codescoring_osa_api_requested_component_block_status_total</strong> – количество компонентов в различных статусах блокировки.</p>
<p>Метрику можно отфильтровать по лейблам:</p>
<ul>
<li><code>block_status</code> – статус блокировки (например, <code>not_blocked</code>, <code>blocked_by_policies</code>, <code>blocked_scan_failed</code>);</li>
<li><code>object_type</code> – тип объекта (например, <code>package</code>, <code>container_image</code>).</li>
</ul>
<p>Пример:
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#on-premise-how-to-metrics-__codelineno-2-1"></a>codescoring_osa_api_requested_component_block_status_total{block_status=&quot;blocked_by_policies&quot;,object_type=&quot;package&quot;} 1.0
</code></pre></div></p>
<p><strong>codescoring_osa_api_requested_component_scan_status_total</strong> – количество компонентов в различных статусах сканирования.</p>
<p>Метрику можно отфильтровать по лейблам:</p>
<ul>
<li><code>scan_status</code> – статус сканирования (например, <code>not_scanned</code>, <code>scanned</code>);</li>
<li><code>object_type</code> – тип объекта (например, <code>package</code>, <code>container_image</code>).</li>
</ul>
<p>Пример:
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#on-premise-how-to-metrics-__codelineno-3-1"></a>codescoring_osa_api_requested_component_scan_status_total{object_type=&quot;container_image&quot;,scan_status=&quot;not_scanned&quot;} 0.0
</code></pre></div></p>
<h3 id="on-premise-how-to-metrics-index-api">Метрики соединения с Index API<a class="headerlink" href="#on-premise-how-to-metrics-index-api" title="Permanent link">&para;</a></h3>
<p><strong>index_api_failure_rate</strong> - количество неуспешных запросов к Index API подряд.</p></section><section class="print-page" id="on-premise-how-to-webhooks" heading-number="4.2.5.5"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-webhooks.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-webhooks-_1">Подключение вебхуков<a class="headerlink" href="#on-premise-how-to-webhooks-_1" title="Permanent link">&para;</a></h1>
<p>Codescoring поддерживает систему оповещений на базе вебхуков. При возникновении событий отправляется <code>POST</code> HTTP-запрос на указанный URL.</p>
<h2 id="on-premise-how-to-webhooks-_2">Добавление нового вебхука<a class="headerlink" href="#on-premise-how-to-webhooks-_2" title="Permanent link">&para;</a></h2>
<p>Для добавления нового вебхука на платформе необходимо выполнить следующие действия:</p>
<ol>
<li>Перейти в раздел <code>Настройки -&gt; Вебхуки</code>.</li>
<li>Нажать на кнопку <strong>Добавить</strong>.</li>
<li>
<p>Заполнить поля в форме:</p>
<ul>
<li><strong>Название</strong> – название в системе CodeScoring;</li>
<li><strong>URL</strong> – адрес с указанием протокола. Например: <code>http://webhook.com/</code>;</li>
<li><strong>Проекты</strong> - список проектов, для которых будут применяться вебхуки. Если поле пустое, будут учитываться все проекты;</li>
<li><strong>События</strong> – список событий, на которые сработает оповещение;</li>
<li><strong>Токен</strong> – токен, который передается в HTTP-запросе (заголовок <code>X-CodeScoring-Authentication</code>);</li>
</ul>
</li>
<li>
<p>Проверить подключение после заполнения данных по кнопке <strong>Проверить подключение</strong>. При тестировании используется триггер <code>test</code> с пустым payload.</p>
</li>
</ol>
<p>После создания нового подключения по кнопке <strong>Добавить</strong> вебхук отобразится в списке раздела с возможностью посмотреть детальную информацию, отредактировать или удалить его.</p>
<h2 id="on-premise-how-to-webhooks-_3">Структура тела запроса<a class="headerlink" href="#on-premise-how-to-webhooks-_3" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-how-to-webhooks-__codelineno-0-1"></a><span class="p">{</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#on-premise-how-to-webhooks-__codelineno-0-2"></a><span class="w">  </span><span class="nt">&quot;events&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#on-premise-how-to-webhooks-__codelineno-0-3"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#on-premise-how-to-webhooks-__codelineno-0-4"></a><span class="w">      </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;datetime_in_iso_format&quot;</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#on-premise-how-to-webhooks-__codelineno-0-5"></a><span class="w">      </span><span class="nt">&quot;trigger&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;trigger_name&quot;</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#on-premise-how-to-webhooks-__codelineno-0-6"></a><span class="w">      </span><span class="nt">&quot;payload&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#on-premise-how-to-webhooks-__codelineno-0-7"></a><span class="w">        </span><span class="err">...</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#on-premise-how-to-webhooks-__codelineno-0-8"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#on-premise-how-to-webhooks-__codelineno-0-9"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#on-premise-how-to-webhooks-__codelineno-0-10"></a><span class="w">    </span><span class="err">...</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#on-premise-how-to-webhooks-__codelineno-0-11"></a><span class="w">  </span><span class="p">]</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#on-premise-how-to-webhooks-__codelineno-0-12"></a><span class="p">}</span>
</code></pre></div>
<h2 id="on-premise-how-to-webhooks-_4">Механизм отправления запросов<a class="headerlink" href="#on-premise-how-to-webhooks-_4" title="Permanent link">&para;</a></h2>
<p>Запросы обрабатываются каждые 5 секунд, согласно периодической задаче, выполняемой системой.</p>
<p>Вебхук обычно отправляет одно событие за запрос. Однако в следующих случаях может быть отправлен массив событий:</p>
<ul>
<li><strong>Отправка накопленных событий:</strong> если за единицу времени (по умолчанию – 5 секунд) произошло несколько событий, они будут отправлены одним запросом;</li>
<li><strong>Ретраи (повторные попытки):</strong> если сервер не ответил или вернул ошибку на предыдущую попытку, все неуспешные события отправляются повторно единым запросом.</li>
</ul>
<p>Коды HTTP в диапазоне [200; 299] считаются успешными. Если ответ сервера не входит в этот диапазон, событие считается неуспешным, накапливается и отправляется повторно по следующему расписанию: 1 минута → 5 минут → 30 минут → 3 часа → 12 часов → 24 часа → 48 часов.
Если хотя бы один запрос остается безуспешным через 48 часов, вебхук отключается, и события больше не отправляются.</p>
<h2 id="on-premise-how-to-webhooks-api">Управление вебхуками через API<a class="headerlink" href="#on-premise-how-to-webhooks-api" title="Permanent link">&para;</a></h2>
<p>Для управления вебхуками предоставляется API по эндпоинту <code>/api/settings/webhooks</code> со следующими командами:</p>
<ul>
<li><code>GET /api/settings/webhooks/</code> — получить список всех вебхуков;</li>
<li><code>POST /api/settings/webhooks/</code> — создать новый вебхук;</li>
<li><code>GET /api/settings/webhooks/{id}/</code> — получить информацию по ID;</li>
<li><code>PUT /api/settings/webhooks/{id}/</code> — полностью обновить данные;</li>
<li><code>PATCH /api/settings/webhooks/{id}/</code> — частично обновить данные;</li>
<li><code>DELETE /api/settings/webhooks/{id}/</code> — удалить вебхук по ID;</li>
<li><code>POST /api/settings/webhooks/{id}/refresh_availability_status/</code> — обновить статус доступности;</li>
<li><code>POST /api/settings/webhooks/test/</code> — протестировать подключение;</li>
<li><code>GET /api/settings/webhooks/triggers/</code> — получить список доступных триггеров.</li>
</ul>
<h2 id="on-premise-how-to-webhooks-_5">Доступные события<a class="headerlink" href="#on-premise-how-to-webhooks-_5" title="Permanent link">&para;</a></h2>
<table>
  <thead>
    <tr>
      <th>Название события</th>
      <th>Описание события</th>
      <th>Значение trigger в запросе</th>
      <th>Схема payload в запросе</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>SCA Policy has been triggered</td>
      <td>Сработала политика при SCA-анализе</td>
      <td>sca_policy_has_been_triggered</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#on-premise-how-to-webhooks-__codelineno-1-1"></a>&quot;alert_id&quot;: 0,
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#on-premise-how-to-webhooks-__codelineno-1-2"></a>&quot;stage&quot;: &quot;dev|source|build|stage|test|prod|proxy&quot;,
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#on-premise-how-to-webhooks-__codelineno-1-3"></a>&quot;level&quot;: &quot;info|warning|critical&quot;,
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#on-premise-how-to-webhooks-__codelineno-1-4"></a>&quot;policy_id&quot;: 0,
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#on-premise-how-to-webhooks-__codelineno-1-5"></a>&quot;policy_name&quot;: 0,
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#on-premise-how-to-webhooks-__codelineno-1-6"></a>&quot;dependency_id&quot;: 0,
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#on-premise-how-to-webhooks-__codelineno-1-7"></a>&quot;dependency_purl&quot;: &quot;purl&quot;,
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#on-premise-how-to-webhooks-__codelineno-1-8"></a>&quot;matched_criteria&quot;: [&quot;matched_criteria&quot;, ...],
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#on-premise-how-to-webhooks-__codelineno-1-9"></a>&quot;project_id&quot;: 0
</code></pre></div>
</pre>
      </td>
    </tr>
    <tr>
      <td>OSA Policy has been triggered</td>
      <td>Сработала политика при OSA-анализе</td>
      <td>osa_policy_has_been_triggered</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#on-premise-how-to-webhooks-__codelineno-2-1"></a>&quot;alert_id&quot;: 0,
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#on-premise-how-to-webhooks-__codelineno-2-2"></a>&quot;stage&quot;: &quot;dev|source|build|stage|test|prod|proxy&quot;,
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#on-premise-how-to-webhooks-__codelineno-2-3"></a>&quot;level&quot;: &quot;info|warning|critical&quot;,
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#on-premise-how-to-webhooks-__codelineno-2-4"></a>&quot;policy_id&quot;: 0,
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#on-premise-how-to-webhooks-__codelineno-2-5"></a>&quot;policy_name&quot;: 0,
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#on-premise-how-to-webhooks-__codelineno-2-6"></a>&quot;dependency_id&quot;: 0,
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#on-premise-how-to-webhooks-__codelineno-2-7"></a>&quot;dependency_purl&quot;: &quot;purl&quot;,
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#on-premise-how-to-webhooks-__codelineno-2-8"></a>&quot;matched_criteria&quot;: [&quot;matched_criteria&quot;, ...],
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#on-premise-how-to-webhooks-__codelineno-2-9"></a>&quot;container_image_id&quot;: 0,
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#on-premise-how-to-webhooks-__codelineno-2-10"></a>&quot;artifact_repository_id&quot;: 0
</code></pre></div>
</pre>
      </td>
    </tr>
    <tr>
      <td>Project SCA analysis started</td>
      <td>SCA-анализ проекта был запущен</td>
      <td>project_sca_analysis_started</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#on-premise-how-to-webhooks-__codelineno-3-1"></a>&quot;project_id&quot;: 0,
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#on-premise-how-to-webhooks-__codelineno-3-2"></a>&quot;project_name&quot;: &quot;project_name&quot;
</code></pre></div>
</pre>
      </td>
    </tr>
    <tr>
      <td>Project SCA analysis finished</td>
      <td>SCA-анализ проекта был завершён</td>
      <td>project_sca_analysis_finished</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#on-premise-how-to-webhooks-__codelineno-4-1"></a>&quot;project_id&quot;: 0,
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#on-premise-how-to-webhooks-__codelineno-4-2"></a>&quot;project_name&quot;: &quot;project_name&quot;,
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#on-premise-how-to-webhooks-__codelineno-4-3"></a>&quot;vulnerabilities_count&quot;: 0,
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#on-premise-how-to-webhooks-__codelineno-4-4"></a>&quot;dependencies_count&quot;: 0
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Project SCA analysis cancelled</td>
      <td>SCA-анализ проекта был отменён</td>
      <td>project_sca_analysis_cancelled</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#on-premise-how-to-webhooks-__codelineno-5-1"></a>&quot;project_id&quot;: 0,
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#on-premise-how-to-webhooks-__codelineno-5-2"></a>&quot;project_name&quot;: &quot;project_name&quot;
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Project SCA analysis failed</td>
      <td>SCA-анализ проекта был завершён с ошибкой</td>
      <td>project_sca_analysis_failed</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#on-premise-how-to-webhooks-__codelineno-6-1"></a>&quot;project_id&quot;: 0,
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#on-premise-how-to-webhooks-__codelineno-6-2"></a>&quot;project_name&quot;: &quot;project_name&quot;,
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#on-premise-how-to-webhooks-__codelineno-6-3"></a>&quot;error&quot;: &quot;error_description&quot;
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Container Image SCA analysis started</td>
      <td>SCA-анализ контейнерного образа был запущен</td>
      <td>container_image_sca_analysis_started</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#on-premise-how-to-webhooks-__codelineno-7-1"></a>&quot;container_image_id&quot;: 0,
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#on-premise-how-to-webhooks-__codelineno-7-2"></a>&quot;container_image_name&quot;: &quot;container_image_name&quot;
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Container Image SCA analysis finished</td>
      <td>SCA-анализ контейнерного образа был завершён</td>
      <td>container_image_sca_analysis_finished</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#on-premise-how-to-webhooks-__codelineno-8-1"></a>&quot;container_image_id&quot;: 0,
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#on-premise-how-to-webhooks-__codelineno-8-2"></a>&quot;container_image_name&quot;: &quot;container_image_name&quot;,
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#on-premise-how-to-webhooks-__codelineno-8-3"></a>&quot;vulnerabilities_count&quot;: 0,
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#on-premise-how-to-webhooks-__codelineno-8-4"></a>&quot;dependencies_count&quot;: 0
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Container Image SCA analysis cancelled</td>
      <td>SCA-анализ контейнерного образа был отменён</td>
      <td>container_image_sca_analysis_cancelled</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#on-premise-how-to-webhooks-__codelineno-9-1"></a>&quot;container_image_id&quot;: 0,
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#on-premise-how-to-webhooks-__codelineno-9-2"></a>&quot;container_image_name&quot;: &quot;container_image_name&quot;
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Container Image SCA analysis failed</td>
      <td>SCA-анализ контейнерного образа был завершён с ошибкой</td>
      <td>container_image_sca_analysis_failed</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#on-premise-how-to-webhooks-__codelineno-10-1"></a>&quot;container_image_id&quot;: 0,
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#on-premise-how-to-webhooks-__codelineno-10-2"></a>&quot;container_image_name&quot;: &quot;container_image_name&quot;,
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#on-premise-how-to-webhooks-__codelineno-10-3"></a>&quot;error&quot;: &quot;error_description&quot;
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Clone analysis started</td>
      <td>Анализ дубликатов проекта был запущен</td>
      <td>clones_analysis_started</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#on-premise-how-to-webhooks-__codelineno-11-1"></a>&quot;project_id&quot;: 0,
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#on-premise-how-to-webhooks-__codelineno-11-2"></a>&quot;project_name&quot;: &quot;project_name&quot;
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Clone analysis finished</td>
      <td>Анализ дубликатов проекта был завершён</td>
      <td>clones_analysis_finished</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#on-premise-how-to-webhooks-__codelineno-12-1"></a>&quot;project_id&quot;: 0,
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#on-premise-how-to-webhooks-__codelineno-12-2"></a>&quot;project_name&quot;: &quot;project_name&quot;
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Clone analysis cancelled</td>
      <td>Анализ дубликатов проекта был отменён</td>
      <td>clones_analysis_cancelled</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#on-premise-how-to-webhooks-__codelineno-13-1"></a>&quot;project_id&quot;: 0,
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#on-premise-how-to-webhooks-__codelineno-13-2"></a>&quot;project_name&quot;: &quot;project_name&quot;
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Clone analysis failed</td>
      <td>Анализ дубликатов проекта был завершён с ошибкой</td>
      <td>clones_analysis_failed</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#on-premise-how-to-webhooks-__codelineno-14-1"></a>&quot;project_id&quot;: 0,
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#on-premise-how-to-webhooks-__codelineno-14-2"></a>&quot;project_name&quot;: &quot;project_name&quot;,
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#on-premise-how-to-webhooks-__codelineno-14-3"></a>&quot;error&quot;: &quot;error_description&quot;
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Authors analysis started</td>
      <td>Анализ авторов проекта был запущен</td>
      <td>authors_analysis_started</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#on-premise-how-to-webhooks-__codelineno-15-1"></a>&quot;project_id&quot;: 0,
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#on-premise-how-to-webhooks-__codelineno-15-2"></a>&quot;project_name&quot;: &quot;project_name&quot;
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Authors analysis finished</td>
      <td>Анализ авторов проекта был завершён</td>
      <td>authors_analysis_finished</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#on-premise-how-to-webhooks-__codelineno-16-1"></a>&quot;project_id&quot;: 0,
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#on-premise-how-to-webhooks-__codelineno-16-2"></a>&quot;project_name&quot;: &quot;project_name&quot;
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Authors analysis failed</td>
      <td>Анализ авторов проекта был завершён с ошибкой</td>
      <td>authors_analysis_failed</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#on-premise-how-to-webhooks-__codelineno-17-1"></a>&quot;project_id&quot;: 0,
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#on-premise-how-to-webhooks-__codelineno-17-2"></a>&quot;project_name&quot;: &quot;project_name&quot;,
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#on-premise-how-to-webhooks-__codelineno-17-3"></a>&quot;error&quot;: &quot;error_description&quot;
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Authors analysis cancelled</td>
      <td>Анализ авторов проекта был отменён</td>
      <td>authors_analysis_cancelled</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#on-premise-how-to-webhooks-__codelineno-18-1"></a>&quot;project_id&quot;: 0,
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#on-premise-how-to-webhooks-__codelineno-18-2"></a>&quot;project_name&quot;: &quot;project_name&quot;
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Cloning of repository started</td>
      <td>Клонирование репозитория было запущено</td>
      <td>cloning_of_repository_started</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#on-premise-how-to-webhooks-__codelineno-19-1"></a>&quot;project_id&quot;: 0,
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#on-premise-how-to-webhooks-__codelineno-19-2"></a>&quot;project_name&quot;: &quot;project_name&quot;,
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#on-premise-how-to-webhooks-__codelineno-19-3"></a>&quot;repo_url&quot;: &quot;repo_url&quot;,
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#on-premise-how-to-webhooks-__codelineno-19-4"></a>&quot;repo_ref_name&quot;: &quot;repo_ref_name&quot;
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Cloning of repository finished</td>
      <td>Клонирование репозитория было завершено</td>
      <td>cloning_of_repository_finished</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#on-premise-how-to-webhooks-__codelineno-20-1"></a>&quot;project_id&quot;: 0,
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#on-premise-how-to-webhooks-__codelineno-20-2"></a>&quot;project_name&quot;: &quot;project_name&quot;,
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#on-premise-how-to-webhooks-__codelineno-20-3"></a>&quot;repo_url&quot;: &quot;repo_url&quot;,
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#on-premise-how-to-webhooks-__codelineno-20-4"></a>&quot;repo_ref_name&quot;: &quot;repo_ref_name&quot;
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Cloning of repository failed</td>
      <td>Клонирование репозитория было завершено с ошибкой</td>
      <td>cloning_of_repository_failed</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#on-premise-how-to-webhooks-__codelineno-21-1"></a>&quot;project_id&quot;: 0,
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#on-premise-how-to-webhooks-__codelineno-21-2"></a>&quot;project_name&quot;: &quot;project_name&quot;,
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#on-premise-how-to-webhooks-__codelineno-21-3"></a>&quot;repo_url&quot;: &quot;repo_url&quot;,
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#on-premise-how-to-webhooks-__codelineno-21-4"></a>&quot;repo_ref_name&quot;: &quot;repo_ref_name&quot;,
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#on-premise-how-to-webhooks-__codelineno-21-5"></a>&quot;error&quot;: &quot;error_description&quot;
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Project Secrets analysis started</td>
      <td>Начался анализ секретов проекта</td>
      <td>project_secrets_analysis_started</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#on-premise-how-to-webhooks-__codelineno-22-1"></a>&quot;project_id&quot;: 0,
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#on-premise-how-to-webhooks-__codelineno-22-2"></a>&quot;project_name&quot;: &quot;project_name&quot;
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Project Secrets analysis finished</td>
      <td>Завершился анализ секретов проекта</td>
      <td>project_secrets_analysis_finished</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#on-premise-how-to-webhooks-__codelineno-23-1"></a>&quot;project_id&quot;: 0,
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#on-premise-how-to-webhooks-__codelineno-23-2"></a>&quot;project_name&quot;: &quot;project_name&quot;
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Project Secrets analysis cancelled</td>
      <td>Анализ секретов проекта был отменен</td>
      <td>project_secrets_analysis_cancelled</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#on-premise-how-to-webhooks-__codelineno-24-1"></a>&quot;project_id&quot;: 0,
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#on-premise-how-to-webhooks-__codelineno-24-2"></a>&quot;project_name&quot;: &quot;project_name&quot;
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Project Secrets analysis failed</td>
      <td>Анализ секретов проекта был завершен с ошибкой</td>
      <td>project_secrets_analysis_failed</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#on-premise-how-to-webhooks-__codelineno-25-1"></a>&quot;project_id&quot;: 0,
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#on-premise-how-to-webhooks-__codelineno-25-2"></a>&quot;project_name&quot;: &quot;project_name&quot;
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Secrets ML model user training run started</td>
      <td>Началось обучение ML модели для модуля Секретов</td>
      <td>ml_model_user_secrets_training_run_started</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#on-premise-how-to-webhooks-__codelineno-26-1"></a>Пустой payload
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Secrets ML model user training run finished</td>
      <td>Обучение ML модели для модуля Секретов завершено</td>
      <td>ml_model_user_secrets_training_run_finished</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#on-premise-how-to-webhooks-__codelineno-27-1"></a>Пустой payload
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Secrets ML model user training run cancelled</td>
      <td>Обучение ML модели для модуля Секретов отменено</td>
      <td>ml_model_user_secrets_training_run_cancelled</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#on-premise-how-to-webhooks-__codelineno-28-1"></a>Пустой payload
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Secrets ML model user training run failed</td>
      <td>Обучение ML модели для модуля Секретов завершено с ошибкой</td>
      <td>ml_model_user_secrets_training_run_failed</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#on-premise-how-to-webhooks-__codelineno-29-1"></a>Пустой payload
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Secrets ML model user accepted</td>
      <td>ML модель для модуля Секретов принята</td>
      <td>ml_model_user_secrets_accepted</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#on-premise-how-to-webhooks-__codelineno-30-1"></a>Пустой payload
</code></pre></div>
 </pre>
      </td>
    </tr>
    <tr>
      <td>Secrets ML model user purged</td>
      <td>ML модель для модуля Секретов очищена</td>
      <td>ml_model_user_secrets_purged</td>
      <td>
        <pre>
  <div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#on-premise-how-to-webhooks-__codelineno-31-1"></a>Пустой payload
</code></pre></div>
 </pre>
      </td>
    </tr>
  </tbody>
</table>

<h2 id="on-premise-how-to-webhooks-flask">Пример простого приложения на Flask<a class="headerlink" href="#on-premise-how-to-webhooks-flask" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#on-premise-how-to-webhooks-__codelineno-32-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#on-premise-how-to-webhooks-__codelineno-32-2"></a>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#on-premise-how-to-webhooks-__codelineno-32-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">flask</span><span class="w"> </span><span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">request</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#on-premise-how-to-webhooks-__codelineno-32-4"></a>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#on-premise-how-to-webhooks-__codelineno-32-5"></a>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#on-premise-how-to-webhooks-__codelineno-32-6"></a><span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#on-premise-how-to-webhooks-__codelineno-32-7"></a>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#on-premise-how-to-webhooks-__codelineno-32-8"></a><span class="n">events</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#on-premise-how-to-webhooks-__codelineno-32-9"></a>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#on-premise-how-to-webhooks-__codelineno-32-10"></a>
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#on-premise-how-to-webhooks-__codelineno-32-11"></a><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#on-premise-how-to-webhooks-__codelineno-32-12"></a><span class="k">def</span><span class="w"> </span><span class="nf">show_events</span><span class="p">():</span>
<a id="__codelineno-32-13" name="__codelineno-32-13" href="#on-premise-how-to-webhooks-__codelineno-32-13"></a>    <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;&lt;pre&gt;</span><span class="si">{</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">events</span><span class="p">,</span><span class="w"> </span><span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s1">&lt;/pre&gt;&#39;</span>
<a id="__codelineno-32-14" name="__codelineno-32-14" href="#on-premise-how-to-webhooks-__codelineno-32-14"></a>
<a id="__codelineno-32-15" name="__codelineno-32-15" href="#on-premise-how-to-webhooks-__codelineno-32-15"></a>
<a id="__codelineno-32-16" name="__codelineno-32-16" href="#on-premise-how-to-webhooks-__codelineno-32-16"></a><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<a id="__codelineno-32-17" name="__codelineno-32-17" href="#on-premise-how-to-webhooks-__codelineno-32-17"></a><span class="k">def</span><span class="w"> </span><span class="nf">handle_events</span><span class="p">():</span>
<a id="__codelineno-32-18" name="__codelineno-32-18" href="#on-premise-how-to-webhooks-__codelineno-32-18"></a>    <span class="n">received_events</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;events&#39;</span><span class="p">,</span> <span class="p">[])</span>
<a id="__codelineno-32-19" name="__codelineno-32-19" href="#on-premise-how-to-webhooks-__codelineno-32-19"></a>    <span class="n">events</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">received_events</span><span class="p">)</span>
<a id="__codelineno-32-20" name="__codelineno-32-20" href="#on-premise-how-to-webhooks-__codelineno-32-20"></a>    <span class="k">return</span> <span class="s1">&#39;OK&#39;</span>
</code></pre></div></section><section class="print-page" id="on-premise-how-to-api" heading-number="4.2.5.6"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#on-premise-how-to-api.en">English</a></li>
</ul>
<h1 id="on-premise-how-to-api-api">Работа с API<a class="headerlink" href="#on-premise-how-to-api-api" title="Permanent link">&para;</a></h1>
<p>CodeScoring имеет открытый API, который позволяет программно взаимодействовать с системой. Для описания команд API используется инструмент Swagger, доступный по ссылке <strong>[platform-url]/api/swagger</strong>.</p>
<h2 id="on-premise-how-to-api-_1">Начало работы<a class="headerlink" href="#on-premise-how-to-api-_1" title="Permanent link">&para;</a></h2>
<p>Чтобы начать работу с CodeScoring API, необходим токен для аутентификации запросов. Получить токен можно в разделе <code>Профиль</code> по нажатию кнопки <strong>Сгенерировать</strong> в поле <code>API токен</code>.</p>
<p>Для аутентификации запросов вне Swagger необходимо прописать токен в header следующим образом:</p>
<p><code>Authorization: Token &lt;YOUR_TOKEN&gt;</code></p>
<h2 id="on-premise-how-to-api-api_1">Структура API<a class="headerlink" href="#on-premise-how-to-api-api_1" title="Permanent link">&para;</a></h2>
<p>Открытый API предоставляет ряд эндпоинтов, которые позволяют выполнять основные операции в системе. Эндпоинты объединены в разделы, соответствующие объектам в системе CodeScoring — зависимостям, лицензиям, уязвимостям, авторам и т.д.</p>
<h2 id="on-premise-how-to-api-_2">Пагинация<a class="headerlink" href="#on-premise-how-to-api-_2" title="Permanent link">&para;</a></h2>
<p>Для постраничного вывода результатов используется параметр <code>page</code> для указания номера страницы и параметр <code>per_page</code> для указания количества элементов на странице.</p>
<p>Значение параметра <code>per_page</code> регулируется переменной окружения <code>CODESCORING_API_MAX_PAGE_SIZE</code>, по умолчанию равно 100.</p>
<div class="admonition warning">
<p class="admonition-title">Рекомендация по значению переменной CODESCORING_API_MAX_PAGE_SIZE</p>
<p>Установка значения выше 100 может ухудшить производительность системы.</p>
</div>
<p>Некоторые эндпоинты работают <strong>только</strong> в режиме постраничного вывода, подробности можно получить на странице документации API <strong>[platform-url]/api/swagger</strong>.</p>
<h2 id="on-premise-how-to-api-_3">Примеры использования<a class="headerlink" href="#on-premise-how-to-api-_3" title="Permanent link">&para;</a></h2>
<ul>
<li>Запустить анализ всех проектов:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#on-premise-how-to-api-__codelineno-0-1"></a>curl<span class="w"> </span>-X<span class="w"> </span><span class="s1">&#39;POST&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#on-premise-how-to-api-__codelineno-0-2"></a><span class="w">  </span><span class="s1">&#39;[platform_url]/api/analyses/overall_sca/start/&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#on-premise-how-to-api-__codelineno-0-3"></a><span class="w">  </span>-H<span class="w"> </span><span class="s1">&#39;accept: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#on-premise-how-to-api-__codelineno-0-4"></a><span class="w">  </span>-H<span class="w"> </span><span class="s1">&#39;Authorization: token &lt;YOUR_TOKEN&gt;&#39;</span>
</code></pre></div>
<ul>
<li>Добавить политику:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#on-premise-how-to-api-__codelineno-1-1"></a>curl<span class="w"> </span>-X<span class="w"> </span><span class="s1">&#39;POST&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#on-premise-how-to-api-__codelineno-1-2"></a><span class="w">  </span><span class="s1">&#39;[platform_url]/api/policies/&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#on-premise-how-to-api-__codelineno-1-3"></a><span class="w">  </span>-H<span class="w"> </span><span class="s1">&#39;accept: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#on-premise-how-to-api-__codelineno-1-4"></a><span class="w">  </span>-H<span class="w"> </span><span class="s1">&#39;Authorization: token &lt;YOUR_TOKEN&gt;&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#on-premise-how-to-api-__codelineno-1-5"></a><span class="w">  </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#on-premise-how-to-api-__codelineno-1-6"></a><span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#on-premise-how-to-api-__codelineno-1-7"></a><span class="s1">  &quot;name&quot;: &quot;string&quot;,</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#on-premise-how-to-api-__codelineno-1-8"></a><span class="s1">  &quot;stages&quot;: [</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#on-premise-how-to-api-__codelineno-1-9"></a><span class="s1">    &quot;dev&quot;</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#on-premise-how-to-api-__codelineno-1-10"></a><span class="s1">  ],</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#on-premise-how-to-api-__codelineno-1-11"></a><span class="s1">  &quot;level&quot;: &quot;info&quot;,</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#on-premise-how-to-api-__codelineno-1-12"></a><span class="s1">  &quot;proprietors&quot;: [</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#on-premise-how-to-api-__codelineno-1-13"></a><span class="s1">    0</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#on-premise-how-to-api-__codelineno-1-14"></a><span class="s1">  ],</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#on-premise-how-to-api-__codelineno-1-15"></a><span class="s1">  &quot;projects&quot;: [</span>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#on-premise-how-to-api-__codelineno-1-16"></a><span class="s1">    0</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#on-premise-how-to-api-__codelineno-1-17"></a><span class="s1">  ],</span>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#on-premise-how-to-api-__codelineno-1-18"></a><span class="s1">  &quot;conditions&quot;: {</span>
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#on-premise-how-to-api-__codelineno-1-19"></a><span class="s1">    &quot;additionalProp1&quot;: &quot;string&quot;,</span>
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#on-premise-how-to-api-__codelineno-1-20"></a><span class="s1">    &quot;additionalProp2&quot;: &quot;string&quot;,</span>
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#on-premise-how-to-api-__codelineno-1-21"></a><span class="s1">    &quot;additionalProp3&quot;: &quot;string&quot;</span>
<a id="__codelineno-1-22" name="__codelineno-1-22" href="#on-premise-how-to-api-__codelineno-1-22"></a><span class="s1">  },</span>
<a id="__codelineno-1-23" name="__codelineno-1-23" href="#on-premise-how-to-api-__codelineno-1-23"></a><span class="s1">  &quot;conditions_connector&quot;: &quot;and&quot;,</span>
<a id="__codelineno-1-24" name="__codelineno-1-24" href="#on-premise-how-to-api-__codelineno-1-24"></a><span class="s1">  &quot;is_active&quot;: true,</span>
<a id="__codelineno-1-25" name="__codelineno-1-25" href="#on-premise-how-to-api-__codelineno-1-25"></a><span class="s1">  &quot;is_blocks_build&quot;: true,</span>
<a id="__codelineno-1-26" name="__codelineno-1-26" href="#on-premise-how-to-api-__codelineno-1-26"></a><span class="s1">  &quot;description&quot;: &quot;string&quot;</span>
<a id="__codelineno-1-27" name="__codelineno-1-27" href="#on-premise-how-to-api-__codelineno-1-27"></a><span class="s1">}&#39;</span>
</code></pre></div>
<ul>
<li>Получить информацию об отдельном проекте:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#on-premise-how-to-api-__codelineno-2-1"></a>curl<span class="w"> </span>-X<span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#on-premise-how-to-api-__codelineno-2-2"></a><span class="w">  </span><span class="s1">&#39;[platform_url]/api/projects/340/&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#on-premise-how-to-api-__codelineno-2-3"></a><span class="w">  </span>-H<span class="w"> </span><span class="s1">&#39;accept: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#on-premise-how-to-api-__codelineno-2-4"></a><span class="w">  </span>-H<span class="w"> </span><span class="s1">&#39;Authorization: token &lt;YOUR_TOKEN&gt;&#39;</span>
</code></pre></div>
<ul>
<li>Получить список доступных лицензий:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#on-premise-how-to-api-__codelineno-3-1"></a>curl<span class="w"> </span>-X<span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#on-premise-how-to-api-__codelineno-3-2"></a><span class="w">  </span><span class="s1">&#39;[platform_url]/api/licenses/&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#on-premise-how-to-api-__codelineno-3-3"></a><span class="w">  </span>-H<span class="w"> </span><span class="s1">&#39;accept: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#on-premise-how-to-api-__codelineno-3-4"></a><span class="w">  </span>-H<span class="w"> </span><span class="s1">&#39;Authorization: token &lt;YOUR_TOKEN&gt;&#39;</span>
</code></pre></div>
<p><strong>Важно!</strong>: команды создания и изменения основных сущностей в системе, таких как проекты, находятся в разделах с приставкой <strong>settings &gt;</strong>.</p></section></section>
                    <section class='print-page md-section' id='section-4-2-6' heading-number='4.2.6'>
                        <h1>Потоки данных<a class='headerlink' href='#section-4-2-6' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="feeds" heading-number="4.2.6.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#feeds-index.en">English</a></li>
</ul>
<h1 id="feeds-_1">Потоки данных<a class="headerlink" href="#feeds-_1" title="Permanent link">&para;</a></h1>
<p>Для эффективного поиска угроз в open source компонентах CodeScoring интегрирует данные из более <strong>20</strong> источников знаний (фидов). Записи из всех источников дедуплицируются и объединяются под универсальными идентификаторами в системе.</p>
<p>Источники знаний об угрозах дополняют единую базу данных <strong>CodeScoring Index</strong> с информацией об опубликованных компонентах, включая собственный <a href="#feeds-protestware">фид protestware</a>.</p>
<p>Данный раздел содержит детальное описание отдельных фидов и процесса работы с ними.</p>
<p>Ниже приведена таблица с источниками данных и частотой их обновления.</p>
<table>
<thead>
<tr>
<th>Источник</th>
<th>Ссылка</th>
<th>Частота обновления</th>
</tr>
</thead>
<tbody>
<tr>
<td>CodeScoring Protestware Feed</td>
<td>-</td>
<td>раз в сутки</td>
</tr>
<tr>
<td>Банк данных угроз безопасности информации ФСТЭК России</td>
<td><a href="https://bdu.fstec.ru/">https://bdu.fstec.ru/</a></td>
<td>каждые 30 минут</td>
</tr>
<tr>
<td>Kaspersky Open Source Software Data Feed</td>
<td><a href="https://www.kaspersky.ru/open-source-feed">https://www.kaspersky.ru/open-source-feed</a></td>
<td>каждые 30 минут</td>
</tr>
<tr>
<td>Astra Linux Security Advisories</td>
<td><a href="https://astra.ru">https://astra.ru</a></td>
<td>каждые 4 часа</td>
</tr>
<tr>
<td>ALT Linux Security Tracker CVE</td>
<td><a href="https://packages.altlinux.org">https://packages.altlinux.org</a></td>
<td>каждые 4 часа</td>
</tr>
<tr>
<td>Red OS Security Advisories</td>
<td><a href="https://redos.red-soft.ru">https://redos.red-soft.ru</a></td>
<td>раз в сутки</td>
</tr>
<tr>
<td>CVE.org (MITRE CVE Program)</td>
<td><a href="https://www.cve.org">https://www.cve.org</a></td>
<td>раз в сутки</td>
</tr>
<tr>
<td>National Vulnerability Database (NVD, NIST)</td>
<td><a href="https://nvd.nist.gov/">https://nvd.nist.gov/</a></td>
<td>раз в час</td>
</tr>
<tr>
<td>Open Source Vulnerabilities (OSV)</td>
<td><a href="https://osv.dev">https://osv.dev</a></td>
<td>каждые 20 минут</td>
</tr>
<tr>
<td>GitHub Advisory Database</td>
<td><a href="https://github.com/advisories">https://github.com/advisories</a></td>
<td>каждые 10 минут</td>
</tr>
<tr>
<td>GitHub Security Repositories (Более 2000 репозиториев)</td>
<td><a href="https://github.com">https://github.com</a></td>
<td>раз в час</td>
</tr>
<tr>
<td>OpenSSF Malware Database (OSSF Malicious Packages)</td>
<td><a href="https://openssf.org">https://openssf.org</a></td>
<td>раз в час</td>
</tr>
<tr>
<td>Go Vulnerability Database (Golang)</td>
<td><a href="https://vuln.go.dev">https://vuln.go.dev</a></td>
<td>каждые 30 минут</td>
</tr>
<tr>
<td>GitLab Security Advisory Database</td>
<td><a href="https://advisories.gitlab.com">https://advisories.gitlab.com</a></td>
<td>раз в сутки</td>
</tr>
<tr>
<td>Packagist PHP Package Security Advisories</td>
<td><a href="https://packagist.org">https://packagist.org</a></td>
<td>каждые 30 минут</td>
</tr>
<tr>
<td>PyPI Security Advisories (PySec)</td>
<td><a href="https://pypi.org">https://pypi.org</a></td>
<td>каждые 30 минут</td>
</tr>
<tr>
<td>Ubuntu Security Notices</td>
<td><a href="https://ubuntu.com/security/notices">https://ubuntu.com/security/notices</a></td>
<td>каждые 30 минут</td>
</tr>
<tr>
<td>Alpine Linux Security Advisories</td>
<td><a href="https://alpinelinux.org">https://alpinelinux.org</a></td>
<td>каждые 30 минут</td>
</tr>
<tr>
<td>Debian Security Tracker</td>
<td><a href="https://security-tracker.debian.org">https://security-tracker.debian.org</a></td>
<td>каждые 30 минут</td>
</tr>
<tr>
<td>Red Hat Security Advisory</td>
<td><a href="https://access.redhat.com">https://access.redhat.com</a></td>
<td>каждые 30 минут</td>
</tr>
</tbody>
</table></section><section class="print-page" id="feeds-protestware" heading-number="4.2.6.2"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#feeds-protestware.en">English</a></li>
</ul>
<h1 id="feeds-protestware-protestware">Работа с фидом protestware<a class="headerlink" href="#feeds-protestware-protestware" title="Permanent link">&para;</a></h1>
<p>С апреля 2022 года команда CodeScoring начала отслеживать случаи включения protestware в открытые программные компоненты. В дополнение к открытым данным, дополнительные механизмы идентификации подобных пакетов были внедрены в версии <strong>CodeScoring 2022.49.0</strong>.</p>
<p>Начиная с версии <a href="#changelog-on-premise-changelog-2025210-2025-05-21">2025.21.0</a>, платформа поддерживает собственный централизованный фид на уровне базы знаний <strong>CodeScoring Index</strong> для обнаружения protestware. Этот фид регулярно обновляется и позволяет автоматически выявлять подобные компоненты в рамках модулей <a href="#osa">CodeScoring.OSA</a> и <a href="#sca">CodeScoring.SCA</a>.</p>
<h2 id="feeds-protestware-protestware_1">Что такое protestware?<a class="headerlink" href="#feeds-protestware-protestware_1" title="Permanent link">&para;</a></h2>
<p><strong>Protestware</strong> – это компоненты, содержащие компрометирующие противоправные конструкции, представленные в исходном коде или сопутствующих данных. Такое ПО может изменять свое поведение или являться предпосылкой к появлению недекларированных возможностей.</p>
<p>Open Source Initiative <a href="https://opensource.org/blog/open-source-protestware-harms-open-source">рассматривает</a> protestware как угрозу нейтральности и воспроизводимости открытого ПО.</p>
<h2 id="feeds-protestware-_1">Настройка политики<a class="headerlink" href="#feeds-protestware-_1" title="Permanent link">&para;</a></h2>
<p>Для проверки protestware в сторонних компонентах CodeScoring имеет встроенную политику безопасности.</p>
<p>Для ее активации необходимо зайти на форму в разделе <code>Настройки -&gt; Политики</code> и указать условие <strong>Зависимость является протестным ПО</strong></p>
<p><img alt="Protestware policy" src="/assets/img/feeds/protestware-policy.png" /></p>
<p>При необходимости можно установить признак <strong>Блокер</strong>, чтобы сделать политику блокирующей – при срабатывании такого условия сборка ПО и загрузка компонента из прокси-репозитория будут прерваны.</p>
<p><strong>Важно:</strong> применение блокирующего признака рекомендуется только после предварительной оценки влияния (проведения инвентаризации компонентов), так как это может повлиять на процесс разработки.</p>
<h2 id="feeds-protestware-_2">Результаты анализа<a class="headerlink" href="#feeds-protestware-_2" title="Permanent link">&para;</a></h2>
<p>Угрозы, связанные с protestware, помечаются идентификатором <strong>CSPW</strong> в разделе <code>Уязвимости</code>. Перейдя на страницу отдельной записи, можно увидеть детальную информацию о компоненте, характере угрозы и затронутой части кодовой базы.</p>
<p>Если настроена соответствующая политика безопасности, срабатывания по ней фиксируются в разделе <code>Алерты</code>. В поле <strong>Условия политики</strong> отображается конкретное основание для срабатывания, например:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#feeds-protestware-__codelineno-0-1"></a>es5-ext@0.10.64 is protestware
</code></pre></div></section><section class="print-page" id="feeds-kaspersky" heading-number="4.2.6.3"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#feeds-kaspersky.en">English</a></li>
</ul>
<h1 id="feeds-kaspersky-kaspersky-open-source-software-threats-data-feed">Использование Kaspersky Open Source Software Threats Data Feed<a class="headerlink" href="#feeds-kaspersky-kaspersky-open-source-software-threats-data-feed" title="Permanent link">&para;</a></h1>
<p>CodeScoring интегрирует фид <a href="https://www.kaspersky.ru/open-source-feed">Kaspersky Open Source Software Threats Data Feed</a> (Kaspersky OSSTDF) в модули CodeScoring.SCA и CodeScoring.OSA, предоставляя доступ к информации об угрозах в обнаруженных open source компонентах. Фид полезен не только как источник данных о новых уязвимостях, но и как инструмент обогащения уже известных записей из других источников.</p>
<p>Фид интегрирован на уровне базы знаний CodeScoring Index, что обеспечивает дедупликацию обнаруженных уязвимостей и единое представление данных для пользователя.</p>
<h2 id="feeds-kaspersky-_1">Проверка подключения<a class="headerlink" href="#feeds-kaspersky-_1" title="Permanent link">&para;</a></h2>
<p>Ключ активации CodeScoring содержит в себе данные о доступности частных фидов.</p>
<p>При успешном подключении Kaspersky OSSTDF, в разделе <code>Настройки -&gt; Активационный ключ</code> поле "Частные базы уязвимостей" имеет значение “Kaspersky open source software threats data feed”.</p>
<p><img alt="Kaspersky activation" src="/assets/img/kaspersky-activation.png" /></p>
<h2 id="feeds-kaspersky-_2">Результаты анализа<a class="headerlink" href="#feeds-kaspersky-_2" title="Permanent link">&para;</a></h2>
<p>CodeScoring не только интегрирует фид с точки зрения данных, но и предлагает контекстные расширения функциональности. В частности, с подключением фида в списке уязвимостей и на их страницах появляется поле <strong>Импакт</strong>, на которое можно настроить отдельную политику безопасности. Значение поля обозначает то влияние на систему, которое оказывает угроза.</p>
<p>Например, аббревиатура <strong>RLF</strong> означает Read Local Files – такая уязвимость позволяет получить доступ к чтению файлов на устройстве пользователя. Эта информация помогает понять контекст уязвимости и определить направление потенциальной атаки.</p>
<p>Список возможных значений переменной:</p>
<ul>
<li>Исполнение произвольного кода (ACE);</li>
<li>Инъекция кода (CI);</li>
<li>Отказ в обслуживании (DoS);</li>
<li>Утрата целостности (LoI);</li>
<li>Перезапись произвольных файлов (OAF);</li>
<li>Получение чувствительной информации (OSI);</li>
<li>Эскалация привилегий (PE);</li>
<li>Чтение локальных файлов (RLF);</li>
<li>Обход безопасности (SB);</li>
<li>Подмена пользовательского интерфейса (SUI);</li>
<li>Запись локальных файлов (WLF);</li>
<li>Межсайтовый скриптинг (XSS/CSS).</li>
</ul>
<p>В случае скомпрометированных пакетов это поле принимает значение <code>Other</code>.</p>
<p>Для пакетов с вредоносным кодом возможны в том числе следующие значения:</p>
<ul>
<li>Вредоносное ПО (Malware);</li>
<li>Cредства взлома (Hacktool).</li>
</ul>
<p>Более подробно о доступных полях можно прочитать в <a href="https://tip.kaspersky.com/Help/TIDF/ru-RU/FieldStructure.htm">документации OSSTDF</a>.</p>
<h2 id="feeds-kaspersky-_3">Данные об уязвимости<a class="headerlink" href="#feeds-kaspersky-_3" title="Permanent link">&para;</a></h2>
<p>На странице уязвимости, полученной из фида Kaspersky OSSTDF появляется дополнительная информация. В таблице с основными данными содержится поле Kaspersky, по которому можно определить идентификатор уязвимости, и поле <strong>Импакт (Kaspersky)</strong>.</p>
<h2 id="feeds-kaspersky-_4">Настройка политик<a class="headerlink" href="#feeds-kaspersky-_4" title="Permanent link">&para;</a></h2>
<p>Данные из фида можно использовать для создания политик безопасности как для анализа текущей кодовой базы, так и для проверки поступающих компонентов.</p>
<p>Поле Импакт позволяет точно указать те типы уязвимостей, которые требуют внимания. Например, для настройки политики, блокирующей использование компонентов с вредоносным кодом, необходимо составить условие <code>Импакт (Kaspersky) -&gt; полностью соответствует -&gt; Вредоносное ПО</code>.</p></section><section class="print-page" id="feeds-oss-index" heading-number="4.2.6.4"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#feeds-oss-index.en">English</a></li>
</ul>
<h1 id="feeds-oss-index-oss-index">Интеграция OSS Index<a class="headerlink" href="#feeds-oss-index-oss-index" title="Permanent link">&para;</a></h1>
<p>В дополнение к внутренней базе данных <strong>CodeScoring Index</strong> для расширенного анализа можно также подключить сторонний фид <a href="https://ossindex.sonatype.org/">Sonatype OSS Index</a>.</p>
<p>Интеграция осуществляется в разделе <code>Настройки -&gt; OSS Index</code>. Для подключения необходимо заполнить Email и API токен, полученный при регистрации пользователя в Sonatype OSS Index.</p>
<p><img alt="OSS Index" src="/assets/img/oss-index.png" /></p>
<p><strong>Важно</strong>:</p>
<ol>
<li>OSS Index используется только во время запуска SCA.</li>
<li>OSS Index будет ссылаться на сторонний URL-адрес: <a href="https://ossindex.sonatype.org/">https://ossindex.sonatype.org/</a>.</li>
<li>Скорость SCA может снизиться при использовании OSS Index.</li>
<li>При использовании OSS Index без токена система может возвращать данные, отличные от авторизованных запросов.</li>
</ol></section></section></section>
                    <section class='print-page md-section' id='section-4-3' heading-number='4.3'>
                        <h1>CodeScoring.OSA<a class='headerlink' href='#section-4-3' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="osa" heading-number="4.3.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-index.en">English</a></li>
</ul>
<h1 id="osa-codescoringosa">CodeScoring.OSA<a class="headerlink" href="#osa-codescoringosa" title="Permanent link">&para;</a></h1>
<p>Модуль CodeScoring.OSA реализует защиту цепочки поставок через набор интеграционных компонентов, которые совместно обеспечивают автоматическое сканирование загружаемых артефактов и блокировку небезопасных пакетов. В состав CodeScoring.OSA входят как плагины для менеджеров репозиториев, так и прокси-сервис — все эти компоненты работают согласованно и дополняют друг друга:</p>
<ul>
<li>плагины встраиваются в обработку <em>request|response</em> на стороне менеджера репозиториев (например, Sonatype Nexus и JFrog Artifactory) и блокируют загрузку нежелательных компонентов на уровне хранилища;</li>
<li>прокси-сервис перехватывает запросы пакетных менеджеров к удалённым репозиториям, выполняет сканирование и при необходимости модифицирует ответы — это удобный вариант для централизованного контроля или когда установка плагина невозможна.</li>
</ul>
<p><strong>Способы интеграции:</strong></p>
<ul>
<li><a href="#osa-nexus_osa">Sonatype Nexus Repository</a> — плагин для Nexus (встраивается в request|response-пайплайн репозитория);</li>
<li><a href="#osa-jfrog_osa">JFrog Artifactory</a> — плагин для Artifactory (аналогичная интеграция);</li>
<li><a href="#osa-proxy">OSA Proxy</a> — прокси-сервис, перехватывающий запросы от пакетных менеджеров к upstream-репозиториям, выполняющий автоматическое сканирование, модификацию ответов и управление доступом к компонентам в соответствии с политиками безопасности.</li>
</ul></section>
                    <section class='print-page md-section' id='section-4-3-2' heading-number='4.3.2'>
                        <h1>Плагины для хранилищ<a class='headerlink' href='#section-4-3-2' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="osa-nexus_osa" heading-number="4.3.2.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-nexus_osa.en">English</a></li>
</ul>
<h1 id="osa-nexus_osa-nexus">Плагин для Nexus<a class="headerlink" href="#osa-nexus_osa-nexus" title="Permanent link">&para;</a></h1>
<h2 id="osa-nexus_osa-_1">Установка плагина<a class="headerlink" href="#osa-nexus_osa-_1" title="Permanent link">&para;</a></h2>
<p>Плагин <strong>CodeScoring.OSA</strong> поставляется в виде JAR-файла и поддерживает следующие версии Sonatype Nexus Repository (NXRM):</p>
<ul>
<li><code>nexus-codescoring-plugin-{release}.jar</code> - для Nexus Repository Community Edition версий с <strong>3.71</strong> по <strong>3.77</strong> и Nexus Repository Pro версий с <strong>3.33.1-01</strong> по <strong>3.77</strong> (поддерживает H2 и PostgreSQL);</li>
<li><code>nexus-codescoring-plugin-legacy-{release}.jar</code> - для Nexus Repository OSS версий с <strong>3.33.1-01</strong> по <strong>3.70.Х</strong> (поддерживает OrientDB).</li>
</ul>
<p>Для добавления плагина в <strong>NXRM</strong> необходимо:</p>
<ol>
<li>Скопировать полученный от вендора файл <code>nexus-codescoring-plugin.jar</code> в директорию <code>/opt/sonatype/nexus/deploy</code>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#osa-nexus_osa-__codelineno-0-1"></a>cp<span class="w"> </span>nexus-codescoring-plugin.jar<span class="w"> </span>/opt/sonatype/nexus/deploy/nexus-codescoring-plugin.jar
</code></pre></div>
Если <strong>NXRM</strong> запущен в Docker-контейнере:
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#osa-nexus_osa-__codelineno-1-1"></a>docker<span class="w"> </span>cp<span class="w"> </span>nexus-codescoring-plugin.jar<span class="w"> </span>nexus:/opt/sonatype/nexus/deploy/nexus-codescoring-plugin.jar
</code></pre></div></li>
<li>Выдать права для пользователя и группы <code>nexus</code>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#osa-nexus_osa-__codelineno-2-1"></a>chown<span class="w"> </span>nexus:nexus<span class="w"> </span>/opt/sonatype/nexus/deploy/nexus-codescoring-plugin.jar
</code></pre></div>
Если <strong>NXRM</strong> запущен в Docker-контейнере:
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#osa-nexus_osa-__codelineno-3-1"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>-u<span class="w"> </span><span class="m">0</span><span class="w"> </span>nexus<span class="w"> </span>chown<span class="w"> </span>nexus:nexus<span class="w"> </span>/opt/sonatype/nexus/deploy/nexus-codescoring-plugin.jar
</code></pre></div></li>
<li>Проверить, что у пользователя есть минимальный набор привилегий для корректной работы с плагином:
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#osa-nexus_osa-__codelineno-4-1"></a>nx-repository-view-*-*-{read,browse}
</code></pre></div></li>
</ol>
<p>После выполненных операций, необходимо произвести перезапуск <strong>NXRM</strong>.</p>
<h2 id="osa-nexus_osa-_2">Настройка плагина<a class="headerlink" href="#osa-nexus_osa-_2" title="Permanent link">&para;</a></h2>
<p>Для применения плагина <strong>CodeScoring.OSA</strong> в дальнейшей работе, необходимо использовать механизм <strong>Capability</strong>, предоставляемый <strong>NXRM</strong>. <strong>Capability</strong> – это набор API и компонентов UI для встраивания в <strong>NXRM</strong>, позволяющий расширять его функциональность.</p>
<p>Плагин <strong>CodeScoring.OSA</strong> предоставляет четыре новые <strong>Capability</strong>:</p>
<ul>
<li><strong>CodeScoring Configuration</strong> — настройка взаимодействия с <strong>on-premise</strong> платформой <strong>CodeScoring</strong>;</li>
<li><strong>CodeScoring Scan</strong> — настройка сканирования для отдельно выбранного прокси-репозитория;</li>
<li><strong>CodeScoring Docker Repository Scan</strong> – настройка сканирования для отдельно выбранного hosted, proxy docker или virtual репозитория;</li>
<li><strong>CodeScoring All Repositories Scan</strong> – настройка сканирования для всех репозиториев.</li>
</ul>
<p>После установки плагина <strong>CodeScoring OSA</strong> в разделе <code>System -&gt; Capabilities</code> появится возможность создания <strong>Capability</strong> через элемент (<code>+ Create capability</code>) интерфейса.</p>
<p><img alt="CodeScoring capability creation example" src="/assets/img/osa/capability_create_example.png" /></p>
<h3 id="osa-nexus_osa-codescoring-configuration">CodeScoring Configuration<a class="headerlink" href="#osa-nexus_osa-codescoring-configuration" title="Permanent link">&para;</a></h3>
<p>Расширение позволяет задать общие настройки плагина для работы с платформой <strong>CodeScoring</strong>:</p>
<ul>
<li><strong>CodeScoring URL</strong> – адрес <strong>on-premise</strong> платформе <strong>CodeScoring</strong>;</li>
<li><strong>CodeScoring Token</strong> – ключ для авторизации вызовов API (Создается из раздела <code>Профиль</code>);</li>
<li><strong>HttpClient Connection Pool Size</strong> – количество доступных соединений. Параметр позволяет управлять количеством параллельных запросов, чтобы ускорить сканирование;</li>
<li><strong>Timeout for CodeScoring requests in seconds</strong> – время ожидания ответа от платформы (в секундах, по умолчанию значение <strong>1800</strong>);</li>
<li><strong>HTTP Proxy Host</strong> – адрес прокси-сервера. Используется в случае, если нет возможности наладить прямое соединение между NXRM и CodeScoring;</li>
<li><strong>HTTP Proxy Port</strong> – порт прокси-сервера;</li>
<li><strong>Block downloads in case of plugin or CodeScoring errors</strong> – блокировка загрузки компонента при наличии ошибок от плагина или CodeScoring API.</li>
<li><strong>Custom message for blocked packages</strong> – сообщение для пользователя при блокировке компонентов;</li>
<li><strong>Append block URL to custom message</strong> – добавление ссылки на страницу блокировки в кастомное сообщение;</li>
<li><strong>Nexus URL for identification in CodeScoring</strong> – адрес Nexus Repository Manager с протоколом для отображения результатов в платформе.</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Обязательные поля</p>
<p>Поля <strong>CodeScoring URL</strong>, <strong>CodeScoring Token</strong>, <strong>HttpClient Connection Pool Size</strong>, <strong>Timeout for CodeScoring requests in seconds</strong> и <strong>Nexus URL for identification in CodeScoring</strong> являются обязательными к заполнению.</p>
</div>
<p><img alt="CodeScoring capability config settings example" src="/assets/img/osa/capability_config_settings_example.png" /></p>
<p><strong>Внимание</strong>: указанные настройки будут использовать все экземпляры осуществляющие проверку прокси репозиториев.</p>
<h3 id="osa-nexus_osa-codescoring-proxy-repository-scan">CodeScoring Proxy Repository Scan<a class="headerlink" href="#osa-nexus_osa-codescoring-proxy-repository-scan" title="Permanent link">&para;</a></h3>
<p>Расширение позволяет включить проверку компонентов на выбранный прокси репозиторий со следующими параметрами:</p>
<ul>
<li><strong>Repository</strong> – выбор репозитория, для которого будет применена функция экранирования;</li>
<li><strong>Security violation response status</strong> – код ошибки, возвращаемый при срабатывании политик безопасности;</li>
<li><strong>Delete blocked by policy component from repository</strong> – принудительное удаление блокируемых компонентов из репозитория (<em>создание "стерильного" репозитория</em>);</li>
<li><strong>Select capability work mode</strong> – режим работы плагина.</li>
</ul>
<p><img alt="CodeScoring capability scan settings example" src="/assets/img/osa/capability_scan_settings_example.png" /></p>
<h3 id="osa-nexus_osa-codescoring-docker-repository-scan">CodeScoring Docker Repository Scan<a class="headerlink" href="#osa-nexus_osa-codescoring-docker-repository-scan" title="Permanent link">&para;</a></h3>
<p>Расширение позволяет включить проверку компонентов на выбранный hosted или proxy docker репозиторий со следующими параметрами:</p>
<ul>
<li><strong>Repository</strong> – выбор репозитория, для которого будет применена функция экранирования;</li>
<li><strong>Security violation response status</strong> – код ошибки, возвращаемый при срабатывании политик безопасности;</li>
<li><strong>This user skips container image scan</strong> – имя пользователя, для которого не применяется сканирование образов. Используется при загрузке и проверке компонентов консольным агентом;</li>
<li><strong>Container registry host as used in the <code>docker pull host/image_name</code> command</strong> – адрес (без указания протокола) и порт, через которые будут загружаться образы для сканирования. Используется для связи Nexus с репозиторием через Docker;</li>
<li><strong>Select capability work mode</strong> – режим работы плагина. Режимы работы описаны в секции ниже;</li>
<li><strong>Append repository name to image name for Docker repositories</strong> – добавление названия репозитория в PURL для корректной работы в режиме <strong>RepoPath</strong> (в случае обращения за компонентом через команду <code>docker pull registry/repository/image_name</code>).</li>
</ul>
<p><img alt="CodeScoring capability docker repository example" src="/assets/img/osa/capability_docker_settings_example.png" /></p>
<h3 id="osa-nexus_osa-codescoring-all-repositories-scan">CodeScoring All Repositories Scan<a class="headerlink" href="#osa-nexus_osa-codescoring-all-repositories-scan" title="Permanent link">&para;</a></h3>
<p>Расширение позволяет включить проверку компонентов на все репозитории в рамках Sonatype Nexus Repository Manager со следующими параметрами:</p>
<ul>
<li><strong>List of comma separated repositories to ignore</strong> – список репозиториев, которые не будут сканироваться;</li>
<li><strong>List of comma separated repository formats to scan</strong> – список форматов репозиториев, которые будут сканироваться. Доступные форматы: <code>maven2</code>, <code>npm</code>, <code>pypi</code>, <code>nuget</code>, <code>cocoapods</code>, <code>go</code>, <code>rubygems</code>, <code>conan</code>, <code>apt</code>, <code>yum</code>, <code>apk</code>, <code>docker</code>, <code>conda</code>;</li>
<li><strong>Security violation response status</strong> – код ошибки, возвращаемый при срабатывании политик безопасности;</li>
<li><strong>This user skips container image scan</strong> – имя пользователя, для которого не применяется сканирование образов. Используется при загрузке и проверке компонентов консольным агентом;</li>
<li><strong>Container registry host as used in the <code>docker pull host/image_name</code> command</strong> – адрес (без указания протокола) и порт, через которые будут загружаться образы для сканирования. Используется для связи Nexus с репозиторием через Docker;</li>
<li><strong>Select capability work mode</strong> – режим работы плагина. Режимы работы описаны в секции ниже;</li>
<li><strong>Append repository name to image name for Docker repositories</strong> – добавление названия репозитория в PURL для корректной работы в режиме <strong>RepoPath</strong> (в случае обращения за компонентом через команду <code>docker pull registry/repository/image_name</code>).</li>
</ul>
<p><img alt="CodeScoring capability all repositories scan" src="/assets/img/osa/capability_all_repositories_settings_example.png" /></p>
<h3 id="osa-nexus_osa-_3">Настройка режима работы плагина<a class="headerlink" href="#osa-nexus_osa-_3" title="Permanent link">&para;</a></h3>
<p>Режим работы плагина необходимо определить текстовой строкой в соответствующем поле настроек Capability <strong>CodeScoring Proxy Repository Scan</strong> и Capability <strong>CodeScoring Docker Repository Scan</strong>.</p>
<p>Плагин имеет 5 режимов работы, определяющих строгость проверки компонентов перед загрузкой.</p>
<ul>
<li><strong>warmup</strong> – загрузка данных в кэш CodeScoring без блокировки компонентов;</li>
<li><strong>spectator</strong> – загрузка данных в кэш CodeScoring без блокировки компонентов, сохранение результатов запросов компонентов на платформе;</li>
<li><strong>moderate</strong> – блокировка компонентов, не прошедших проверку политик. Разрешена загрузка непросканированных компонентов;</li>
<li><strong>strict</strong> – блокировка компонентов, не прошедших проверку политик. Запрещена загрузка непросканированных компонентов;</li>
<li><strong>strict_wait</strong> – блокировка компонентов, не прошедших проверку политик. Ожидание проверки для непросканированных компонентов.</li>
</ul>
<h3 id="osa-nexus_osa-nexus-logging">Настройка логирования<a class="headerlink" href="#osa-nexus_osa-nexus-logging" title="Permanent link">&para;</a></h3>
<p>Для настройки логирования событий плагина необходимо зайти в раздел <code>Support -&gt; Logging</code> и добавить логгер с названием <strong>ru.codescoring</strong> и уровнем логирования <strong>DEBUG</strong>.</p>
<p><img alt="NXRM logs" src="/assets/img/osa/nxrm_logs.png" /></p>
<p>Результаты логирования событий доступны в разделе <code>Support -&gt; Logs</code>.</p>
<h2 id="osa-nexus_osa-_4">Блокировка компонента<a class="headerlink" href="#osa-nexus_osa-_4" title="Permanent link">&para;</a></h2>
<p>При блокировании загрузки компонента в консоли пользователя отображается одна из следующих причин блокировки:</p>
<ul>
<li><strong>"The download has been blocked in accordance with the policies configured in CodeScoring"</strong> – блокировка компонента согласно настроенным на платформе политикам;</li>
<li><strong>"The component has not yet been scanned by CodeScoring, it is scheduled to be scanned shortly. The download is blocked according to the plugin settings"</strong> – блокировка непросканированного компонента с последующим запуском сканирования. Используется в режиме <code>strict</code>;</li>
<li><strong>"The download has been blocked due to the failure of the scan of the component in CodeScoring"</strong> – не удалось просканировать компонент;</li>
<li><strong>"The download has been blocked due to the wrong mode of the plugin"</strong> – используется некорректный <a href="#osa-nexus_osa-_3">режим работы плагина</a>;</li>
<li><strong>"The download has been blocked due to the timeout of the scan of the component in CodeScoring"</strong> – истекло время ожидания сканирования компонента. Используется в режиме <code>strict_wait</code>;</li>
<li><strong>"The download has been blocked, because registry is not configured in CodeScoring"</strong> – отсутствует соответствующий Registry на платформе.</li>
</ul>
<p>При использовании политики с отложенной блокировкой компонент получает статус <code>delayed_block</code>. Загрузка компонента в данном статусе не прерывается.</p>
<p>Ответ также содержит ссылку на страницу компонента в CodeScoring с информацией о сработавших политиках безопасности и найденных уязвимостях. При использовании кастомного сообщения добавление этой ссылки управляется настройкой <strong>Append block URL to custom message</strong>:</p>
<p><img alt="Component page" src="/assets/img/osa/component-page.png" /></p>
<h2 id="osa-nexus_osa-ssl-">Настройка SSL-соединения<a class="headerlink" href="#osa-nexus_osa-ssl-" title="Permanent link">&para;</a></h2>
<p>Для настройки SSL-соединения между плагином и платформой необходимо выполнить импорт сертификатов в Java Truststore.</p>
<h3 id="osa-nexus_osa-java">Определение местоположения установки Java<a class="headerlink" href="#osa-nexus_osa-java" title="Permanent link">&para;</a></h3>
<p>Чтобы импортировать сертификаты в Java Truststore, сначала необходимо найти установку Java. Это можно сделать одним из следующих способов:</p>
<ol>
<li>
<p><strong>Использование переменной окружения <code>JAVA_HOME</code></strong>:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#osa-nexus_osa-__codelineno-5-1"></a><span class="nb">echo</span><span class="w"> </span><span class="nv">$JAVA_HOME</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Использование команды <code>java</code> с параметром <code>-XshowSettings:properties</code></strong>:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#osa-nexus_osa-__codelineno-6-1"></a>java<span class="w"> </span>-XshowSettings:properties<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w"> </span>&gt;<span class="w"> </span>/dev/null<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s1">&#39;java.home&#39;</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Использование команды <code>readlink</code> с путем к <code>java</code></strong>:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#osa-nexus_osa-__codelineno-7-1"></a>readlink<span class="w"> </span>-f<span class="w"> </span><span class="k">$(</span>which<span class="w"> </span>java<span class="k">)</span>
</code></pre></div></p>
</li>
</ol>
<p>Дальнейшие действия подразумевают, что переменная <code>$JAVA_HOME</code> установлена.</p>
<h3 id="osa-nexus_osa-_5">Загрузка сертификата<a class="headerlink" href="#osa-nexus_osa-_5" title="Permanent link">&para;</a></h3>
<p>Скачать сертификат можно следующей командой:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#osa-nexus_osa-__codelineno-8-1"></a>openssl<span class="w"> </span>s_client<span class="w"> </span>-connect<span class="w"> </span>&lt;codescoring.domain.ru&gt;:443<span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="w"> </span><span class="p">|</span><span class="w"> </span>openssl<span class="w"> </span>x509<span class="w"> </span>&gt;<span class="w"> </span>codescoring_ca.pem
</code></pre></div>
<p>Убедитесь, что вы заменили <code>&lt;codescoring.domain.ru&gt;</code> на соответствующий адрес вашей платформе.</p>
<h3 id="osa-nexus_osa-_6">Импорт сертификата<a class="headerlink" href="#osa-nexus_osa-_6" title="Permanent link">&para;</a></h3>
<p>После загрузки сертификата его можно импортировать в Java Truststore с помощью следующей команды:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#osa-nexus_osa-__codelineno-9-1"></a>keytool<span class="w"> </span>-import<span class="w"> </span>-alias<span class="w"> </span>&lt;mycert&gt;<span class="w"> </span>-keystore<span class="w"> </span><span class="nv">$JAVA_HOME</span>/lib/security/cacerts<span class="w"> </span>-file<span class="w"> </span>&lt;codescoring_ca.pem&gt;
</code></pre></div>
<p><strong>Примечания</strong>:</p>
<ul>
<li>Замените <code>&lt;mycert&gt;</code> на уникальное имя для вашего сертификата.</li>
<li>Замените <code>&lt;codescoring_ca.pem&gt;</code> на фактическое имя вашего файла сертификата.</li>
<li>Вас могут попросить ввести пароль для Truststore. Стандартный пароль: <code>changeit</code>.</li>
</ul>
<h3 id="osa-nexus_osa-_7">Проверка импорта<a class="headerlink" href="#osa-nexus_osa-_7" title="Permanent link">&para;</a></h3>
<p>Чтобы убедиться, что сертификат был успешно импортирован, используйте команду <code>keytool</code> для отображения списка сертификатов в Truststore:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#osa-nexus_osa-__codelineno-10-1"></a>keytool<span class="w"> </span>-list<span class="w"> </span>-keystore<span class="w"> </span><span class="nv">$JAVA_HOME</span>/lib/security/cacerts
</code></pre></div>
<p><strong>Примечание</strong>:</p>
<ul>
<li>Для фильтрации результатов по вашему алиасу сертификата можно использовать команду <code>grep</code>:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#osa-nexus_osa-__codelineno-11-1"></a>keytool<span class="w"> </span>-list<span class="w"> </span>-keystore<span class="w"> </span><span class="nv">$JAVA_HOME</span>/lib/security/cacerts<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>mycert
</code></pre></div></li>
</ul>
<h2 id="osa-nexus_osa-_8">Работа с системными пакетами<a class="headerlink" href="#osa-nexus_osa-_8" title="Permanent link">&para;</a></h2>
<h3 id="osa-nexus_osa-_9">Настройка репозиториев<a class="headerlink" href="#osa-nexus_osa-_9" title="Permanent link">&para;</a></h3>
<p>Для корректной работы плагина с системными пакетами некоторых экосистем необходимо произвести дополнительные действия.</p>
<p>Для корректной работы плагина необходимо указать название (codename) дистрибутива из удалённого репозитория, например "bullseye" для Debian. Это название используется в PURL (Package URL) для повышения точности анализа пакета.</p>
<p>Название должно быть в нижнем регистре и без лишних символов.</p>
<p><img alt="Debian repository settings" src="/assets/img/osa/nexus_debian_setup.png" /></p>
<p>Список поддерживаемых дистрибутивов Debian:</p>
<ul>
<li><strong>Debian 2.0</strong> – <em>hamm</em></li>
<li><strong>Debian 2.1</strong> – <em>slink</em></li>
<li><strong>Debian 2.2</strong> – <em>potato</em></li>
<li><strong>Debian 3.0</strong> – <em>woody</em></li>
<li><strong>Debian 3.1</strong> – <em>sarge</em></li>
<li><strong>Debian 4</strong> – <em>etch</em></li>
<li><strong>Debian 5</strong> – <em>lenny</em></li>
<li><strong>Debian 6</strong> – <em>squeeze</em></li>
<li><strong>Debian 7</strong> – <em>wheezy</em></li>
<li><strong>Debian 8</strong> – <em>jessie</em></li>
<li><strong>Debian 9</strong> – <em>stretch</em></li>
<li><strong>Debian 10</strong> – <em>buster</em></li>
<li><strong>Debian 11</strong> – <em>bullseye</em></li>
<li><strong>Debian 12</strong> – <em>bookworm</em></li>
<li><strong>Debian 13</strong> – <em>trixie</em></li>
<li><strong>Debian 14</strong> – <em>forky</em></li>
</ul>
<p>Список поддерживаемых дистрибутивов Ubuntu:</p>
<ul>
<li><strong>Ubuntu 4.10</strong> – <em>warty</em></li>
<li><strong>Ubuntu 5.04</strong> – <em>hoary</em></li>
<li><strong>Ubuntu 5.10</strong> – <em>breezy</em></li>
<li><strong>Ubuntu 6.06</strong> – <em>dapper</em></li>
<li><strong>Ubuntu 6.10</strong> – <em>edgy</em></li>
<li><strong>Ubuntu 7.04</strong> – <em>feisty</em></li>
<li><strong>Ubuntu 7.10</strong> – <em>gutsy</em></li>
<li><strong>Ubuntu 8.04</strong> – <em>hardy</em></li>
<li><strong>Ubuntu 8.10</strong> – <em>intrepid</em></li>
<li><strong>Ubuntu 9.04</strong> – <em>jaunty</em></li>
<li><strong>Ubuntu 9.10</strong> – <em>karmic</em></li>
<li><strong>Ubuntu 10.04</strong> – <em>lucid</em></li>
<li><strong>Ubuntu 10.10</strong> – <em>maverick</em></li>
<li><strong>Ubuntu 11.04</strong> – <em>natty</em></li>
<li><strong>Ubuntu 11.10</strong> – <em>oneiric</em></li>
<li><strong>Ubuntu 12.04</strong> – <em>precise</em></li>
<li><strong>Ubuntu 12.10</strong> – <em>quantal</em></li>
<li><strong>Ubuntu 13.04</strong> – <em>raring</em></li>
<li><strong>Ubuntu 13.10</strong> – <em>saucy</em></li>
<li><strong>Ubuntu 14.04</strong> – <em>trusty</em></li>
<li><strong>Ubuntu 14.10</strong> – <em>utopic</em></li>
<li><strong>Ubuntu 15.04</strong> – <em>vivid</em></li>
<li><strong>Ubuntu 15.10</strong> – <em>wily</em></li>
<li><strong>Ubuntu 16.04</strong> – <em>xenial</em></li>
<li><strong>Ubuntu 16.10</strong> – <em>yakkety</em></li>
<li><strong>Ubuntu 17.04</strong> – <em>zesty</em></li>
<li><strong>Ubuntu 17.10</strong> – <em>artful</em></li>
<li><strong>Ubuntu 18.04</strong> – <em>bionic</em></li>
<li><strong>Ubuntu 18.10</strong> – <em>cosmic</em></li>
<li><strong>Ubuntu 19.04</strong> – <em>disco</em></li>
<li><strong>Ubuntu 19.10</strong> – <em>eoan</em></li>
<li><strong>Ubuntu 20.04</strong> – <em>focal</em></li>
<li><strong>Ubuntu 20.10</strong> – <em>groovy</em></li>
<li><strong>Ubuntu 21.04</strong> – <em>hirsute</em></li>
<li><strong>Ubuntu 21.10</strong> – <em>impish</em></li>
<li><strong>Ubuntu 22.04</strong> – <em>jammy</em></li>
<li><strong>Ubuntu 22.10</strong> – <em>kinetic</em></li>
<li><strong>Ubuntu 23.04</strong> – <em>lunar</em></li>
<li><strong>Ubuntu 23.10</strong> – <em>mantic</em></li>
<li><strong>Ubuntu 24.04</strong> – <em>noble</em></li>
<li><strong>Ubuntu 24.10</strong> – <em>oracular</em></li>
<li><strong>Ubuntu 25.04</strong> – <em>plucky</em></li>
</ul>
<h3 id="osa-nexus_osa-debian">Просмотр информации о пакете Debian<a class="headerlink" href="#osa-nexus_osa-debian" title="Permanent link">&para;</a></h3>
<p>Плагин извлекает информацию о пакете из различных источников. В частности, он получает название пакета, версию и архитектуру из поля Summary asset'a. Если Summary отсутствует, данные для PURL парсятся из Path.</p>
<p><img alt="Debian package browse" src="/assets/img/osa/nexus_debian_browse.png" /></p>
<h3 id="osa-nexus_osa-rpm">Просмотр информации о пакете RPM<a class="headerlink" href="#osa-nexus_osa-rpm" title="Permanent link">&para;</a></h3>
<p>Для пакетов RPM плагин извлекает данные из атрибутов asset'a. Это включает название пакета, версию и архитектуру.</p>
<p><img alt="RPM package browse" src="/assets/img/osa/nexus_rpm_browse.png" /></p></section><section class="print-page" id="osa-jfrog_osa" heading-number="4.3.2.2"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-jfrog_osa.en">English</a></li>
</ul>
<h1 id="osa-jfrog_osa-jfrog">Плагин для JFrog<a class="headerlink" href="#osa-jfrog_osa-jfrog" title="Permanent link">&para;</a></h1>
<h2 id="osa-jfrog_osa-_1">Установка плагина<a class="headerlink" href="#osa-jfrog_osa-_1" title="Permanent link">&para;</a></h2>
<p>Плагин <strong>CodeScoring.OSA</strong> поддерживает версии JFrog Artifactory Pro <strong>7.43</strong> и выше.</p>
<p>Плагин поставляется в виде архива со следующей структурой:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#osa-jfrog_osa-__codelineno-0-1"></a>.
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#osa-jfrog_osa-__codelineno-0-2"></a>├── CHANGELOG.md
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#osa-jfrog_osa-__codelineno-0-3"></a>├── codescoring.groovy
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#osa-jfrog_osa-__codelineno-0-4"></a>├── codescoring.yaml
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#osa-jfrog_osa-__codelineno-0-5"></a>└── lib
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#osa-jfrog_osa-__codelineno-0-6"></a>    └── codescoring-plugin-jfrog.jar
</code></pre></div>
<p>Для добавления плагина в <strong>JFrog</strong> необходимо:</p>
<ol>
<li>Распаковать полученный архив в директорию <code>$JFROG_HOME/artifactory/var/etc/artifactory/plugins</code>.</li>
<li>Создать в директории файл для настройки <code>codescoring.yaml</code>. Пример содержания находится в поставляемом архиве.</li>
<li>Вызвать <strong>API JFrog Pro</strong> для загрузки плагина <code>POST /api/plugins/reload</code>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#osa-jfrog_osa-__codelineno-1-1"></a>curl -X POST https://[JFROG_URL]/artifactory/api/plugins/reload
</code></pre></div></li>
</ol>
<h2 id="osa-jfrog_osa-_2">Проверка установки плагина<a class="headerlink" href="#osa-jfrog_osa-_2" title="Permanent link">&para;</a></h2>
<p>Для проверки установки плагина в системе необходимо проверить логи сервиса. При успешной загрузке и инициализации в логах появится сообщение следующего содержания:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#osa-jfrog_osa-__codelineno-2-1"></a>2023-08-08T09:41:35.105Z [jfrt ] [INFO ] [70be801ff583b741] [r.c.p.codescoring:16          ] [art-init            ] - CodeScoring: Initialization of CodeScoringPlugin completed
</code></pre></div>
<h2 id="osa-jfrog_osa-_3">Обновление плагина<a class="headerlink" href="#osa-jfrog_osa-_3" title="Permanent link">&para;</a></h2>
<p>В случае обновления архива с плагином, для вступления обновлений в силу необходимо использовать следующую команду API:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#osa-jfrog_osa-__codelineno-3-1"></a>curl -X POST https://[JFROG_URL]/artifactory/api/plugins/reload
</code></pre></div>
<p>В случае обновления конфигурации плагина в файле <code>codescoring.yaml</code>, необходимо использовать следующую команду API:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#osa-jfrog_osa-__codelineno-4-1"></a>curl -X POST https://[JFROG_URL]/api/plugins/execute/codeScoringReload
</code></pre></div>
<h2 id="osa-jfrog_osa-_4">Настройка плагина<a class="headerlink" href="#osa-jfrog_osa-_4" title="Permanent link">&para;</a></h2>
<p>Для настройки плагина используется файл <code>codescoring.yaml</code>.</p>
<p>Пример содержания файла:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#osa-jfrog_osa-__codelineno-5-1"></a># true/false
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#osa-jfrog_osa-__codelineno-5-2"></a>disablePlugin: false
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#osa-jfrog_osa-__codelineno-5-3"></a>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#osa-jfrog_osa-__codelineno-5-4"></a>codeScoringAPI:
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#osa-jfrog_osa-__codelineno-5-5"></a>  # The base URL for all CodeSсoring API endpoints.
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#osa-jfrog_osa-__codelineno-5-6"></a>  # Required.
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#osa-jfrog_osa-__codelineno-5-7"></a>  # Example: https://host:port or https://host
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#osa-jfrog_osa-__codelineno-5-8"></a>  url:
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#osa-jfrog_osa-__codelineno-5-9"></a>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#osa-jfrog_osa-__codelineno-5-10"></a>  # Your CodeScoring API Token for authentication.
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#osa-jfrog_osa-__codelineno-5-11"></a>  # Required.
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#osa-jfrog_osa-__codelineno-5-12"></a>  token:
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#osa-jfrog_osa-__codelineno-5-13"></a>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#osa-jfrog_osa-__codelineno-5-14"></a>  # Http client connection pool size to CodeScoring BE service.
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#osa-jfrog_osa-__codelineno-5-15"></a>  # By default, value is 200 since it correlates with the default artifactory thread pool size for tomcat.
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#osa-jfrog_osa-__codelineno-5-16"></a>  # If you tuned your instance of the artifactory https://jfrog.com/help/r/how-do-i-tune-artifactory-for-heavy-loads
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#osa-jfrog_osa-__codelineno-5-17"></a>  # you should scale this value for better performance maximum up to tomcat.connector.maxThreads value.
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#osa-jfrog_osa-__codelineno-5-18"></a>  connectionPoolSize: 200
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#osa-jfrog_osa-__codelineno-5-19"></a>
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#osa-jfrog_osa-__codelineno-5-20"></a>  # By default, if CodeScoring API hasn&#39;t responded within a duration of 60 seconds, the request will be cancelled.
<a id="__codelineno-5-21" name="__codelineno-5-21" href="#osa-jfrog_osa-__codelineno-5-21"></a>  # This property lets you customize the timeout duration in seconds.
<a id="__codelineno-5-22" name="__codelineno-5-22" href="#osa-jfrog_osa-__codelineno-5-22"></a>  timeout: 60
<a id="__codelineno-5-23" name="__codelineno-5-23" href="#osa-jfrog_osa-__codelineno-5-23"></a>
<a id="__codelineno-5-24" name="__codelineno-5-24" href="#osa-jfrog_osa-__codelineno-5-24"></a>  # If you are using a proxy, you must provide both Hostname/IP and port.
<a id="__codelineno-5-25" name="__codelineno-5-25" href="#osa-jfrog_osa-__codelineno-5-25"></a>  proxy:
<a id="__codelineno-5-26" name="__codelineno-5-26" href="#osa-jfrog_osa-__codelineno-5-26"></a>    host:
<a id="__codelineno-5-27" name="__codelineno-5-27" href="#osa-jfrog_osa-__codelineno-5-27"></a>    port:
<a id="__codelineno-5-28" name="__codelineno-5-28" href="#osa-jfrog_osa-__codelineno-5-28"></a>
<a id="__codelineno-5-29" name="__codelineno-5-29" href="#osa-jfrog_osa-__codelineno-5-29"></a># Artifactory&#39;s response status code for blocked packages.
<a id="__codelineno-5-30" name="__codelineno-5-30" href="#osa-jfrog_osa-__codelineno-5-30"></a>blockedBuildResponseCode: 403
<a id="__codelineno-5-31" name="__codelineno-5-31" href="#osa-jfrog_osa-__codelineno-5-31"></a>
<a id="__codelineno-5-32" name="__codelineno-5-32" href="#osa-jfrog_osa-__codelineno-5-32"></a># If set to &#39;false&#39; allows artifact downloads regardless of errors from CodeScoringAPI or plugin
<a id="__codelineno-5-33" name="__codelineno-5-33" href="#osa-jfrog_osa-__codelineno-5-33"></a>blockOnErrors: true
<a id="__codelineno-5-34" name="__codelineno-5-34" href="#osa-jfrog_osa-__codelineno-5-34"></a>
<a id="__codelineno-5-35" name="__codelineno-5-35" href="#osa-jfrog_osa-__codelineno-5-35"></a># If set to &#39;true&#39;, the plugin will scan all supported repositories
<a id="__codelineno-5-36" name="__codelineno-5-36" href="#osa-jfrog_osa-__codelineno-5-36"></a># except specified in the &quot;excludeRepositories&quot; section.
<a id="__codelineno-5-37" name="__codelineno-5-37" href="#osa-jfrog_osa-__codelineno-5-37"></a>scanAllRepositories: false
<a id="__codelineno-5-38" name="__codelineno-5-38" href="#osa-jfrog_osa-__codelineno-5-38"></a>
<a id="__codelineno-5-39" name="__codelineno-5-39" href="#osa-jfrog_osa-__codelineno-5-39"></a># Store scan date and blocking reasons in the artifact properties.
<a id="__codelineno-5-40" name="__codelineno-5-40" href="#osa-jfrog_osa-__codelineno-5-40"></a>storeScanProperties: false
<a id="__codelineno-5-41" name="__codelineno-5-41" href="#osa-jfrog_osa-__codelineno-5-41"></a>
<a id="__codelineno-5-42" name="__codelineno-5-42" href="#osa-jfrog_osa-__codelineno-5-42"></a># Default settings for all repositories. Can be overridden by repositories.repo-name settings
<a id="__codelineno-5-43" name="__codelineno-5-43" href="#osa-jfrog_osa-__codelineno-5-43"></a>defaults:
<a id="__codelineno-5-44" name="__codelineno-5-44" href="#osa-jfrog_osa-__codelineno-5-44"></a>  dockerRegistryUrl: jfrog.my.domain
<a id="__codelineno-5-45" name="__codelineno-5-45" href="#osa-jfrog_osa-__codelineno-5-45"></a>
<a id="__codelineno-5-46" name="__codelineno-5-46" href="#osa-jfrog_osa-__codelineno-5-46"></a>  # warmup |  Scan cache warmup without requests monitoring, no blocking
<a id="__codelineno-5-47" name="__codelineno-5-47" href="#osa-jfrog_osa-__codelineno-5-47"></a>  # spectator | Scan cache warmup with requests monitoring, no blocking
<a id="__codelineno-5-48" name="__codelineno-5-48" href="#osa-jfrog_osa-__codelineno-5-48"></a>  # moderate | Policy-based blocking using cache results, not scanned component downloads allowed
<a id="__codelineno-5-49" name="__codelineno-5-49" href="#osa-jfrog_osa-__codelineno-5-49"></a>  # strict | Policy-based blocking using cache results, not scanned component downloads blocked
<a id="__codelineno-5-50" name="__codelineno-5-50" href="#osa-jfrog_osa-__codelineno-5-50"></a>  # strict_wait | Policy-based blocking, wait until component is scanned
<a id="__codelineno-5-51" name="__codelineno-5-51" href="#osa-jfrog_osa-__codelineno-5-51"></a>  # default value is strict_wait if not specified in default or repository settings or in case of a typo
<a id="__codelineno-5-52" name="__codelineno-5-52" href="#osa-jfrog_osa-__codelineno-5-52"></a>  workMode: strict_wait
<a id="__codelineno-5-53" name="__codelineno-5-53" href="#osa-jfrog_osa-__codelineno-5-53"></a>
<a id="__codelineno-5-54" name="__codelineno-5-54" href="#osa-jfrog_osa-__codelineno-5-54"></a>  # Allows this user to skip scan
<a id="__codelineno-5-55" name="__codelineno-5-55" href="#osa-jfrog_osa-__codelineno-5-55"></a>  skipScanUser: codescoring
<a id="__codelineno-5-56" name="__codelineno-5-56" href="#osa-jfrog_osa-__codelineno-5-56"></a>
<a id="__codelineno-5-57" name="__codelineno-5-57" href="#osa-jfrog_osa-__codelineno-5-57"></a>  # Set to &#39;true&#39; if you use Docker Access Method &#39;Sub domain&#39; (repo-name.jfrog.my.domain) or &#39;Port&#39; (jfrog.my.domain:25000)
<a id="__codelineno-5-58" name="__codelineno-5-58" href="#osa-jfrog_osa-__codelineno-5-58"></a>  stripRepoNameInDockerImageName: false
<a id="__codelineno-5-59" name="__codelineno-5-59" href="#osa-jfrog_osa-__codelineno-5-59"></a>
<a id="__codelineno-5-60" name="__codelineno-5-60" href="#osa-jfrog_osa-__codelineno-5-60"></a>  # Artifactory url for CodeScoring to apply policies.
<a id="__codelineno-5-61" name="__codelineno-5-61" href="#osa-jfrog_osa-__codelineno-5-61"></a>  # Value MUST BE equal to Repository Manager URL in CodeScoring
<a id="__codelineno-5-62" name="__codelineno-5-62" href="#osa-jfrog_osa-__codelineno-5-62"></a>  # Example: https://jfrog.my.domain
<a id="__codelineno-5-63" name="__codelineno-5-63" href="#osa-jfrog_osa-__codelineno-5-63"></a>  repositoryManagerUrl:
<a id="__codelineno-5-64" name="__codelineno-5-64" href="#osa-jfrog_osa-__codelineno-5-64"></a>
<a id="__codelineno-5-65" name="__codelineno-5-65" href="#osa-jfrog_osa-__codelineno-5-65"></a>  # Delete artifact from the repository if it is blocked by the policies
<a id="__codelineno-5-66" name="__codelineno-5-66" href="#osa-jfrog_osa-__codelineno-5-66"></a>  deleteBlocked: false
<a id="__codelineno-5-67" name="__codelineno-5-67" href="#osa-jfrog_osa-__codelineno-5-67"></a>
<a id="__codelineno-5-68" name="__codelineno-5-68" href="#osa-jfrog_osa-__codelineno-5-68"></a># Settings per repository
<a id="__codelineno-5-69" name="__codelineno-5-69" href="#osa-jfrog_osa-__codelineno-5-69"></a># Example:
<a id="__codelineno-5-70" name="__codelineno-5-70" href="#osa-jfrog_osa-__codelineno-5-70"></a># repositories:
<a id="__codelineno-5-71" name="__codelineno-5-71" href="#osa-jfrog_osa-__codelineno-5-71"></a>#   docker-remote:
<a id="__codelineno-5-72" name="__codelineno-5-72" href="#osa-jfrog_osa-__codelineno-5-72"></a>#   docker-local:
<a id="__codelineno-5-73" name="__codelineno-5-73" href="#osa-jfrog_osa-__codelineno-5-73"></a>#     dockerRegistryUrl: another-jfrog.my.domain
<a id="__codelineno-5-74" name="__codelineno-5-74" href="#osa-jfrog_osa-__codelineno-5-74"></a>#     skipScanUser: codescoring
<a id="__codelineno-5-75" name="__codelineno-5-75" href="#osa-jfrog_osa-__codelineno-5-75"></a>#     workMode: spectator
<a id="__codelineno-5-76" name="__codelineno-5-76" href="#osa-jfrog_osa-__codelineno-5-76"></a>#   pypi-remote:
<a id="__codelineno-5-77" name="__codelineno-5-77" href="#osa-jfrog_osa-__codelineno-5-77"></a>#     workMode: warmup
<a id="__codelineno-5-78" name="__codelineno-5-78" href="#osa-jfrog_osa-__codelineno-5-78"></a>repositories:
<a id="__codelineno-5-79" name="__codelineno-5-79" href="#osa-jfrog_osa-__codelineno-5-79"></a>
<a id="__codelineno-5-80" name="__codelineno-5-80" href="#osa-jfrog_osa-__codelineno-5-80"></a># List of the excluded repositories. Used, if scanAllRepositories=true
<a id="__codelineno-5-81" name="__codelineno-5-81" href="#osa-jfrog_osa-__codelineno-5-81"></a># Example:
<a id="__codelineno-5-82" name="__codelineno-5-82" href="#osa-jfrog_osa-__codelineno-5-82"></a># excludeRepositories:
<a id="__codelineno-5-83" name="__codelineno-5-83" href="#osa-jfrog_osa-__codelineno-5-83"></a>#   - npm-remote
<a id="__codelineno-5-84" name="__codelineno-5-84" href="#osa-jfrog_osa-__codelineno-5-84"></a>#   - maven-local
<a id="__codelineno-5-85" name="__codelineno-5-85" href="#osa-jfrog_osa-__codelineno-5-85"></a>excludeRepositories:
<a id="__codelineno-5-86" name="__codelineno-5-86" href="#osa-jfrog_osa-__codelineno-5-86"></a>
<a id="__codelineno-5-87" name="__codelineno-5-87" href="#osa-jfrog_osa-__codelineno-5-87"></a># List of repository types to scan. Used, if scanAllRepositories=true
<a id="__codelineno-5-88" name="__codelineno-5-88" href="#osa-jfrog_osa-__codelineno-5-88"></a># Supported values are: maven, npm, pypi, nuget, cocoapods, go, gems, debian, yum, alpine, docker, composer, cargo, conda, conan, swift
<a id="__codelineno-5-89" name="__codelineno-5-89" href="#osa-jfrog_osa-__codelineno-5-89"></a># Example:
<a id="__codelineno-5-90" name="__codelineno-5-90" href="#osa-jfrog_osa-__codelineno-5-90"></a># repositoryTypes:
<a id="__codelineno-5-91" name="__codelineno-5-91" href="#osa-jfrog_osa-__codelineno-5-91"></a>#   - npm
<a id="__codelineno-5-92" name="__codelineno-5-92" href="#osa-jfrog_osa-__codelineno-5-92"></a>#   - go
<a id="__codelineno-5-93" name="__codelineno-5-93" href="#osa-jfrog_osa-__codelineno-5-93"></a>repositoryTypes:
</code></pre></div>
<h3 id="osa-jfrog_osa-_5">Описание параметров<a class="headerlink" href="#osa-jfrog_osa-_5" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>disablePlugin</strong> – отключение плагина;</li>
<li><strong>codeScoringAPI</strong> - настройки параметров взаимодействия плагина с платформой CodeScoring;</li>
<li><strong>url</strong> – адрес платформе CodeScoring (обязательно указание протокола);</li>
<li><strong>token</strong> – ключ для авторизации вызовов API (<em>Создается из CodeScoring раздела <code>Profile -&gt; Home</code></em>);</li>
<li><strong>connectionPoolSize</strong> – размер пула соединений с платформой CodeScoring;</li>
<li><strong>timeout</strong> - время ожидания ответа (в секундах). По умолчанию, если CodeScoring API не отвечает в течение 60 секунд, запрос будет отменен;</li>
<li><strong>proxy</strong> - настройки прокси-сервера;<ul>
<li><strong>host</strong> - хост/IP;</li>
<li><strong>port</strong> - порт;</li>
</ul>
</li>
<li><strong>blockedBuildResponseCode</strong> – код ошибки, возвращаемый при срабатывании политик безопасности;</li>
<li><strong>blockOnErrors</strong> - блокирование загрузки компонентов в случае ошибки при взаимодействии с платформой CodeScoring;</li>
<li><strong>scanAllRepositories</strong> - подключение всех поддерживаемых репозиториев за исключением указанных в параметре <strong>excludeRepositories</strong>;</li>
<li><strong>storeScanProperties</strong> - сохранение причины блокировки и отметки о времени сканирования в свойства артефакта;</li>
<li><strong>defaults</strong> – настройки сканирования по умолчанию для всех подключенных репозиториев;</li>
<li><strong>dockerRegistryUrl</strong> – адрес docker registry;</li>
<li><strong>workMode</strong> – режим работы плагина. Условия каждого режима работы описаны в секции ниже;</li>
<li><strong>skipScanUser</strong> – пользователь, для которого пропускается сканирование компонентов. Необходимо для того, чтобы CodeScoring мог самостоятельно забрать компонент для сканирования;</li>
<li><strong>stripRepoNameInDockerImageName</strong> – убирать название репозитория из имени образа. Используется в подходе Repository Path при работе с docker registry. По умолчанию название репозитория добавляется к имени образа;</li>
<li><strong>repositoryManagerUrl</strong> - URL Artifactory. Тот же URL должен быть указан в CodeScoring для применения политик по репозиториям.</li>
<li><strong>deleteBlocked</strong> - удалять заблокированный политиками артефакт;</li>
<li><strong>repositories</strong> – список репозиториев, для которых работает сканирование компонентов. Для каждого репозитория можно отдельно указать параметры, как в параметре <strong>defaults</strong>;</li>
<li><strong>excludeRepositories</strong> - список названий репозиториев, исключенных из обработки плагином.</li>
</ul>
<p><strong>Важно</strong>: для generic и VCS репозиториев обязательно указать один из следующих типов репозитория в поле <a href="https://www.jfrog.com/confluence/display/JFROG/Repository+Management">Internal Description</a>:</p>
<ul>
<li>maven</li>
<li>npm</li>
<li>pypi</li>
<li>nuget</li>
<li>cocoapods</li>
<li>go</li>
<li>gems</li>
<li>debian</li>
<li>yum</li>
<li>alpine</li>
<li>docker</li>
<li>composer</li>
<li>cargo</li>
<li>conda</li>
<li>conan</li>
<li>swift</li>
</ul>
<h3 id="osa-jfrog_osa-_6">Настройка режимов работы<a class="headerlink" href="#osa-jfrog_osa-_6" title="Permanent link">&para;</a></h3>
<p>Режим работы плагина определяется переменной <strong>workMode</strong> в файле <code>codescoring.yaml</code>.</p>
<p>Плагин имеет 6 режимов работы, определяющих строгость проверки компонентов перед загрузкой.</p>
<ul>
<li><strong>off</strong> – сканирование компонентов отключено;</li>
<li><strong>warmup</strong> – загрузка данных в кэш CodeScoring без блокировки компонентов;</li>
<li><strong>spectator</strong> – загрузка данных в кэш CodeScoring без блокировки компонентов, сохранение результатов запросов компонентов на платформе;</li>
<li><strong>moderate</strong> – блокировка компонентов, не прошедших проверку политик. Разрешена загрузка непросканированных компонентов;</li>
<li><strong>strict</strong> – блокировка компонентов, не прошедших проверку политик. Запрещена загрузка непросканированных компонентов;</li>
<li><strong>strict_wait</strong> – блокировка компонентов, не прошедших проверку политик. Ожидание проверки для непросканированных компонентов.</li>
</ul>
<p><strong>Важно</strong>: выбранный режим работы будет влиять на <strong>все</strong> репозитории, указанные в переменной <code>repositories</code>.</p>
<h3 id="osa-jfrog_osa-_7">Настройка логирования<a class="headerlink" href="#osa-jfrog_osa-_7" title="Permanent link">&para;</a></h3>
<p>Файл с настройками логирования находится по пути <code>$JFROG_HOME/artifactory/var/etc/artifactory/logback.xml</code>.</p>
<p>Для настроек логирования событий плагина необходимо добавить в файл <code>logback.xml</code> следующее содержание:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#osa-jfrog_osa-__codelineno-6-1"></a>&lt;appender name=&quot;FILE_CODESCORING&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#osa-jfrog_osa-__codelineno-6-2"></a>    &lt;File&gt;${log.dir}/codescoring.log&lt;/File&gt;
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#osa-jfrog_osa-__codelineno-6-3"></a>    &lt;rollingPolicy class=&quot;org.jfrog.common.logging.logback.rolling.FixedWindowWithDateRollingPolicy&quot;&gt;
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#osa-jfrog_osa-__codelineno-6-4"></a>        &lt;FileNamePattern&gt;${log.dir.archived}/codescoring.%i.log.gz&lt;/FileNamePattern&gt;
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#osa-jfrog_osa-__codelineno-6-5"></a>    &lt;/rollingPolicy&gt;
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#osa-jfrog_osa-__codelineno-6-6"></a>    &lt;triggeringPolicy class=&quot;org.jfrog.common.logging.logback.triggering.SizeAndIntervalTriggeringPolicy&quot;&gt;
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#osa-jfrog_osa-__codelineno-6-7"></a>        &lt;MaxFileSize&gt;25MB&lt;/MaxFileSize&gt;
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#osa-jfrog_osa-__codelineno-6-8"></a>    &lt;/triggeringPolicy&gt;
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#osa-jfrog_osa-__codelineno-6-9"></a>    &lt;encoder&gt;
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#osa-jfrog_osa-__codelineno-6-10"></a>        &lt;charset&gt;UTF-8&lt;/charset&gt;
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#osa-jfrog_osa-__codelineno-6-11"></a>        &lt;pattern&gt;%date{yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS, UTC+3}Z [%-5p] [%-16X{uber-trace-id}] [%-30.30(%c{3}:%L)] [%-20.20thread] - %m%n&lt;/pattern&gt;
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#osa-jfrog_osa-__codelineno-6-12"></a>    &lt;/encoder&gt;
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#osa-jfrog_osa-__codelineno-6-13"></a>&lt;/appender&gt;
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#osa-jfrog_osa-__codelineno-6-14"></a>&lt;logger name=&quot;ru.codescoring&quot; additivity=&quot;false&quot;&gt;
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#osa-jfrog_osa-__codelineno-6-15"></a>    &lt;level value=&quot;debug&quot; /&gt;
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#osa-jfrog_osa-__codelineno-6-16"></a>    &lt;appender-ref ref=&quot;FILE_CODESCORING&quot; /&gt;
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#osa-jfrog_osa-__codelineno-6-17"></a>&lt;/logger&gt;
</code></pre></div>
<h2 id="osa-jfrog_osa-_8">Блокировка компонента<a class="headerlink" href="#osa-jfrog_osa-_8" title="Permanent link">&para;</a></h2>
<p>При блокировании загрузки компонента в консоли пользователя отображается одна из следующих причин блокировки:</p>
<ul>
<li><strong>"The download has been blocked in accordance with the policies configured in CodeScoring"</strong> – блокировка компонента согласно настроенным на платформе политикам;</li>
<li><strong>"The component has not yet been scanned by CodeScoring, it is scheduled to be scanned shortly. The download is blocked according to the plugin settings"</strong> – блокировка непросканированного компонента с последующим запуском сканирования. Используется в режиме <code>strict</code>;</li>
<li><strong>"The download has been blocked due to the failure of the scan of the component in CodeScoring"</strong> – не удалось просканировать компонент;</li>
<li><strong>"The download has been blocked due to the wrong mode of the plugin"</strong> – используется некорректный <a href="#osa-jfrog_osa-_3">режим работы плагина</a>;</li>
<li><strong>"The download has been blocked due to the timeout of the scan of the component in CodeScoring"</strong> – истекло время ожидания сканирования компонента. Используется в режиме <code>strict_wait</code>;</li>
<li><strong>"The download has been blocked, because registry is not configured in CodeScoring"</strong> – отсутствует соответствующий Registry в платформе.</li>
</ul>
<p>Ответ также содержит ссылку на страницу компонента в CodeScoring с информацией о сработавших политиках безопасности и найденных уязвимостях:</p>
<p><img alt="Component page" src="/assets/img/osa/component-page.png" /></p>
<p><strong>Важно</strong>: если компонент не содержит версию, то он не отправляется на анализ в CodeScoring и, соответственно, не блокируется плагином.</p>
<h2 id="osa-jfrog_osa-_9">Работа с системными пакетами<a class="headerlink" href="#osa-jfrog_osa-_9" title="Permanent link">&para;</a></h2>
<h3 id="osa-jfrog_osa-_10">Настройка репозиториев<a class="headerlink" href="#osa-jfrog_osa-_10" title="Permanent link">&para;</a></h3>
<p>Для корректной работы плагина с системными пакетами некоторых экосистем необходимо произвести дополнительные действия.</p>
<h4 id="osa-jfrog_osa-debian">Настройка репозитория Debian<a class="headerlink" href="#osa-jfrog_osa-debian" title="Permanent link">&para;</a></h4>
<p>Для корректного анализа пакетов необходимо указать название (codename) дистрибутива из удалённого репозитория, например "bullseye" для Debian. Это название вписывается в поле <strong>Internal Description</strong>. Оно используется в PURL (Package URL) для повышения точности анализа пакета.</p>
<p>Название должно быть в нижнем регистре и без лишних символов.</p>
<p><img alt="Debian repository settings" src="/assets/img/osa/jfrog_debian_setup.png" /></p>
<p>Список поддерживаемых дистрибутивов Debian:</p>
<ul>
<li><strong>Debian 2.0</strong> – <em>hamm</em></li>
<li><strong>Debian 2.1</strong> – <em>slink</em></li>
<li><strong>Debian 2.2</strong> – <em>potato</em></li>
<li><strong>Debian 3.0</strong> – <em>woody</em></li>
<li><strong>Debian 3.1</strong> – <em>sarge</em></li>
<li><strong>Debian 4</strong> – <em>etch</em></li>
<li><strong>Debian 5</strong> – <em>lenny</em></li>
<li><strong>Debian 6</strong> – <em>squeeze</em></li>
<li><strong>Debian 7</strong> – <em>wheezy</em></li>
<li><strong>Debian 8</strong> – <em>jessie</em></li>
<li><strong>Debian 9</strong> – <em>stretch</em></li>
<li><strong>Debian 10</strong> – <em>buster</em></li>
<li><strong>Debian 11</strong> – <em>bullseye</em></li>
<li><strong>Debian 12</strong> – <em>bookworm</em></li>
<li><strong>Debian 13</strong> – <em>trixie</em></li>
<li><strong>Debian 14</strong> – <em>forky</em></li>
</ul>
<p>Список поддерживаемых дистрибутивов Ubuntu:</p>
<ul>
<li><strong>Ubuntu 4.10</strong> – <em>warty</em></li>
<li><strong>Ubuntu 5.04</strong> – <em>hoary</em></li>
<li><strong>Ubuntu 5.10</strong> – <em>breezy</em></li>
<li><strong>Ubuntu 6.06</strong> – <em>dapper</em></li>
<li><strong>Ubuntu 6.10</strong> – <em>edgy</em></li>
<li><strong>Ubuntu 7.04</strong> – <em>feisty</em></li>
<li><strong>Ubuntu 7.10</strong> – <em>gutsy</em></li>
<li><strong>Ubuntu 8.04</strong> – <em>hardy</em></li>
<li><strong>Ubuntu 8.10</strong> – <em>intrepid</em></li>
<li><strong>Ubuntu 9.04</strong> – <em>jaunty</em></li>
<li><strong>Ubuntu 9.10</strong> – <em>karmic</em></li>
<li><strong>Ubuntu 10.04</strong> – <em>lucid</em></li>
<li><strong>Ubuntu 10.10</strong> – <em>maverick</em></li>
<li><strong>Ubuntu 11.04</strong> – <em>natty</em></li>
<li><strong>Ubuntu 11.10</strong> – <em>oneiric</em></li>
<li><strong>Ubuntu 12.04</strong> – <em>precise</em></li>
<li><strong>Ubuntu 12.10</strong> – <em>quantal</em></li>
<li><strong>Ubuntu 13.04</strong> – <em>raring</em></li>
<li><strong>Ubuntu 13.10</strong> – <em>saucy</em></li>
<li><strong>Ubuntu 14.04</strong> – <em>trusty</em></li>
<li><strong>Ubuntu 14.10</strong> – <em>utopic</em></li>
<li><strong>Ubuntu 15.04</strong> – <em>vivid</em></li>
<li><strong>Ubuntu 15.10</strong> – <em>wily</em></li>
<li><strong>Ubuntu 16.04</strong> – <em>xenial</em></li>
<li><strong>Ubuntu 16.10</strong> – <em>yakkety</em></li>
<li><strong>Ubuntu 17.04</strong> – <em>zesty</em></li>
<li><strong>Ubuntu 17.10</strong> – <em>artful</em></li>
<li><strong>Ubuntu 18.04</strong> – <em>bionic</em></li>
<li><strong>Ubuntu 18.10</strong> – <em>cosmic</em></li>
<li><strong>Ubuntu 19.04</strong> – <em>disco</em></li>
<li><strong>Ubuntu 19.10</strong> – <em>eoan</em></li>
<li><strong>Ubuntu 20.04</strong> – <em>focal</em></li>
<li><strong>Ubuntu 20.10</strong> – <em>groovy</em></li>
<li><strong>Ubuntu 21.04</strong> – <em>hirsute</em></li>
<li><strong>Ubuntu 21.10</strong> – <em>impish</em></li>
<li><strong>Ubuntu 22.04</strong> – <em>jammy</em></li>
<li><strong>Ubuntu 22.10</strong> – <em>kinetic</em></li>
<li><strong>Ubuntu 23.04</strong> – <em>lunar</em></li>
<li><strong>Ubuntu 23.10</strong> – <em>mantic</em></li>
<li><strong>Ubuntu 24.04</strong> – <em>noble</em></li>
<li><strong>Ubuntu 24.10</strong> – <em>oracular</em></li>
<li><strong>Ubuntu 25.04</strong> – <em>plucky</em></li>
<li><strong>Ubuntu 26.04</strong> – <em>resolute</em></li>
</ul>
<h3 id="osa-jfrog_osa-debian_1">Просмотр информации о пакете Debian<a class="headerlink" href="#osa-jfrog_osa-debian_1" title="Permanent link">&para;</a></h3>
<p>Плагин извлекает информацию о пакете из нескольких источников. В первую очередь, он получает название пакета, версию и архитектуру из <strong>Properties</strong> артефакта. Если Properties отсутствуют, данные для PURL парсятся из <strong>Repository Path</strong>.</p>
<p><img alt="Debian package browse" src="/assets/img/osa/jfrog_debian_browse.png" /></p>
<h3 id="osa-jfrog_osa-rpm">Просмотр информации о пакете RPM<a class="headerlink" href="#osa-jfrog_osa-rpm" title="Permanent link">&para;</a></h3>
<p>Для пакетов RPM плагин получает название, версию и архитектуру, анализируя <strong>Repository Path</strong>.</p>
<p><img alt="RPM package browse" src="/assets/img/osa/jfrog_rpm_browse.png" /></p></section><section class="print-page" id="osa-sfera_osa" heading-number="4.3.2.3"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-sfera_osa.en">English</a></li>
</ul>
<h1 id="osa-sfera_osa-_1">Плагин для Сфера.Дистрибутивы и лицензии<a class="headerlink" href="#osa-sfera_osa-_1" title="Permanent link">&para;</a></h1>
<h2 id="osa-sfera_osa-_2">Установка плагина<a class="headerlink" href="#osa-sfera_osa-_2" title="Permanent link">&para;</a></h2>
<p>Плагин поставляется в виде jar-файла.</p>
<p>Для установки плагина в <strong>Сфера</strong> необходимо:</p>
<ol>
<li>Поместить jar-файл плагина и файл конфигурации <code>codescoring.yaml</code> в папку <code>plugins</code>, находящуюся в рабочей директории PPDL приложения.</li>
<li>(<em>Опционально</em>) Для управления включением/отключением плагинов можно создать в папке <code>plugins</code> файлы <code>enabled.txt</code> или <code>disabled.txt</code>.<ul>
<li>В файле должны быть перечислены имена включаемых/отключаемых плагинов.</li>
<li>Логика включения/выключения:<ul>
<li>плагин в <code>disabled.txt</code> - отключен;</li>
<li><code>enabled.txt</code> не пуст и при этом не содержит плагин - отключен;</li>
<li>в остальных случаях плагин включен.</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="osa-sfera_osa-_3">Настройка плагина<a class="headerlink" href="#osa-sfera_osa-_3" title="Permanent link">&para;</a></h2>
<p>Для настройки плагина используется файл <code>codescoring.yaml</code>.</p>
<p>Пример содержания файла:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#osa-sfera_osa-__codelineno-0-1"></a><span class="nt">codeScoringAPI</span><span class="p">:</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#osa-sfera_osa-__codelineno-0-2"></a><span class="w">  </span><span class="c1"># Базовый URL для всех эндпоинтов CodeScoring API.</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#osa-sfera_osa-__codelineno-0-3"></a><span class="w">  </span><span class="c1"># Обязательный параметр.</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#osa-sfera_osa-__codelineno-0-4"></a><span class="w">  </span><span class="c1"># Пример: https://host:port или https://host</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#osa-sfera_osa-__codelineno-0-5"></a><span class="w">  </span><span class="nt">url</span><span class="p">:</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#osa-sfera_osa-__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#osa-sfera_osa-__codelineno-0-7"></a><span class="w">  </span><span class="c1"># Ваш API токен CodeScoring для аутентификации.</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#osa-sfera_osa-__codelineno-0-8"></a><span class="w">  </span><span class="c1"># Обязательный параметр.</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#osa-sfera_osa-__codelineno-0-9"></a><span class="w">  </span><span class="nt">token</span><span class="p">:</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#osa-sfera_osa-__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#osa-sfera_osa-__codelineno-0-11"></a><span class="w">  </span><span class="c1"># Размер пула соединений HTTP-клиента к сервису CodeScoring BE.</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#osa-sfera_osa-__codelineno-0-12"></a><span class="w">  </span><span class="nt">connectionPoolSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#osa-sfera_osa-__codelineno-0-13"></a>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#osa-sfera_osa-__codelineno-0-14"></a><span class="w">  </span><span class="c1"># По умолчанию, если CodeScoring API не ответил в течение 60 секунд, запрос будет отменен.</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#osa-sfera_osa-__codelineno-0-15"></a><span class="w">  </span><span class="c1"># Этот параметр позволяет настроить длительность таймаута в секундах.</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#osa-sfera_osa-__codelineno-0-16"></a><span class="w">  </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#osa-sfera_osa-__codelineno-0-17"></a>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#osa-sfera_osa-__codelineno-0-18"></a><span class="w">  </span><span class="c1"># Если вы используете прокси, необходимо указать Hostname/IP и порт.</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#osa-sfera_osa-__codelineno-0-19"></a><span class="w">  </span><span class="nt">proxy</span><span class="p">:</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#osa-sfera_osa-__codelineno-0-20"></a><span class="w">    </span><span class="nt">host</span><span class="p">:</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#osa-sfera_osa-__codelineno-0-21"></a><span class="w">    </span><span class="nt">port</span><span class="p">:</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#osa-sfera_osa-__codelineno-0-22"></a>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#osa-sfera_osa-__codelineno-0-23"></a><span class="c1"># Если установлено значение &#39;false&#39;, разрешает загрузку артефактов независимо от ошибок CodeScoringAPI или плагина</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#osa-sfera_osa-__codelineno-0-24"></a><span class="nt">blockOnErrors</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#osa-sfera_osa-__codelineno-0-25"></a>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#osa-sfera_osa-__codelineno-0-26"></a><span class="c1"># Если установлено значение &#39;true&#39;, плагин будет сканировать все поддерживаемые репозитории,</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#osa-sfera_osa-__codelineno-0-27"></a><span class="c1"># за исключением указанных в разделе &quot;excludeRepositories&quot;.</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#osa-sfera_osa-__codelineno-0-28"></a><span class="nt">scanAllRepositories</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#osa-sfera_osa-__codelineno-0-29"></a>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#osa-sfera_osa-__codelineno-0-30"></a><span class="c1"># Настройки по умолчанию для всех репозиториев. Могут быть переопределены в настройках конкретных репозиториев (repositories.repo-name)</span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#osa-sfera_osa-__codelineno-0-31"></a><span class="nt">defaults</span><span class="p">:</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#osa-sfera_osa-__codelineno-0-32"></a><span class="w">  </span><span class="nt">dockerRegistryUrl</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">registry.my.domain</span>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#osa-sfera_osa-__codelineno-0-33"></a>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#osa-sfera_osa-__codelineno-0-34"></a><span class="w">  </span><span class="c1"># warmup | Прогрев кэша сканирования без мониторинга запросов, без блокировки</span>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#osa-sfera_osa-__codelineno-0-35"></a><span class="w">  </span><span class="c1"># spectator | Прогрев кэша сканирования с мониторингом запросов, без блокировки</span>
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#osa-sfera_osa-__codelineno-0-36"></a><span class="w">  </span><span class="c1"># moderate | Блокировка на основе политик с использованием результатов кэша, разрешена загрузка непросканированных компонентов</span>
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#osa-sfera_osa-__codelineno-0-37"></a><span class="w">  </span><span class="c1"># strict | Блокировка на основе политик с использованием результатов кэша, загрузка непросканированных компонентов заблокирована</span>
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#osa-sfera_osa-__codelineno-0-38"></a><span class="w">  </span><span class="c1"># strict_wait | Блокировка на основе политик, ожидание завершения сканирования компонента</span>
<a id="__codelineno-0-39" name="__codelineno-0-39" href="#osa-sfera_osa-__codelineno-0-39"></a><span class="w">  </span><span class="c1"># значение по умолчанию — strict_wait, если оно не указано в настройках или в случае опечатки</span>
<a id="__codelineno-0-40" name="__codelineno-0-40" href="#osa-sfera_osa-__codelineno-0-40"></a><span class="w">  </span><span class="nt">workMode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">strict_wait</span>
<a id="__codelineno-0-41" name="__codelineno-0-41" href="#osa-sfera_osa-__codelineno-0-41"></a>
<a id="__codelineno-0-42" name="__codelineno-0-42" href="#osa-sfera_osa-__codelineno-0-42"></a><span class="w">  </span><span class="c1"># Позволяет этому пользователю пропускать сканирование</span>
<a id="__codelineno-0-43" name="__codelineno-0-43" href="#osa-sfera_osa-__codelineno-0-43"></a><span class="w">  </span><span class="nt">skipScanUser</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">codescoring</span>
<a id="__codelineno-0-44" name="__codelineno-0-44" href="#osa-sfera_osa-__codelineno-0-44"></a>
<a id="__codelineno-0-45" name="__codelineno-0-45" href="#osa-sfera_osa-__codelineno-0-45"></a><span class="w">  </span><span class="c1"># URL менеджера репозиториев для применения политик CodeScoring.</span>
<a id="__codelineno-0-46" name="__codelineno-0-46" href="#osa-sfera_osa-__codelineno-0-46"></a><span class="w">  </span><span class="c1"># Значение ДОЛЖНО быть равно Repository Manager URL в CodeScoring</span>
<a id="__codelineno-0-47" name="__codelineno-0-47" href="#osa-sfera_osa-__codelineno-0-47"></a><span class="w">  </span><span class="c1"># Пример: https://sfera.my.domain.ru</span>
<a id="__codelineno-0-48" name="__codelineno-0-48" href="#osa-sfera_osa-__codelineno-0-48"></a><span class="w">  </span><span class="nt">repositoryManagerUrl</span><span class="p">:</span>
<a id="__codelineno-0-49" name="__codelineno-0-49" href="#osa-sfera_osa-__codelineno-0-49"></a>
<a id="__codelineno-0-50" name="__codelineno-0-50" href="#osa-sfera_osa-__codelineno-0-50"></a><span class="c1"># Настройки для конкретных репозиториев</span>
<a id="__codelineno-0-51" name="__codelineno-0-51" href="#osa-sfera_osa-__codelineno-0-51"></a><span class="c1"># Пример:</span>
<a id="__codelineno-0-52" name="__codelineno-0-52" href="#osa-sfera_osa-__codelineno-0-52"></a><span class="c1"># repositories:</span>
<a id="__codelineno-0-53" name="__codelineno-0-53" href="#osa-sfera_osa-__codelineno-0-53"></a><span class="c1">#   docker-remote:</span>
<a id="__codelineno-0-54" name="__codelineno-0-54" href="#osa-sfera_osa-__codelineno-0-54"></a><span class="c1">#   docker-local:</span>
<a id="__codelineno-0-55" name="__codelineno-0-55" href="#osa-sfera_osa-__codelineno-0-55"></a><span class="c1">#     dockerRegistryUrl: another-registry.my.domain</span>
<a id="__codelineno-0-56" name="__codelineno-0-56" href="#osa-sfera_osa-__codelineno-0-56"></a><span class="c1">#     skipScanUser: anotheruser</span>
<a id="__codelineno-0-57" name="__codelineno-0-57" href="#osa-sfera_osa-__codelineno-0-57"></a><span class="c1">#     workMode: spectator</span>
<a id="__codelineno-0-58" name="__codelineno-0-58" href="#osa-sfera_osa-__codelineno-0-58"></a><span class="c1">#   pypi-remote:</span>
<a id="__codelineno-0-59" name="__codelineno-0-59" href="#osa-sfera_osa-__codelineno-0-59"></a><span class="c1">#     workMode: warmup</span>
<a id="__codelineno-0-60" name="__codelineno-0-60" href="#osa-sfera_osa-__codelineno-0-60"></a><span class="nt">repositories</span><span class="p">:</span>
<a id="__codelineno-0-61" name="__codelineno-0-61" href="#osa-sfera_osa-__codelineno-0-61"></a>
<a id="__codelineno-0-62" name="__codelineno-0-62" href="#osa-sfera_osa-__codelineno-0-62"></a><span class="c1"># Список исключенных репозиториев. Используется, если scanAllRepositories=true</span>
<a id="__codelineno-0-63" name="__codelineno-0-63" href="#osa-sfera_osa-__codelineno-0-63"></a><span class="c1"># Пример:</span>
<a id="__codelineno-0-64" name="__codelineno-0-64" href="#osa-sfera_osa-__codelineno-0-64"></a><span class="c1"># excludeRepositories:</span>
<a id="__codelineno-0-65" name="__codelineno-0-65" href="#osa-sfera_osa-__codelineno-0-65"></a><span class="c1">#   - npm-remote</span>
<a id="__codelineno-0-66" name="__codelineno-0-66" href="#osa-sfera_osa-__codelineno-0-66"></a><span class="c1">#   - maven-local</span>
<a id="__codelineno-0-67" name="__codelineno-0-67" href="#osa-sfera_osa-__codelineno-0-67"></a><span class="nt">excludeRepositories</span><span class="p">:</span>
<a id="__codelineno-0-68" name="__codelineno-0-68" href="#osa-sfera_osa-__codelineno-0-68"></a>
<a id="__codelineno-0-69" name="__codelineno-0-69" href="#osa-sfera_osa-__codelineno-0-69"></a><span class="c1"># Список типов репозиториев для сканирования. Используется, если scanAllRepositories=true</span>
<a id="__codelineno-0-70" name="__codelineno-0-70" href="#osa-sfera_osa-__codelineno-0-70"></a><span class="c1"># Поддерживаемые значения: maven, npm, pypi, nuget, go, gems, debian, yum, alpine, docker</span>
<a id="__codelineno-0-71" name="__codelineno-0-71" href="#osa-sfera_osa-__codelineno-0-71"></a><span class="c1"># Пример:</span>
<a id="__codelineno-0-72" name="__codelineno-0-72" href="#osa-sfera_osa-__codelineno-0-72"></a><span class="c1"># repositoryTypes:</span>
<a id="__codelineno-0-73" name="__codelineno-0-73" href="#osa-sfera_osa-__codelineno-0-73"></a><span class="c1">#   - npm</span>
<a id="__codelineno-0-74" name="__codelineno-0-74" href="#osa-sfera_osa-__codelineno-0-74"></a><span class="c1">#   - go</span>
<a id="__codelineno-0-75" name="__codelineno-0-75" href="#osa-sfera_osa-__codelineno-0-75"></a><span class="nt">repositoryTypes</span><span class="p">:</span>
</code></pre></div>
<h3 id="osa-sfera_osa-_4">Описание параметров<a class="headerlink" href="#osa-sfera_osa-_4" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>codeScoringAPI</strong> - настройки параметров взаимодействия плагина с платформой CodeScoring;</li>
<li><strong>url</strong> – адрес платформы CodeScoring (обязательно указание протокола);</li>
<li><strong>token</strong> – ключ для авторизации вызовов API (<em>Создается из CodeScoring раздела <code>Profile -&gt; Home</code></em>);</li>
<li><strong>connectionPoolSize</strong> – размер пула соединений с платформой CodeScoring;</li>
<li><strong>timeout</strong> - время ожидания ответа (в секундах). По умолчанию, если CodeScoring API не отвечает в течение 60 секунд, запрос будет отменен;</li>
<li><strong>proxy</strong> - настройки прокси-сервера;<ul>
<li><strong>host</strong> - хост/IP;</li>
<li><strong>port</strong> - порт;</li>
</ul>
</li>
<li><strong>blockOnErrors</strong> - блокирование загрузки компонентов в случае ошибки при взаимодействии с платформой CodeScoring;</li>
<li><strong>scanAllRepositories</strong> - подключение всех поддерживаемых репозиториев за исключением указанных в параметре <strong>excludeRepositories</strong>;</li>
<li><strong>defaults</strong> – настройки сканирования по умолчанию для всех подключенных репозиториев;</li>
<li><strong>dockerRegistryUrl</strong> – адрес docker registry;</li>
<li><strong>workMode</strong> – режим работы плагина. Условия каждого режима работы описаны в секции ниже;</li>
<li><strong>skipScanUser</strong> – пользователь, для которого пропускается сканирование компонентов. Необходимо для того, чтобы CodeScoring мог самостоятельно забрать компонент для сканирования;</li>
<li><strong>repositoryManagerUrl</strong> - URL Sfera. Тот же URL должен быть указан в CodeScoring для применения политик по репозиториям.</li>
<li><strong>repositories</strong> – список репозиториев, для которых работает сканирование компонентов. Для каждого репозитория можно отдельно указать параметры, как в параметре <strong>defaults</strong>;</li>
<li><strong>excludeRepositories</strong> - список названий репозиториев, исключенных из обработки плагином.</li>
</ul>
<h3 id="osa-sfera_osa-work-mode-configuration">Настройка режимов работы<a class="headerlink" href="#osa-sfera_osa-work-mode-configuration" title="Permanent link">&para;</a></h3>
<p>Режим работы плагина определяется переменной <strong>workMode</strong> в файле <code>codescoring.yaml</code>.</p>
<p>Плагин имеет 6 режимов работы, определяющих строгость проверки компонентов перед загрузкой.</p>
<ul>
<li><strong>warmup</strong> – загрузка данных в кэш CodeScoring без блокировки компонентов;</li>
<li><strong>spectator</strong> – загрузка данных в кэш CodeScoring без блокировки компонентов, сохранение результатов запросов компонентов на платформе;</li>
<li><strong>moderate</strong> – блокировка компонентов, не прошедших проверку политик. Разрешена загрузка непросканированных компонентов;</li>
<li><strong>strict</strong> – блокировка компонентов, не прошедших проверку политик. Запрещена загрузка непросканированных компонентов;</li>
<li><strong>strict_wait</strong> – блокировка компонентов, не прошедших проверку политик. Ожидание проверки для непросканированных компонентов.</li>
</ul>
<p><strong>Важно</strong>: выбранный режим работы будет влиять на <strong>все</strong> репозитории, указанные в переменной <code>repositories</code>.</p>
<h2 id="osa-sfera_osa-_5">Блокировка компонента<a class="headerlink" href="#osa-sfera_osa-_5" title="Permanent link">&para;</a></h2>
<p>При блокировании загрузки компонента в консоли пользователя отображается одна из следующих причин блокировки:</p>
<ul>
<li><strong>"The download has been blocked in accordance with the policies configured in CodeScoring"</strong> – блокировка компонента согласно настроенным на платформе политикам;</li>
<li><strong>"The component has not yet been scanned by CodeScoring, it is scheduled to be scanned shortly. The download is blocked according to the plugin settings"</strong> – блокировка непросканированного компонента с последующим запуском сканирования. Используется в режиме <code>strict</code>;</li>
<li><strong>"The download has been blocked due to the failure of the scan of the component in CodeScoring"</strong> – не удалось просканировать компонент;</li>
<li><strong>"The download has been blocked due to the wrong mode of the plugin"</strong> – используется некорректный <a href="#osa-sfera_osa-work-mode-configuration">режим работы плагина</a>;</li>
<li><strong>"The download has been blocked due to the timeout of the scan of the component in CodeScoring"</strong> – истекло время ожидания сканирования компонента. Используется в режиме <code>strict_wait</code>;</li>
<li><strong>"The download has been blocked, because registry is not configured in CodeScoring"</strong> – отсутствует соответствующий Registry в платформе.</li>
</ul>
<p>Ответ также содержит ссылку на страницу компонента в CodeScoring с информацией о сработавших политиках безопасности и найденных уязвимостях:</p>
<p><img alt="Component page" src="/assets/img/osa/component-page.png" /></p></section><section class="print-page" id="osa-archives" heading-number="4.3.2.4"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-archives.en">English</a></li>
</ul>
<h1 id="osa-archives-_1">Сканирование архивов<a class="headerlink" href="#osa-archives-_1" title="Permanent link">&para;</a></h1>
<p>Плагины CodeScoring.OSA поддерживают сканирование архивов в следующих форматах:</p>
<table>
<thead>
<tr>
<th>Экосистема</th>
<th>Формат архива</th>
</tr>
</thead>
<tbody>
<tr>
<td>Maven</td>
<td><code>.jar</code>, <code>.war</code>, <code>.ear</code></td>
</tr>
<tr>
<td>NPM</td>
<td><code>.tgz</code></td>
</tr>
<tr>
<td>PyPI</td>
<td><code>.zip</code>, <code>.tar</code>, <code>.tgz</code>, <code>.tar,gz</code>, <code>.tar.bz2</code>, <code>.egg</code>, <code>.whl</code></td>
</tr>
<tr>
<td>Nuget</td>
<td><code>.nupkg</code></td>
</tr>
<tr>
<td>Cocoapods</td>
<td><code>.tar.gz</code>, <code>.zip</code></td>
</tr>
<tr>
<td>Go</td>
<td><code>.mod</code>, <code>.zip</code></td>
</tr>
<tr>
<td>Gems</td>
<td><code>.rz</code>, <code>gz</code>  <code>.gem</code></td>
</tr>
<tr>
<td>Debian</td>
<td><code>.deb</code>, <code>.xz</code>, <code>.gz</code></td>
</tr>
<tr>
<td>Yum</td>
<td><code>.rpm</code></td>
</tr>
<tr>
<td>Alpine</td>
<td><code>.apk</code></td>
</tr>
<tr>
<td>Docker</td>
<td><code>.json</code></td>
</tr>
</tbody>
</table></section></section>
                    <section class='print-page md-section' id='section-4-3-3' heading-number='4.3.3'>
                        <h1>Работа с OSA в платформе<a class='headerlink' href='#section-4-3-3' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="osa-repo-managers" heading-number="4.3.3.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-repo-managers.en">English</a></li>
</ul>
<h1 id="osa-repo-managers-_1">Подключение менеджера репозиториев<a class="headerlink" href="#osa-repo-managers-_1" title="Permanent link">&para;</a></h1>
<p>CodeScoring.OSA осуществляет проверку артефактов в менеджерах репозиториев <strong>Sonatype Nexus Repository</strong> и <strong>JFrog Artifactory</strong> через <a href="#osa">плагины OSA</a>. Для более удобной работы с артефактами в платформе можно предварительно настроить подключение к менеджеру репозиториев.</p>
<p>Для добавления нового менеджера репозиториев в платформе необходимо выполнить следующие действия:</p>
<ol>
<li>Перейти в раздел <code>Настройки -&gt; Менеджеры репозиториев</code>.</li>
<li>Нажать на кнопку <strong>Добавить</strong>.</li>
<li>
<p>Заполнить поля в форме:</p>
<ul>
<li><strong>Название</strong> – название в системе CodeScoring;</li>
<li><strong>Тип</strong> – Sonatype Nexus Repository или JFrog Artifactory;</li>
<li><strong>Активно</strong> – признак действующего менеджера репозиториев;</li>
<li><strong>URL</strong> – адрес с указанием протокола. Например: <code>https://jfrog.example.com</code>;</li>
<li><strong>Имя пользователя</strong> – имя пользователя с доступом к менеджеру репозиториев;</li>
<li><strong>Пароль</strong>.</li>
</ul>
</li>
<li>
<p>Проверить подключение после заполнения данных по кнопке <strong>Проверить подключение</strong>.</p>
</li>
</ol>
<p>После создания нового подключения по кнопке <strong>Добавить</strong> менеджер репозиториев отобразится в списке раздела, с возможностью редактирования и удаления.</p>
<p>На странице просмотра можно увидеть список репозиториев со следующими параметрами:</p>
<ul>
<li><strong>Название</strong> – название в рамках менеджера репозиториев;</li>
<li><strong>Тип</strong> – тип репозитория (поддерживаются hosted, proxy и virtual);</li>
<li><strong>Экосистема</strong> – тип содержащихся артефактов (NPM, PyPI и другие);</li>
<li><strong>Активно</strong> – наличие запросов на проверку компонентов за последние 24 часа;</li>
<li><strong>Доступно</strong> – доступность репозитория в API (проверяется раз в час);</li>
<li><strong>Дата последнего запроса</strong> – дата и время последнего запроса на проверку компонентов.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Процесс обновления данных менеджеров репозиториев</p>
<p>На <strong>17-й минуте каждого часа</strong> система выполняет проверку всех подключённых менеджеров репозиториев.
Если подключение успешно, для каждого доступного менеджера выполняется загрузка и обновление списка репозиториев. Альтернативно, список можно обновить вручную.</p>
</div>
<p>Увидеть список пакетов и образов из подключенных репозиториев можно в разделах <code>OSA -&gt; Пакеты</code> и <code>OSA -&gt; Образы контейнеров</code>, а список запросов на проверку в разделе <code>OSA -&gt; Запросы</code>.</p>
<p>В рамках разделов доступна фильтрация по отдельным компонентам или следующим полям:</p>
<ul>
<li><strong>Репозиторий</strong> – репозиторий в рамках хранилища артефактов;</li>
<li><strong>Технология</strong> – язык программирования или операционная система;</li>
<li><strong>Лицензия</strong> – лицензия распространения компонента;</li>
<li><strong>Статус блокировки</strong> – признак заблокированного запроса компонента;</li>
<li><strong>Последний запрос</strong> – даты последнего запроса компонента;</li>
<li><strong>Менеджер репозиториев</strong> – названия подключенного менеджера в CodeScoring;</li>
<li><strong>Экосистема репозитория</strong> – тип хранящихся артефактов (PyPI, NPM и другие);</li>
<li><strong>Содержит уязвимости</strong> – наличие уязвимостей в запрашиваемых компонентах;</li>
<li><strong>Актуальный</strong> – признак обновляемого компонента. Более подробно об этом признаке можно прочитать на странице <a href="#osa-update">Обновление данных о компонентах</a>.</li>
</ul>
<p>Помимо этого, после подключения менеджера появляется возможность <a href="#osa-osa-policies">настроить политики безопасности</a> для отдельных репозиториев.</p></section><section class="print-page" id="osa-registries" heading-number="4.3.3.2"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-registries.en">English</a></li>
</ul>
<h1 id="osa-registries-_1">Подключение реестра контейнерных образов<a class="headerlink" href="#osa-registries-_1" title="Permanent link">&para;</a></h1>
<h2 id="osa-registries-_2">Поддерживаемые реестры контейнерных образов<a class="headerlink" href="#osa-registries-_2" title="Permanent link">&para;</a></h2>
<p>CodeScoring поддерживает интеграцию с реестрами образов в следующих инструментах:</p>
<ul>
<li>Sonatype Nexus Repository;</li>
<li>JFrog Artifactory;</li>
<li>GitLab;</li>
<li>Harbor;</li>
<li>GitFlic;</li>
<li>Иные, использующие протокол Docker Registry V2 API.</li>
</ul>
<h2 id="osa-registries-_3">Механизм загрузки контейнерных образов<a class="headerlink" href="#osa-registries-_3" title="Permanent link">&para;</a></h2>
<p>CodeScoring загружает информацию об образах контейнеров, которые находятся в реестре, следующим образом:</p>
<ol>
<li>Производит листинг названий образов;</li>
<li>Для каждого названия образа, производит листинг тэгов;</li>
<li>Для каждой пары название-тэг запрашивает манифест;</li>
<li>Берёт информацию об архитектуре и sha256 дайджесте из манифеста;</li>
<li>Сохраняет информацию о контейнерных образах, находящихся в ресстре на данный момент.</li>
</ol>
<p><strong>Важно</strong>: CodeScoring считает образом уникальную комбинацию следующих данных:</p>
<ul>
<li>Реестр, из которого загружена информация об образе;</li>
<li>Название образа;</li>
<li>Дайджест sha256 образа.</li>
</ul>
<h2 id="osa-registries-_4">Конфигурирование интеграции с реестром контейнерных образов<a class="headerlink" href="#osa-registries-_4" title="Permanent link">&para;</a></h2>
<p>Для работы с образами необходимо предварительно подключить registry (реестр с образами) в разделе <code>Настройки -&gt; Реестры</code>.</p>
<p>Переход на форму создания нового подключения осуществляется по кнопке <strong>Добавить</strong>. В форме необходимо заполнить следующие поля:</p>
<ul>
<li><strong>Название</strong> – название реестра;</li>
<li><strong>Tип</strong> – тип менеджера репозитория (Sonatype Nexus Repository, JFrog Artifactory, JFrog Artifactory Repository Path или другой);</li>
<li><strong>Активно</strong> – признак действующего реестра. Для недействующих реестров не будет обновляться список доступных образов;</li>
<li><strong>Тип авторизации</strong> – тип авторизации (Basic, Bearer или Auto);</li>
<li><strong>Адрес</strong> – адрес реестра с указанием протокола. Например: <code>https://jfrog.example.com</code>;</li>
<li><strong>Максимальное количество одновременных соединений</strong> - максимальное количество соединений, которые будут одновременно открыты при загрузке информации об образах в реестре;</li>
<li><strong>Максимальное количество соединений в режиме keep-alive</strong> - максимальное количество соединений, которые будут сохранены для дальнейшего переиспользования при загрузке информации об образах в реестре;</li>
<li><strong>Максимальное время жизни соединения в режиме keep-alive, в секундах</strong> - максимальное время в секундах, в течение которого соединение в режиме keep-alive будет существовать для того, чтобы быть переиспользованным при загрузке информации об образах в реестре;</li>
<li><strong>Размер страницы при пагинации</strong> - количество записей, которое будет запрашиваться во время пагинированного листинга сущностей в реестре;</li>
<li><strong>Таймаут подключения, в секундах</strong> - сколько секунд система будет ожидать создания соединения перед тем, как произойдёт ошибка;</li>
<li><strong>Таймаут получения соединения из пула, в секундах</strong> - сколько секунд система будет ожидать получиния соединения из пула соединений. Это ожидание часто происходит, когда настроено существенное ограничение RPS или количества одновременных соединений, поэтому, в этих случаях необходимо выставлять высокое значение;</li>
<li><strong>Таймаут на чтение, в секундах</strong> - сколько секунд система будет ожидать записи в соединение перед тем, как произойдёт ошибка;</li>
<li><strong>Таймаут на запись, в секундах</strong> - сколько секунд система будет ожидать чтения из соединения перед тем, как произойдёт ошибка;</li>
<li><strong>Максимальное количество запросов в секунду</strong> - ограничение на максимальное количества запросов в секунду при загрузке информации об образах в реестре;</li>
<li><strong>Пропустить проверку TLS?</strong> – пропустить проверку сертификатов для TLS/SSL соединений;</li>
<li><strong>Имя пользователя</strong> – имя пользователя с доступом к реестру;</li>
<li><strong>Пароль</strong> – пароль для доступа к реестру;</li>
<li><strong>Загрузить полный список образов?</strong> - регулярно выгружать из реестра данные о присутствующих образах;</li>
<li><strong>Репозитории для загрузки</strong> - репозитории, из которых будут загружаться образы (доступно для типа менеджера JFrog Artifactory Repository Path).</li>
</ul>
<p><strong>Важные заметки об интеграции с реестром, реализуемом GitLab</strong>:</p>
<ul>
<li>при подключении GitLab Container Registry необходимо выбрать тип авторизации <strong>Bearer</strong>;</li>
<li>Согласно <a href="https://docs.gitlab.com/api/container_registry/#listing-all-container-repositories">Документации GitLab</a>,
  листинг всех названий образов на эндпоинте <code>/v2/_catalog/</code> требует данных об администраторской УЗ.</li>
</ul>
<p>Проверить подключение после заполнения данных можно по кнопке <strong>Проверить подключение</strong>.</p>
<h2 id="osa-registries-_5">Просмотр информации об интеграции<a class="headerlink" href="#osa-registries-_5" title="Permanent link">&para;</a></h2>
<p>После создания нового подключения по кнопке <strong>Добавить</strong> реестр отобразится в списке раздела, с возможностью просмотреть
информацию о нем (<strong>Просмотр</strong>), изменить параметры подключения (<strong>Редактировать</strong>), или удалить подключение (<strong>Удалить
</strong>).</p>
<p>Для обновления списка доступных образов необходимо нажать на кнопку <strong>Обновить списки образов</strong> на странице просмотра.
Также на странице просмотра доступна проверка подключения по кнопке <strong>Обновить статус</strong>.</p></section><section class="print-page" id="osa-osa-policies" heading-number="4.3.3.3"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-osa-policies.en">English</a></li>
</ul>
<h1 id="osa-osa-policies-osa">Настройка политик OSA<a class="headerlink" href="#osa-osa-policies-osa" title="Permanent link">&para;</a></h1>
<p>Для принятия решения о блокировании или разрешении загрузки компонентов плагин использует механизм <a href="#on-premise-how-to-policies">политик CodeScoring</a>.</p>
<p>Для того чтобы политика применялась при вызове от плагина, необходимо задать следующие настройки выбранной политики в разделе <code>Policies</code>:</p>
<ul>
<li><strong>Этапы</strong> – указать значение <strong>proxy</strong>;</li>
<li>установить признак <strong>Блокер</strong>;</li>
<li>установить признак <strong>Активно</strong>.</li>
</ul>
<p>Помимо этого, можно уточнить область применения политики по двум параметрам:</p>
<ul>
<li><strong>Компоненты OSA</strong> – тип компонентов, на которые будет распространяться политика (пакеты или контейнерные образы);</li>
<li><strong>Репозиториев</strong> – список репозиториев в рамках хранилища артефактов.</li>
</ul>
<p><strong>Важно</strong>: для выбора репозитория необходимо сперва <a href="#osa-repo-managers">подключить менеджер репозиториев</a> в платформе.</p>
<p><img alt="Policy settings example" src="/assets/img/osa/policy_settings_example.png" /></p></section><section class="print-page" id="osa-components" heading-number="4.3.3.4"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-components.en">English</a></li>
</ul>
<h1 id="osa-components-osa">Работа с компонентами OSA в платформе<a class="headerlink" href="#osa-components-osa" title="Permanent link">&para;</a></h1>
<p>Компоненты, которые прошли проверку плагином, отображаются в разделе <code>OSA</code> интерфейса CodeScoring.</p>
<h2 id="osa-components-_1">Просмотр списка пакетов<a class="headerlink" href="#osa-components-_1" title="Permanent link">&para;</a></h2>
<p>Список просканированных пакетов можно посмотреть в подразделе <code>OSA -&gt; Пакеты</code>. Таблица в данном разделе содержит <strong>все</strong> пакеты, которые проходили проверку за время работы OSA плагина, со следующей информацией:</p>
<ul>
<li><strong>Пакет</strong> – название пакета (со ссылкой на его индивидуальную страницу);</li>
<li><strong>Технология</strong> – технология (язык программирования или инструмент сборки);</li>
<li><strong>Лицензии</strong> – лицензии;</li>
<li><strong>Авторы</strong> – авторы;</li>
<li><strong>Уязвимости</strong> – количество найденных уязвимостей в пакете;</li>
<li><strong>Статус блокировки</strong> – статус блокировки компонента на момент последнего запроса;</li>
<li><strong>Дата выпуска</strong> – дата публикации пакета в свободном доступе;</li>
<li><strong>Последний запрос</strong> – дата и время последнего запроса пакета.</li>
</ul>
<p>Таблицу с пакетами можно отфильтровать по технологии, лицензии, статусу блокировки или времени последнего запроса компонента.</p>
<p>По нажатию на название пакета осуществляется переход на его индивидуальную страницу, где отображается информация о найденных уязвимостях и сработавших политиках.</p>
<h2 id="osa-components-_2">Просмотр списка контейнерных образов<a class="headerlink" href="#osa-components-_2" title="Permanent link">&para;</a></h2>
<p>Контейнерные образы отображаются в подразделе <code>OSA -&gt; Образы контейнеров</code> после подключения соответствующего <a href="#osa-registries">реестра</a>. Каждая запись в списке содержит следующую информацию:</p>
<ul>
<li><strong>Название</strong> – название образа;</li>
<li><strong>Реестр контейнеров</strong> – название реестра, в котором содержится образ;</li>
<li><strong>Зависимости</strong> – количество найденных зависимостей;</li>
<li><strong>Уязвимости</strong> - количество найденных уязвимостей;</li>
<li><strong>Статус сканирования</strong> – статус сканирования образа;</li>
<li><strong>Статус блокировки</strong> – статус блокировки компонента на момент последнего запроса (для репозиториев с плагином OSA);</li>
<li><strong>Последнее сканирование</strong> – дата и время последнего сканирования;</li>
<li><strong>Последний запрос</strong> – дата и время последнего запроса.</li>
</ul>
<p>Таблицу с образами можно отфильтровать по названию реестра, а также статусу сканирования и блокировки.</p>
<p>По умолчанию добавленный образ не является просканированным. Для проведения анализа необходимо перейти на страницу образа и нажать на кнопку <strong>Запустить SCA</strong>. По результатам сканирования на странице образа появится информация о найденных зависимостях и уязвимостях, а также список сработавших политик безопасности.</p>
<p>Для образа доступно скачивание SBOM и PDF-отчета по данным последнего успешного сканирования.</p>
<h2 id="osa-components-_3">Просмотр запросов компонентов<a class="headerlink" href="#osa-components-_3" title="Permanent link">&para;</a></h2>
<p>Список запросов компонентов из прокси-репозиториев с подключенным плагином можно посмотреть в подразделе <code>OSA -&gt; Запросы</code>.</p>
<p>Запросы пакетов отображаются на вкладке <strong>Пакеты</strong> и по умолчанию содержат следующую информацию:</p>
<ul>
<li><strong>Пакет</strong> – название пакета (со ссылкой на его индивидуальную страницу);</li>
<li><strong>Технология</strong> – технология;</li>
<li><strong>Режим плагина</strong> – <a href="#osa-nexus_osa-_3">режим работы плагина</a>;</li>
<li><strong>Статус блокировки</strong> – статус блокировки;</li>
<li><strong>Дата запроса</strong> – дата и время запроса;</li>
<li><strong>Инициатор запроса</strong> - имя инициатора запроса в менеджере репозиториев.</li>
</ul>
<p>Запросы контейнерных образов отображаются на вкладке <strong>Образы контейнеров</strong> и по умолчанию содержат следующую информацию:</p>
<ul>
<li><strong>Контейнерный образ</strong> – название образа (со ссылкой на его индивидуальную страницу);</li>
<li><strong>Реестр</strong> – название реестра, в котором содержится образ;</li>
<li><strong>Режим плагина</strong> – <a href="#osa-nexus_osa-_3">режим работы плагина</a>;</li>
<li><strong>Статус блокировки</strong> – статус блокировки;</li>
<li><strong>Дата запроса</strong> – дата и время запроса;</li>
<li><strong>Инициатор запроса</strong> - имя инициатора запроса в менеджере репозиториев.</li>
</ul>
<p>Также для обеих таблиц можно отобразить колонки <strong>Пользователь CodeScoring</strong> (пользователь CodeScoring, настроенный в плагине OSA) и <strong>Запрашиваемый PURL</strong> (идентификатор запрашиваемого компонента).</p></section><section class="print-page" id="osa-update" heading-number="4.3.3.5"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-update.en">English</a></li>
</ul>
<h1 id="osa-update-_1">Обновление данных о компонентах<a class="headerlink" href="#osa-update-_1" title="Permanent link">&para;</a></h1>
<p>CodeScoring.OSA автоматически в фоне обновляет информацию о ранее запрошенных компонентах для обеспечения актуальности данных и должного уровня быстродействия.</p>
<h2 id="osa-update-_2">Механизм обновления<a class="headerlink" href="#osa-update-_2" title="Permanent link">&para;</a></h2>
<p>Пакеты и образы, которые запрашивались хотя бы один раз за последние 14 дней, считаются актуальными, срок можно поменять в настройках. Система обновляет по таким пакетам данные каждые 2 часа, включая сведения по уязвимостям, лицензиям и мета-информацию по пакетам.</p>
<p>Если компонент не запрашивался в течение 14 дней, он автоматически переводится в статус <strong>архивного</strong>. Такие компоненты больше не обновляются до следующего запроса.</p>
<h2 id="osa-update-_3">Архивирование и удаление компонентов<a class="headerlink" href="#osa-update-_3" title="Permanent link">&para;</a></h2>
<p>По умолчанию данные об архивных компонентах сохраняются в системе, однако возможно включить их автоматическое удаление. Это поведение регулируется параметрами в конфигурации приложения (файл <code>app.env</code>):</p>
<ul>
<li><code>OSA_ARCHIVE_THRESHOLD_DAYS</code> — через сколько дней без запросов компонент считается архивным (по умолчанию: <code>14</code>);</li>
<li><code>OSA_ARCHIVE_AUTO_CLEANUP_ENABLED</code> — включение удаления данных об архивных компонентов (по умолчанию: <code>False</code>);</li>
<li><code>OSA_ARCHIVE_RETENTION_PERIOD_DAYS</code> — срок хранения данных об архивных компонентов перед удалением (по умолчанию: <code>30</code>);</li>
<li><code>OSA_ARCHIVE_CHUNK_SIZE</code> — размер порции для пакетной обработки компонентов при архивации и удалении (по умолчанию: <code>1000</code>).</li>
</ul>
<h2 id="osa-update-_4">Фильтрация по актуальности<a class="headerlink" href="#osa-update-_4" title="Permanent link">&para;</a></h2>
<p>В разделах <code>OSA → Пакеты</code>, <code>OSA → Образы</code> и Алерты доступен фильтр <strong>Актуальный</strong>, позволяющий управлять отображением компонентов:</p>
<ul>
<li><strong>Да</strong> — отображаются только актуальные (обновляемые) компоненты;</li>
<li><strong>Нет</strong> — отображаются только архивные (не обновляемые) компоненты.</li>
</ul>
<p>По умолчанию отображаются все компоненты.</p></section></section>
                    <section class='print-page md-section' id='section-4-3-4' heading-number='4.3.4'>
                        <h1>Сервис OSA Proxy<a class='headerlink' href='#section-4-3-4' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="osa-proxy" heading-number="4.3.4.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-proxy-index.en">English</a></li>
</ul>
<h1 id="osa-proxy-_1">Общее описание<a class="headerlink" href="#osa-proxy-_1" title="Permanent link">&para;</a></h1>
<p><strong>OSA Proxy</strong> (repo-manager-proxy) — это прокси-сервис, выступающий посредником между пакетными менеджерами и их удалёнными репозиториями. Он интегрируется с платформой CodeScoring и обеспечивает автоматическое сканирование загружаемых компонентов и блокировку небезопасных пакетов в соответствии с политиками безопасности.</p>
<p>Сервис перехватывает запросы, выполняемые пакетными менеджерами, отправляет их в исходные репозитории, анализирует полученные пакеты, модифицирует ответы и управляет доступом к компонентам.</p>
<p>В основе сервиса используется асинхронная модель обработки и механизм автоматических повторов при временных ошибках.</p>
<h2 id="osa-proxy-_2">Поддерживаемые пакетные менеджеры<a class="headerlink" href="#osa-proxy-_2" title="Permanent link">&para;</a></h2>
<p>OSA Proxy обрабатывает запросы к следующим репозиториям:</p>
<ul>
<li>Maven Central (<code>https://repo1.maven.org/maven2</code>)</li>
<li>NPM Registry (<code>https://registry.npmjs.org</code>)</li>
<li>PyPI (<code>https://pypi.org</code>)</li>
<li>NuGet V3 (<code>https://api.nuget.org</code>)</li>
<li>Go (<code>https://proxy.golang.org/</code>)</li>
<li>Debian (<code>https://ports.ubuntu.com/ubuntu-ports</code>)</li>
<li>Alpine/APK (<code>https://dl-cdn.alpinelinux.org/alpine</code>)</li>
<li>RPM (<code>https://repo.almalinux.org/almalinux</code>)</li>
<li>Docker Registry (<code>https://registry-1.docker.io</code>)</li>
</ul>
<div class="admonition важно">
<p class="admonition-title">Поддержка альтернативных репозиториев</p>
<p>Сервис также поддерживает  альтернативные репозитории, реализующие официальные спецификации соответствующего пакетного менеджера (например Nexus Repository и JFrog Artifactory).</p>
</div>
<h2 id="osa-proxy-_3">Основные возможности<a class="headerlink" href="#osa-proxy-_3" title="Permanent link">&para;</a></h2>
<h3 id="osa-proxy-_4">Сканирование пакетов<a class="headerlink" href="#osa-proxy-_4" title="Permanent link">&para;</a></h3>
<p>Для каждой экосистемы реализованы два уровня сканирования:</p>
<ul>
<li><strong>Сканирование манифестов</strong> — анализ и исключение заблокированных политиками безопасности версий из манифеста</li>
<li><strong>Сканирование пакетов</strong> — анализ загружаемых файлов пакета</li>
</ul>
<h3 id="osa-proxy-_5">Блокировка небезопасных компонентов<a class="headerlink" href="#osa-proxy-_5" title="Permanent link">&para;</a></h3>
<p>Если компонент нарушает правила политики безопасности:</p>
<ul>
<li>небезопасные версии исключаются из списка доступных в манифесте;</li>
<li>скачивание соответствующих архивов блокируется;</li>
<li>возвращается настраиваемый код состояния с сообщением о причине блокировки.</li>
</ul>
<h3 id="osa-proxy-_6">Модификация ответов<a class="headerlink" href="#osa-proxy-_6" title="Permanent link">&para;</a></h3>
<p>OSA Proxy автоматически модифицирует ответы от оригинальных репозиториев:</p>
<ul>
<li>перенаправляет все URL;</li>
<li>удаляет заблокированные версии из метаданных;</li>
<li>пересчитывает контрольные суммы изменённых манифестов, чтобы сохранить корректность формата.</li>
</ul>
<h3 id="osa-proxy-_7">Кэширование результатов проверки политик<a class="headerlink" href="#osa-proxy-_7" title="Permanent link">&para;</a></h3>
<p>Для ускорения обработки запросов и снижения нагрузки на платформу поддерживается кэширование результатов проверки политик (вердиктов <a href="#on-premise-containers-description">сервиса Judge</a> в Redis. Поддерживается фоновое обновление устаревших записей.</p>
<h2 id="osa-proxy-_8">Режимы работы<a class="headerlink" href="#osa-proxy-_8" title="Permanent link">&para;</a></h2>
<p>Поведение сканирования пакетов регулируется параметром <code>work-mode</code>. В зависимости от выбранного значения меняется логика обработки сканирования, ожидания и блокировки. Поддерживаются следующие режимы:</p>
<ul>
<li><code>warmup</code> – загрузка данных в кэш CodeScoring без блокировки компонентов;</li>
<li><code>spectator</code> – загрузка данных в кэш CodeScoring без блокировки компонентов, сохранение результатов запросов компонентов в платформе;</li>
<li><code>moderate</code> – блокировка компонентов, не прошедших проверку политик. Разрешена загрузка непросканированных компонентов;</li>
<li><code>strict</code> – блокировка компонентов, не прошедших проверку политик. Запрещена загрузка непросканированных компонентов;</li>
<li><code>strict_wait</code> – блокировка компонентов, не прошедших проверку политик. Ожидание проверки для непросканированных компонентов.</li>
</ul></section><section class="print-page" id="osa-proxy-installation" heading-number="4.3.4.2"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-proxy-installation.en">English</a></li>
</ul>
<h1 id="osa-proxy-installation-_1">Развертывание<a class="headerlink" href="#osa-proxy-installation-_1" title="Permanent link">&para;</a></h1>
<p>После настройки файла <code>application.yml</code> приложение может быть либо развернуто и выполнено в среде контейнера Docker, либо оркестрировано с помощью Helm-чарта в Kubernetes.</p>
<h2 id="osa-proxy-installation-docker">Развертывание в контейнере Docker<a class="headerlink" href="#osa-proxy-installation-docker" title="Permanent link">&para;</a></h2>
<p>Чтобы запустить приложение как контейнер Docker, выполните следующую команду:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#osa-proxy-installation-__codelineno-0-1"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#osa-proxy-installation-__codelineno-0-2"></a>-p<span class="w"> </span><span class="m">8080</span>:8080<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#osa-proxy-installation-__codelineno-0-3"></a>-e<span class="w"> </span><span class="nv">SPRING_CONFIG_ADDITIONAL_LOCATION</span><span class="o">=</span>file:/app/config/<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#osa-proxy-installation-__codelineno-0-4"></a>-v<span class="w"> </span>/path/to/your/config/application.yml:/app/config/application.yml<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#osa-proxy-installation-__codelineno-0-5"></a>--name<span class="w"> </span>cs-proxy<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#osa-proxy-installation-__codelineno-0-6"></a>&lt;registry-address&gt;/cs-proxy:&lt;tag&gt;
</code></pre></div>
<h2 id="osa-proxy-installation-kubernetes-helm-chart">Развертывание в Kubernetes (Helm Chart)<a class="headerlink" href="#osa-proxy-installation-kubernetes-helm-chart" title="Permanent link">&para;</a></h2>
<p>Для сред Kubernetes приложение может быть развернуто с использованием предоставленного Helm-чарта, доступного по адресу <code>https://{REGISTRY_URL}/repository/helm</code>.</p>
<p><strong>Порядок установки:</strong></p>
<ol>
<li>
<p>Создать namespace.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#osa-proxy-installation-__codelineno-1-1"></a>kubectl create namespace cs-proxy
</code></pre></div>
</li>
<li>
<p>Создать secret для доступа к приватному реестру Docker-образов, используя адрес (<code>REGISTRY_URL</code>), логин (<code>USERNAME</code>) и пароль (<code>PASSWORD</code>), полученные от вендора.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#osa-proxy-installation-__codelineno-2-1"></a>kubectl create secret docker-registry codescoring-regcred --docker-server=REGISTRY_URL --docker-username=USERNAME --docker-password=PASSWORD -n cs-proxy
</code></pre></div>
</li>
<li>
<p>Установить <a href="https://helm.sh/docs/intro/install/">Helm</a> предпочтительным способом.</p>
</li>
<li>
<p>Выполнить следующие команды для добавления актуального Helm-репозитория на локальную машину:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#osa-proxy-installation-__codelineno-3-1"></a>helm repo add codescoring-org https://{REGISTRY_URL}/repository/helm/ --username USERNAME --password PASSWORD
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#osa-proxy-installation-__codelineno-3-2"></a>helm repo update
</code></pre></div>
</li>
<li>
<p>Создать файл <code>values.yaml</code> со следующим содержимым:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#osa-proxy-installation-__codelineno-4-1"></a>env:
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#osa-proxy-installation-__codelineno-4-2"></a>  javaOpts: &quot;-Xmx4g&quot; # Опционально: настройка параметров JVM
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#osa-proxy-installation-__codelineno-4-3"></a>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#osa-proxy-installation-__codelineno-4-4"></a>config: |
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#osa-proxy-installation-__codelineno-4-5"></a>  # Данное поле необходимо заполнить текстом конфигурационного файла application.yml
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#osa-proxy-installation-__codelineno-4-6"></a>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#osa-proxy-installation-__codelineno-4-7"></a># Существует возможность создания ресурса Ingress
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#osa-proxy-installation-__codelineno-4-8"></a>ingress:
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#osa-proxy-installation-__codelineno-4-9"></a>  enabled: true
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#osa-proxy-installation-__codelineno-4-10"></a>  className: &quot;&quot;
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#osa-proxy-installation-__codelineno-4-11"></a>  annotations: {}
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#osa-proxy-installation-__codelineno-4-12"></a>  hosts:
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#osa-proxy-installation-__codelineno-4-13"></a>    - host: cs-proxy.example.com
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#osa-proxy-installation-__codelineno-4-14"></a>      paths:
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#osa-proxy-installation-__codelineno-4-15"></a>        - path: /
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#osa-proxy-installation-__codelineno-4-16"></a>          pathType: Prefix
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#osa-proxy-installation-__codelineno-4-17"></a>          backend:
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#osa-proxy-installation-__codelineno-4-18"></a>            service:
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#osa-proxy-installation-__codelineno-4-19"></a>              name: cs-proxy
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#osa-proxy-installation-__codelineno-4-20"></a>              port:
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#osa-proxy-installation-__codelineno-4-21"></a>                number: 8080
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#osa-proxy-installation-__codelineno-4-22"></a>  tls:
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#osa-proxy-installation-__codelineno-4-23"></a>    - secretName: cs-proxy-tls
<a id="__codelineno-4-24" name="__codelineno-4-24" href="#osa-proxy-installation-__codelineno-4-24"></a>      hosts:
<a id="__codelineno-4-25" name="__codelineno-4-25" href="#osa-proxy-installation-__codelineno-4-25"></a>        - cs-proxy.example.com
</code></pre></div>
</li>
<li>
<p>Выполнить команду для установки чарта
    <div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#osa-proxy-installation-__codelineno-5-1"></a>helm install cs-proxy codescoring-org/cs-proxy -n cs-proxy -f values.yaml --create-namespace --atomic --version CHART_VERSION
</code></pre></div></p>
</li>
</ol></section><section class="print-page" id="osa-proxy-config" heading-number="4.3.4.3"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-proxy-config.en">English</a></li>
</ul>
<h1 id="osa-proxy-config-_1">Настройка сервиса<a class="headerlink" href="#osa-proxy-config-_1" title="Permanent link">&para;</a></h1>
<h2 id="osa-proxy-config-_2">Основные параметры<a class="headerlink" href="#osa-proxy-config-_2" title="Permanent link">&para;</a></h2>
<p>Конфигурация <strong>OSA Proxy</strong> осуществляется через файл <code>application.yml</code>:</p>
<div class="admonition example">
<p class="admonition-title">Пример конфигурационного файла</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#osa-proxy-config-__codelineno-0-1"></a><span class="c1"># Параметры CodeScoring</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#osa-proxy-config-__codelineno-0-2"></a><span class="nt">codescoring</span><span class="p">:</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#osa-proxy-config-__codelineno-0-3"></a><span class="w">  </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">URL-адрес сервера CodeScoring</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#osa-proxy-config-__codelineno-0-4"></a><span class="w">  </span><span class="nt">token</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">токен авторизации (с уровнем доступа User и выше)</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#osa-proxy-config-__codelineno-0-5"></a><span class="w">  </span><span class="nt">work-mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">рабочий режим (применяется только к сканированию пакетов)</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#osa-proxy-config-__codelineno-0-6"></a><span class="w">              </span><span class="l l-Scalar l-Scalar-Plain"># warmup | Разогрев кэша сканирования без мониторинга запросов, без блокировки</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#osa-proxy-config-__codelineno-0-7"></a><span class="w">              </span><span class="l l-Scalar l-Scalar-Plain"># spectator | Разогрев кэша сканирования с мониторингом запросов, без блокировки</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#osa-proxy-config-__codelineno-0-8"></a><span class="w">              </span><span class="l l-Scalar l-Scalar-Plain"># moderate | Блокировка на основе политик с использованием результатов кэша, загрузка непроверенных компонентов разрешена</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#osa-proxy-config-__codelineno-0-9"></a><span class="w">              </span><span class="l l-Scalar l-Scalar-Plain"># strict | Блокировка на основе политик с использованием результатов кэша, загрузка непроверенных компонентов заблокирована</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#osa-proxy-config-__codelineno-0-10"></a><span class="w">              </span><span class="l l-Scalar l-Scalar-Plain"># strict_wait | Блокировка на основе политик, ожидание, пока компонент не будет отсканирован</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#osa-proxy-config-__codelineno-0-11"></a><span class="w">  </span><span class="nt">proxy-manager-host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">хост прокси-сервера</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#osa-proxy-config-__codelineno-0-12"></a><span class="w">  </span><span class="nt">enable-status-line</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true/false (добавляет сообщение о причине блокировки в строку состояния)</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#osa-proxy-config-__codelineno-0-13"></a><span class="w">  </span><span class="nt">block-status-code</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">статус код для блокировки загрузки пакетов</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#osa-proxy-config-__codelineno-0-14"></a><span class="w">  </span><span class="nt">block-on-codescoring-errors</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">блокирует загрузку пакета при 5xx status, ошибках сканирования (scan_failed)</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#osa-proxy-config-__codelineno-0-15"></a><span class="w">  </span><span class="nt">override-block-url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true/false (заменяет URL в ссылке на причину блокировки на указанный в codescoring.host)</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#osa-proxy-config-__codelineno-0-16"></a><span class="c1"># Настройки PyPI</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#osa-proxy-config-__codelineno-0-17"></a><span class="nt">pypi</span><span class="p">:</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#osa-proxy-config-__codelineno-0-18"></a><span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#osa-proxy-config-__codelineno-0-19"></a><span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#osa-proxy-config-__codelineno-0-20"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">internet-pypi</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#osa-proxy-config-__codelineno-0-21"></a><span class="w">      </span><span class="nt">scan-manifest</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#osa-proxy-config-__codelineno-0-22"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#osa-proxy-config-__codelineno-0-23"></a><span class="w">      </span><span class="nt">url-encoded-config</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#osa-proxy-config-__codelineno-0-24"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://pypi.org</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#osa-proxy-config-__codelineno-0-25"></a><span class="w">      </span><span class="nt">packages-registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://files.pythonhosted.org</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#osa-proxy-config-__codelineno-0-26"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arti-pypi</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#osa-proxy-config-__codelineno-0-27"></a><span class="w">      </span><span class="nt">scan-manifest</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#osa-proxy-config-__codelineno-0-28"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#osa-proxy-config-__codelineno-0-29"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://localhost:8081/artifactory/api/pypi/pypi-remote</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#osa-proxy-config-__codelineno-0-30"></a><span class="w">      </span><span class="nt">packages-registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://localhost:8081/artifactory/api/pypi/pypi-remote/packages</span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#osa-proxy-config-__codelineno-0-31"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nexus-pypi</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#osa-proxy-config-__codelineno-0-32"></a><span class="w">      </span><span class="nt">scan-manifest</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#osa-proxy-config-__codelineno-0-33"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#osa-proxy-config-__codelineno-0-34"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://localhost:8081/repository/pypi-proxy</span>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#osa-proxy-config-__codelineno-0-35"></a><span class="w">      </span><span class="nt">packages-registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://localhost:8081/repository/pypi-proxy/packages</span>
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#osa-proxy-config-__codelineno-0-36"></a><span class="c1"># Настройки Maven</span>
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#osa-proxy-config-__codelineno-0-37"></a><span class="nt">maven</span><span class="p">:</span>
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#osa-proxy-config-__codelineno-0-38"></a><span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-39" name="__codelineno-0-39" href="#osa-proxy-config-__codelineno-0-39"></a><span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<a id="__codelineno-0-40" name="__codelineno-0-40" href="#osa-proxy-config-__codelineno-0-40"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">internet-mvn</span>
<a id="__codelineno-0-41" name="__codelineno-0-41" href="#osa-proxy-config-__codelineno-0-41"></a><span class="w">      </span><span class="nt">scan-manifest</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-42" name="__codelineno-0-42" href="#osa-proxy-config-__codelineno-0-42"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-43" name="__codelineno-0-43" href="#osa-proxy-config-__codelineno-0-43"></a><span class="w">      </span><span class="nt">url-encoded-config</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-44" name="__codelineno-0-44" href="#osa-proxy-config-__codelineno-0-44"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://repo1.maven.org/maven2</span>
<a id="__codelineno-0-45" name="__codelineno-0-45" href="#osa-proxy-config-__codelineno-0-45"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arti-mvn</span>
<a id="__codelineno-0-46" name="__codelineno-0-46" href="#osa-proxy-config-__codelineno-0-46"></a><span class="w">      </span><span class="nt">scan-manifest</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-47" name="__codelineno-0-47" href="#osa-proxy-config-__codelineno-0-47"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-48" name="__codelineno-0-48" href="#osa-proxy-config-__codelineno-0-48"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://localhost:8081/artifactory/maven-remote</span>
<a id="__codelineno-0-49" name="__codelineno-0-49" href="#osa-proxy-config-__codelineno-0-49"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nexus-mvn</span>
<a id="__codelineno-0-50" name="__codelineno-0-50" href="#osa-proxy-config-__codelineno-0-50"></a><span class="w">      </span><span class="nt">scan-manifest</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-51" name="__codelineno-0-51" href="#osa-proxy-config-__codelineno-0-51"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-52" name="__codelineno-0-52" href="#osa-proxy-config-__codelineno-0-52"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://localhost:8081/repository/maven-proxy</span>
<a id="__codelineno-0-53" name="__codelineno-0-53" href="#osa-proxy-config-__codelineno-0-53"></a><span class="c1"># Настройки NPM</span>
<a id="__codelineno-0-54" name="__codelineno-0-54" href="#osa-proxy-config-__codelineno-0-54"></a><span class="nt">npm</span><span class="p">:</span>
<a id="__codelineno-0-55" name="__codelineno-0-55" href="#osa-proxy-config-__codelineno-0-55"></a><span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-56" name="__codelineno-0-56" href="#osa-proxy-config-__codelineno-0-56"></a><span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<a id="__codelineno-0-57" name="__codelineno-0-57" href="#osa-proxy-config-__codelineno-0-57"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">internet-npm</span>
<a id="__codelineno-0-58" name="__codelineno-0-58" href="#osa-proxy-config-__codelineno-0-58"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-59" name="__codelineno-0-59" href="#osa-proxy-config-__codelineno-0-59"></a><span class="w">      </span><span class="nt">scan-manifest</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-60" name="__codelineno-0-60" href="#osa-proxy-config-__codelineno-0-60"></a><span class="w">      </span><span class="nt">url-encoded-config</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-61" name="__codelineno-0-61" href="#osa-proxy-config-__codelineno-0-61"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://registry.npmjs.org</span>
<a id="__codelineno-0-62" name="__codelineno-0-62" href="#osa-proxy-config-__codelineno-0-62"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arti-npm</span>
<a id="__codelineno-0-63" name="__codelineno-0-63" href="#osa-proxy-config-__codelineno-0-63"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-64" name="__codelineno-0-64" href="#osa-proxy-config-__codelineno-0-64"></a><span class="w">      </span><span class="nt">scan-manifest</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-65" name="__codelineno-0-65" href="#osa-proxy-config-__codelineno-0-65"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://localhost:8081/artifactory/api/npm/npm-remote</span>
<a id="__codelineno-0-66" name="__codelineno-0-66" href="#osa-proxy-config-__codelineno-0-66"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nexus-npm</span>
<a id="__codelineno-0-67" name="__codelineno-0-67" href="#osa-proxy-config-__codelineno-0-67"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-68" name="__codelineno-0-68" href="#osa-proxy-config-__codelineno-0-68"></a><span class="w">      </span><span class="nt">scan-manifest</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-69" name="__codelineno-0-69" href="#osa-proxy-config-__codelineno-0-69"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://localhost:8081/repository/npm-proxy</span>
<a id="__codelineno-0-70" name="__codelineno-0-70" href="#osa-proxy-config-__codelineno-0-70"></a><span class="c1"># Настройки NuGet</span>
<a id="__codelineno-0-71" name="__codelineno-0-71" href="#osa-proxy-config-__codelineno-0-71"></a><span class="nt">nuget</span><span class="p">:</span>
<a id="__codelineno-0-72" name="__codelineno-0-72" href="#osa-proxy-config-__codelineno-0-72"></a><span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-73" name="__codelineno-0-73" href="#osa-proxy-config-__codelineno-0-73"></a><span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<a id="__codelineno-0-74" name="__codelineno-0-74" href="#osa-proxy-config-__codelineno-0-74"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">codescoring-nuget</span>
<a id="__codelineno-0-75" name="__codelineno-0-75" href="#osa-proxy-config-__codelineno-0-75"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-76" name="__codelineno-0-76" href="#osa-proxy-config-__codelineno-0-76"></a><span class="w">      </span><span class="nt">url-encoded-config</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-77" name="__codelineno-0-77" href="#osa-proxy-config-__codelineno-0-77"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://api.nuget.org</span>
<a id="__codelineno-0-78" name="__codelineno-0-78" href="#osa-proxy-config-__codelineno-0-78"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arti-nuget</span>
<a id="__codelineno-0-79" name="__codelineno-0-79" href="#osa-proxy-config-__codelineno-0-79"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-80" name="__codelineno-0-80" href="#osa-proxy-config-__codelineno-0-80"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://localhost:8081/artifactory/api/nuget/v3/nuget-remote</span>
<a id="__codelineno-0-81" name="__codelineno-0-81" href="#osa-proxy-config-__codelineno-0-81"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nexus-nuget</span>
<a id="__codelineno-0-82" name="__codelineno-0-82" href="#osa-proxy-config-__codelineno-0-82"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-83" name="__codelineno-0-83" href="#osa-proxy-config-__codelineno-0-83"></a><span class="w">      </span><span class="nt">scan-manifest</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-84" name="__codelineno-0-84" href="#osa-proxy-config-__codelineno-0-84"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://localhost:8081/repository/nuget-v3-proxy</span>
<a id="__codelineno-0-85" name="__codelineno-0-85" href="#osa-proxy-config-__codelineno-0-85"></a><span class="c1"># Настройки GO</span>
<a id="__codelineno-0-86" name="__codelineno-0-86" href="#osa-proxy-config-__codelineno-0-86"></a><span class="nt">go</span><span class="p">:</span>
<a id="__codelineno-0-87" name="__codelineno-0-87" href="#osa-proxy-config-__codelineno-0-87"></a><span class="w">   </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-88" name="__codelineno-0-88" href="#osa-proxy-config-__codelineno-0-88"></a><span class="w">   </span><span class="nt">repository</span><span class="p">:</span>
<a id="__codelineno-0-89" name="__codelineno-0-89" href="#osa-proxy-config-__codelineno-0-89"></a><span class="w">     </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">codescoring-go</span>
<a id="__codelineno-0-90" name="__codelineno-0-90" href="#osa-proxy-config-__codelineno-0-90"></a><span class="w">       </span><span class="nt">scan-manifest</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-91" name="__codelineno-0-91" href="#osa-proxy-config-__codelineno-0-91"></a><span class="w">       </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-92" name="__codelineno-0-92" href="#osa-proxy-config-__codelineno-0-92"></a><span class="w">       </span><span class="nt">url-encoded-config</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-93" name="__codelineno-0-93" href="#osa-proxy-config-__codelineno-0-93"></a><span class="w">       </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://proxy.golang.org/</span>
<a id="__codelineno-0-94" name="__codelineno-0-94" href="#osa-proxy-config-__codelineno-0-94"></a><span class="w">     </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arti-go</span>
<a id="__codelineno-0-95" name="__codelineno-0-95" href="#osa-proxy-config-__codelineno-0-95"></a><span class="w">       </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-96" name="__codelineno-0-96" href="#osa-proxy-config-__codelineno-0-96"></a><span class="w">       </span><span class="nt">scan-manifest</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-97" name="__codelineno-0-97" href="#osa-proxy-config-__codelineno-0-97"></a><span class="w">       </span><span class="nt">url-encoded-config</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-98" name="__codelineno-0-98" href="#osa-proxy-config-__codelineno-0-98"></a><span class="w">       </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://localhost:8081/artifactory/api/go/go-virt</span>
<a id="__codelineno-0-99" name="__codelineno-0-99" href="#osa-proxy-config-__codelineno-0-99"></a><span class="w">     </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nexus-go</span>
<a id="__codelineno-0-100" name="__codelineno-0-100" href="#osa-proxy-config-__codelineno-0-100"></a><span class="w">       </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-101" name="__codelineno-0-101" href="#osa-proxy-config-__codelineno-0-101"></a><span class="w">       </span><span class="nt">scan-manifest</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-102" name="__codelineno-0-102" href="#osa-proxy-config-__codelineno-0-102"></a><span class="w">       </span><span class="nt">url-encoded-config</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-103" name="__codelineno-0-103" href="#osa-proxy-config-__codelineno-0-103"></a><span class="w">       </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://localhost:8081/repository/go-proxy/</span>
<a id="__codelineno-0-104" name="__codelineno-0-104" href="#osa-proxy-config-__codelineno-0-104"></a><span class="c1"># Настройка Debian</span>
<a id="__codelineno-0-105" name="__codelineno-0-105" href="#osa-proxy-config-__codelineno-0-105"></a><span class="nt">debian</span><span class="p">:</span>
<a id="__codelineno-0-106" name="__codelineno-0-106" href="#osa-proxy-config-__codelineno-0-106"></a><span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-107" name="__codelineno-0-107" href="#osa-proxy-config-__codelineno-0-107"></a><span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<a id="__codelineno-0-108" name="__codelineno-0-108" href="#osa-proxy-config-__codelineno-0-108"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">codescoring-debian</span>
<a id="__codelineno-0-109" name="__codelineno-0-109" href="#osa-proxy-config-__codelineno-0-109"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-110" name="__codelineno-0-110" href="#osa-proxy-config-__codelineno-0-110"></a><span class="w">      </span><span class="nt">url-encoded-config</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-111" name="__codelineno-0-111" href="#osa-proxy-config-__codelineno-0-111"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://ports.ubuntu.com/ubuntu-ports/</span>
<a id="__codelineno-0-112" name="__codelineno-0-112" href="#osa-proxy-config-__codelineno-0-112"></a><span class="w">      </span><span class="nt">distro</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">plucky</span>
<a id="__codelineno-0-113" name="__codelineno-0-113" href="#osa-proxy-config-__codelineno-0-113"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arti-debian</span>
<a id="__codelineno-0-114" name="__codelineno-0-114" href="#osa-proxy-config-__codelineno-0-114"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-115" name="__codelineno-0-115" href="#osa-proxy-config-__codelineno-0-115"></a><span class="w">      </span><span class="nt">url-encoded-config</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-116" name="__codelineno-0-116" href="#osa-proxy-config-__codelineno-0-116"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://localhost:8081/artifactory/debian-remote</span>
<a id="__codelineno-0-117" name="__codelineno-0-117" href="#osa-proxy-config-__codelineno-0-117"></a><span class="w">      </span><span class="nt">distro</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">plucky</span>
<a id="__codelineno-0-118" name="__codelineno-0-118" href="#osa-proxy-config-__codelineno-0-118"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nexus-debian</span>
<a id="__codelineno-0-119" name="__codelineno-0-119" href="#osa-proxy-config-__codelineno-0-119"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-120" name="__codelineno-0-120" href="#osa-proxy-config-__codelineno-0-120"></a><span class="w">      </span><span class="nt">url-encoded-config</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-121" name="__codelineno-0-121" href="#osa-proxy-config-__codelineno-0-121"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://localhost:8081/repository/debian11</span>
<a id="__codelineno-0-122" name="__codelineno-0-122" href="#osa-proxy-config-__codelineno-0-122"></a><span class="w">      </span><span class="nt">distro</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bullseye</span>
<a id="__codelineno-0-123" name="__codelineno-0-123" href="#osa-proxy-config-__codelineno-0-123"></a><span class="c1"># Настройка Alpine (APK)</span>
<a id="__codelineno-0-124" name="__codelineno-0-124" href="#osa-proxy-config-__codelineno-0-124"></a><span class="nt">alpine</span><span class="p">:</span>
<a id="__codelineno-0-125" name="__codelineno-0-125" href="#osa-proxy-config-__codelineno-0-125"></a><span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-126" name="__codelineno-0-126" href="#osa-proxy-config-__codelineno-0-126"></a><span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<a id="__codelineno-0-127" name="__codelineno-0-127" href="#osa-proxy-config-__codelineno-0-127"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">codescoring-alpine</span>
<a id="__codelineno-0-128" name="__codelineno-0-128" href="#osa-proxy-config-__codelineno-0-128"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-129" name="__codelineno-0-129" href="#osa-proxy-config-__codelineno-0-129"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://dl-cdn.alpinelinux.org/alpine</span>
<a id="__codelineno-0-130" name="__codelineno-0-130" href="#osa-proxy-config-__codelineno-0-130"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arti-alpine</span>
<a id="__codelineno-0-131" name="__codelineno-0-131" href="#osa-proxy-config-__codelineno-0-131"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-132" name="__codelineno-0-132" href="#osa-proxy-config-__codelineno-0-132"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://localhost:8081/artifactory/alpine-remote</span>
<a id="__codelineno-0-133" name="__codelineno-0-133" href="#osa-proxy-config-__codelineno-0-133"></a><span class="c1"># Настройка RPM</span>
<a id="__codelineno-0-134" name="__codelineno-0-134" href="#osa-proxy-config-__codelineno-0-134"></a><span class="nt">rpm</span><span class="p">:</span>
<a id="__codelineno-0-135" name="__codelineno-0-135" href="#osa-proxy-config-__codelineno-0-135"></a><span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-136" name="__codelineno-0-136" href="#osa-proxy-config-__codelineno-0-136"></a><span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<a id="__codelineno-0-137" name="__codelineno-0-137" href="#osa-proxy-config-__codelineno-0-137"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">codescoring-rpm</span>
<a id="__codelineno-0-138" name="__codelineno-0-138" href="#osa-proxy-config-__codelineno-0-138"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-139" name="__codelineno-0-139" href="#osa-proxy-config-__codelineno-0-139"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://repo.almalinux.org/almalinux</span>
<a id="__codelineno-0-140" name="__codelineno-0-140" href="#osa-proxy-config-__codelineno-0-140"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arti-rpm</span>
<a id="__codelineno-0-141" name="__codelineno-0-141" href="#osa-proxy-config-__codelineno-0-141"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-142" name="__codelineno-0-142" href="#osa-proxy-config-__codelineno-0-142"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://localhost:8081/artifactory/rpm-remote</span>
<a id="__codelineno-0-143" name="__codelineno-0-143" href="#osa-proxy-config-__codelineno-0-143"></a><span class="c1"># Настройка Docker Registry</span>
<a id="__codelineno-0-144" name="__codelineno-0-144" href="#osa-proxy-config-__codelineno-0-144"></a><span class="nt">docker</span><span class="p">:</span>
<a id="__codelineno-0-145" name="__codelineno-0-145" href="#osa-proxy-config-__codelineno-0-145"></a><span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-146" name="__codelineno-0-146" href="#osa-proxy-config-__codelineno-0-146"></a><span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<a id="__codelineno-0-147" name="__codelineno-0-147" href="#osa-proxy-config-__codelineno-0-147"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">codescoring-docker</span>
<a id="__codelineno-0-148" name="__codelineno-0-148" href="#osa-proxy-config-__codelineno-0-148"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-149" name="__codelineno-0-149" href="#osa-proxy-config-__codelineno-0-149"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://registry-1.docker.io</span>
<a id="__codelineno-0-150" name="__codelineno-0-150" href="#osa-proxy-config-__codelineno-0-150"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arti-docker</span>
<a id="__codelineno-0-151" name="__codelineno-0-151" href="#osa-proxy-config-__codelineno-0-151"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-152" name="__codelineno-0-152" href="#osa-proxy-config-__codelineno-0-152"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://localhost:8081/artifactory/docker-remote</span>
</code></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Особенности работы в Nexus Repository и JFrog Artifactory</p>
<ul>
<li>Для JFrog Artifactory рекомендуется выставить <code>Custom Base URL</code> и использовать его в поле <code>registry</code> для корректной замены ссылок на пакеты внутри манифестов;</li>
<li>В конфигурации <code>пакетный менеджер</code> -&gt; <code>jfrog</code> -&gt; <code>OSA proxy</code> -&gt; <code>internet</code>, в дополнительных настройках репозитория JFrog необходимо выставить флаг <code>Bypass HEAD requests</code>.</li>
<li>Для Nexus Repository идентичного функционала нет, в манифестах будет использован хост и порт (если указан) из запроса. При наличии <code>reverse proxy</code> рекомендуется использовать ссылку на него. Например: <code>registry: https://nexushost.ru/repository/pypi-proxy</code>.</li>
</ul>
</div>
<h2 id="osa-proxy-config-_3">Дополнительные настройки<a class="headerlink" href="#osa-proxy-config-_3" title="Permanent link">&para;</a></h2>
<h3 id="osa-proxy-config-_4">Настройки уровня логирования<a class="headerlink" href="#osa-proxy-config-_4" title="Permanent link">&para;</a></h3>
<div class="admonition example">
<p class="admonition-title">Пример настройки логирования</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#osa-proxy-config-__codelineno-1-1"></a><span class="nt">logging</span><span class="p">:</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#osa-proxy-config-__codelineno-1-2"></a><span class="w">  </span><span class="nt">level</span><span class="p">:</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#osa-proxy-config-__codelineno-1-3"></a><span class="w">    </span><span class="nt">ru</span><span class="p">:</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#osa-proxy-config-__codelineno-1-4"></a><span class="w">      </span><span class="nt">codescoring</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">info</span>
</code></pre></div>
</div>
<h3 id="osa-proxy-config-_5">Размер буфера для обработки больших манифестов<a class="headerlink" href="#osa-proxy-config-_5" title="Permanent link">&para;</a></h3>
<div class="admonition example">
<p class="admonition-title">Пример настройки размера буфера</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#osa-proxy-config-__codelineno-2-1"></a><span class="nt">spring</span><span class="p">:</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#osa-proxy-config-__codelineno-2-2"></a><span class="w">  </span><span class="nt">http</span><span class="p">:</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#osa-proxy-config-__codelineno-2-3"></a><span class="w">    </span><span class="nt">codecs</span><span class="p">:</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#osa-proxy-config-__codelineno-2-4"></a><span class="w">      </span><span class="nt">max-in-memory-size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">150MB (это настройка по умолчанию, уже включенная в приложение, увеличьте ее, если вы столкнулись с очень большими манифестами)</span>
</code></pre></div>
</div>
<h2 id="osa-proxy-config-circuit-breaker">Политики повторных попыток и circuit breaker для запросов к платформе:<a class="headerlink" href="#osa-proxy-config-circuit-breaker" title="Permanent link">&para;</a></h2>
<h3 id="osa-proxy-config-_6">Настройка повторных попыток<a class="headerlink" href="#osa-proxy-config-_6" title="Permanent link">&para;</a></h3>
<p>Эта конфигурация определяет политику повторных попыток для сервиса <code>codeScoringApi</code>. Она настроена на обработку временных сбоев путем повторной попытки запроса до 3 раз.</p>
<p>Повторные попытки используют стратегию экспоненциального отступления, начиная с задержки в 1 секунду и удваивая ее с каждой попыткой. Эта политика применяется только к определенным исключениям, таким как <code>WebClientRequestException</code>.</p>
<h3 id="osa-proxy-config-circuit-breaker_1">Настройка Circuit Breaker<a class="headerlink" href="#osa-proxy-config-circuit-breaker_1" title="Permanent link">&para;</a></h3>
<p>Circuit breaker (автоматический выключатель) для <code>codeScoringApi</code> действует как механизм быстрого отказа. Он отслеживает частоту сбоев и, если она достигает 50% (рассчитывается по последним 20 вызовам), он «открывается» и предотвращает дальнейшие запросы в течение 30 секунд. Это дает нижестоящему сервису время на восстановление. После периода ожидания он переходит в «полуоткрытое» состояние, позволяя пройти 5 пробным вызовам, чтобы определить, восстановился ли сервис.</p>
<p>Конфигурация Retry и Circuit Breaker может быть переопределена путем установки <a href="https://resilience4j.readme.io/docs/getting-started-3">следующих свойств</a>, например, для <code>codeScoringApi</code>.</p>
<h3 id="osa-proxy-config-truststore">Добавление truststore сертификатов<a class="headerlink" href="#osa-proxy-config-truststore" title="Permanent link">&para;</a></h3>
<div class="admonition example">
<p class="admonition-title">Пример добавления truststore сертификатов в application.yml</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#osa-proxy-config-__codelineno-3-1"></a><span class="nt">spring</span><span class="p">:</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#osa-proxy-config-__codelineno-3-2"></a><span class="w">  </span><span class="nt">cloud</span><span class="p">:</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#osa-proxy-config-__codelineno-3-3"></a><span class="w">    </span><span class="nt">gateway</span><span class="p">:</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#osa-proxy-config-__codelineno-3-4"></a><span class="w">      </span><span class="nt">server</span><span class="p">:</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#osa-proxy-config-__codelineno-3-5"></a><span class="w">        </span><span class="nt">webflux</span><span class="p">:</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#osa-proxy-config-__codelineno-3-6"></a><span class="w">          </span><span class="nt">httpclient</span><span class="p">:</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#osa-proxy-config-__codelineno-3-7"></a><span class="w">            </span><span class="nt">ssl</span><span class="p">:</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#osa-proxy-config-__codelineno-3-8"></a><span class="w">              </span><span class="nt">trustedX509Certificates</span><span class="p">:</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#osa-proxy-config-__codelineno-3-9"></a><span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/usr/local/share/ca-certificates/codescoring.crt</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#osa-proxy-config-__codelineno-3-10"></a><span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/etc/ssl/certs/ca-certificates.crt</span>
</code></pre></div>
</div>
<h3 id="osa-proxy-config-http-proxy">Добавление http proxy<a class="headerlink" href="#osa-proxy-config-http-proxy" title="Permanent link">&para;</a></h3>
<div class="admonition example">
<p class="admonition-title">Пример настройки http proxy</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#osa-proxy-config-__codelineno-4-1"></a><span class="nt">spring</span><span class="p">:</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#osa-proxy-config-__codelineno-4-2"></a><span class="w">  </span><span class="nt">cloud</span><span class="p">:</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#osa-proxy-config-__codelineno-4-3"></a><span class="w">    </span><span class="nt">gateway</span><span class="p">:</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#osa-proxy-config-__codelineno-4-4"></a><span class="w">      </span><span class="nt">httpclient</span><span class="p">:</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#osa-proxy-config-__codelineno-4-5"></a><span class="w">        </span><span class="nt">proxy</span><span class="p">:</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#osa-proxy-config-__codelineno-4-6"></a><span class="w">          </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">proxy.host.ru</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#osa-proxy-config-__codelineno-4-7"></a><span class="w">          </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;username&#39;</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#osa-proxy-config-__codelineno-4-8"></a><span class="w">          </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">9091</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#osa-proxy-config-__codelineno-4-9"></a><span class="w">          </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;password&#39;</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#osa-proxy-config-__codelineno-4-10"></a><span class="w">          </span><span class="nt">non-proxy-hosts-pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;(localhost|127.0.0.1|.*\.internal\.com)&#39;</span>
</code></pre></div>
</div></section><section class="print-page" id="osa-proxy-config-caching" heading-number="4.3.4.4"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-proxy-config-caching.en">English</a></li>
</ul>
<h1 id="osa-proxy-config-caching-redis">Настройка Redis и кэширования<a class="headerlink" href="#osa-proxy-config-caching-redis" title="Permanent link">&para;</a></h1>
<p>Для повышения производительности и снижения нагрузки на платформу CodeScoring поддерживается кэширование результатов работы политик (вердиктов <a href="#on-premise-containers-description">сервиса Judge</a>). Для работы кэширования требуется подключение к Redis.</p>
<div class="admonition example">
<p class="admonition-title">Настройки Redis и кэширования</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#osa-proxy-config-caching-__codelineno-0-1"></a><span class="nt">spring</span><span class="p">:</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#osa-proxy-config-caching-__codelineno-0-2"></a><span class="w">  </span><span class="nt">data</span><span class="p">:</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#osa-proxy-config-caching-__codelineno-0-3"></a><span class="w">    </span><span class="nt">redis</span><span class="p">:</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#osa-proxy-config-caching-__codelineno-0-4"></a><span class="w">      </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#osa-proxy-config-caching-__codelineno-0-5"></a><span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6379</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#osa-proxy-config-caching-__codelineno-0-6"></a><span class="w">      </span><span class="nt">database</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w">         </span><span class="c1"># Номер базы данных (опционально)</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#osa-proxy-config-caching-__codelineno-0-7"></a><span class="w">      </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">password</span><span class="w">  </span><span class="c1"># Опционально</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#osa-proxy-config-caching-__codelineno-0-8"></a><span class="w">      </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2000ms</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#osa-proxy-config-caching-__codelineno-0-9"></a>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#osa-proxy-config-caching-__codelineno-0-10"></a><span class="nt">cache</span><span class="p">:</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#osa-proxy-config-caching-__codelineno-0-11"></a><span class="w">  </span><span class="nt">judge</span><span class="p">:</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#osa-proxy-config-caching-__codelineno-0-12"></a><span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">  </span><span class="c1"># Включение кэширования (по умолчанию false)</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#osa-proxy-config-caching-__codelineno-0-13"></a><span class="w">    </span><span class="nt">ttl</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">24h</span><span class="w">       </span><span class="c1"># Время жизни записи в кэше</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#osa-proxy-config-caching-__codelineno-0-14"></a><span class="w">    </span><span class="nt">refresh-after</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30m</span><span class="w">  </span><span class="c1"># Время, после которого запись считается устаревшей и требует обновления (но все еще может быть отдана из кэша)</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#osa-proxy-config-caching-__codelineno-0-15"></a><span class="w">    </span><span class="nt">proactive-refresh-enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"> </span><span class="c1"># Включение проактивного (фонового) обновления кэша</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#osa-proxy-config-caching-__codelineno-0-16"></a><span class="w">    </span><span class="nt">proactive-refresh-interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2h</span><span class="w">  </span><span class="c1"># Интервал запуска фонового обновления</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#osa-proxy-config-caching-__codelineno-0-17"></a><span class="w">    </span><span class="nt">key-prefix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cs:judge:&quot;</span><span class="w"> </span><span class="c1"># Префикс для ключей в Redis</span>
</code></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Особенности продления времени жизни (TTL) в кэше</p>
<p>Проактивное обновление не продлевает TTL (время жизни) записи в кэше. TTL продлевается только при чтении данных из кэша реальными запросами пользователей. Это позволяет автоматически удалять из Redis редко запрашиваемые пакеты и хранить только востребованные данные.</p>
</div>
<h2 id="osa-proxy-config-caching-swagger-ui">Swagger UI<a class="headerlink" href="#osa-proxy-config-caching-swagger-ui" title="Permanent link">&para;</a></h2>
<p>OSA Proxy предоставляет Swagger UI для просмотра документации API и управления кэшем.</p>
<ul>
<li><strong>URL:</strong> <code>http://&lt;osa-proxy-host&gt;:&lt;port&gt;/api/swagger</code></li>
<li><strong>Доступные операции:</strong><ul>
<li>Очистка кэша по PURL</li>
<li>Очистка кэша по типу пакета</li>
</ul>
</li>
</ul></section><section class="print-page" id="osa-proxy-protocols" heading-number="4.3.4.5"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-proxy-protocols.en">English</a></li>
</ul>
<h1 id="osa-proxy-protocols-_1">Поддерживаемые протоколы<a class="headerlink" href="#osa-proxy-protocols-_1" title="Permanent link">&para;</a></h1>
<p>Данный раздел содержит форматы данных и правила модификации ответов для каждого поддерживаемого пакетного менеджера в OSA Proxy.</p>
<h2 id="osa-proxy-protocols-maven">Maven<a class="headerlink" href="#osa-proxy-protocols-maven" title="Permanent link">&para;</a></h2>
<h3 id="osa-proxy-protocols-_2">Обрабатываемые файлы<a class="headerlink" href="#osa-proxy-protocols-_2" title="Permanent link">&para;</a></h3>
<ul>
<li><code>maven-metadata.xml</code> - манифест с информацией о версиях</li>
<li><code>.jar</code>, <code>.war</code>, <code>.ear</code> - файлы пакетов</li>
</ul>
<h3 id="osa-proxy-protocols-maven-metadataxml">Модификация полей в maven-metadata.xml<a class="headerlink" href="#osa-proxy-protocols-maven-metadataxml" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#osa-proxy-protocols-__codelineno-0-1"></a><span class="nt">&lt;metadata&gt;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#osa-proxy-protocols-__codelineno-0-2"></a><span class="w">  </span><span class="nt">&lt;groupId&gt;</span>...<span class="nt">&lt;/groupId&gt;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#osa-proxy-protocols-__codelineno-0-3"></a><span class="w">  </span><span class="nt">&lt;artifactId&gt;</span>...<span class="nt">&lt;/artifactId&gt;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#osa-proxy-protocols-__codelineno-0-4"></a><span class="w">  </span><span class="nt">&lt;versioning&gt;</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#osa-proxy-protocols-__codelineno-0-5"></a><span class="w">    </span><span class="nt">&lt;latest&gt;</span>обновляется<span class="w"> </span>на<span class="w"> </span>последнюю<span class="w"> </span>незаблокированную<span class="nt">&lt;/latest&gt;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#osa-proxy-protocols-__codelineno-0-6"></a><span class="w">    </span><span class="nt">&lt;release&gt;</span>обновляется<span class="w"> </span>на<span class="w"> </span>последнюю<span class="w"> </span>незаблокированную<span class="nt">&lt;/release&gt;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#osa-proxy-protocols-__codelineno-0-7"></a><span class="w">    </span><span class="nt">&lt;versions&gt;</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#osa-proxy-protocols-__codelineno-0-8"></a><span class="w">      </span><span class="nt">&lt;version&gt;</span>удаляются<span class="w"> </span>заблокированные<span class="w"> </span>версии<span class="nt">&lt;/version&gt;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#osa-proxy-protocols-__codelineno-0-9"></a><span class="w">    </span><span class="nt">&lt;/versions&gt;</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#osa-proxy-protocols-__codelineno-0-10"></a><span class="w">  </span><span class="nt">&lt;/versioning&gt;</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#osa-proxy-protocols-__codelineno-0-11"></a><span class="nt">&lt;/metadata&gt;</span>
</code></pre></div>
<h2 id="osa-proxy-protocols-npm">NPM<a class="headerlink" href="#osa-proxy-protocols-npm" title="Permanent link">&para;</a></h2>
<h3 id="osa-proxy-protocols-_3">Обрабатываемые файлы<a class="headerlink" href="#osa-proxy-protocols-_3" title="Permanent link">&para;</a></h3>
<ul>
<li>JSON манифест пакета (путь <code>/{repository}/*</code>)</li>
<li><code>.tgz</code> - архивы пакетов</li>
</ul>
<h3 id="osa-proxy-protocols-npm_1">Модификация полей в NPM манифесте<a class="headerlink" href="#osa-proxy-protocols-npm_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#osa-proxy-protocols-__codelineno-1-1"></a><span class="p">{</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#osa-proxy-protocols-__codelineno-1-2"></a><span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;package-name&quot;</span><span class="p">,</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#osa-proxy-protocols-__codelineno-1-3"></a><span class="w">  </span><span class="nt">&quot;dist-tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#osa-proxy-protocols-__codelineno-1-4"></a><span class="w">    </span><span class="nt">&quot;latest&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;обновляется на последнюю незаблокированную версию&quot;</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#osa-proxy-protocols-__codelineno-1-5"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#osa-proxy-protocols-__codelineno-1-6"></a><span class="w">  </span><span class="nt">&quot;versions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#osa-proxy-protocols-__codelineno-1-7"></a><span class="w">    </span><span class="nt">&quot;1.0.0&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;удаляются заблокированные версии&quot;</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#osa-proxy-protocols-__codelineno-1-8"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#osa-proxy-protocols-__codelineno-1-9"></a><span class="w">  </span><span class="nt">&quot;time&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#osa-proxy-protocols-__codelineno-1-10"></a><span class="w">    </span><span class="nt">&quot;1.0.0&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;удаляются записи для заблокированных версий&quot;</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#osa-proxy-protocols-__codelineno-1-11"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#osa-proxy-protocols-__codelineno-1-12"></a><span class="p">}</span>
</code></pre></div>
<h2 id="osa-proxy-protocols-pypi">PyPI<a class="headerlink" href="#osa-proxy-protocols-pypi" title="Permanent link">&para;</a></h2>
<h3 id="osa-proxy-protocols-_4">Обрабатываемые файлы<a class="headerlink" href="#osa-proxy-protocols-_4" title="Permanent link">&para;</a></h3>
<ul>
<li>HTML страницы Simple API (путь <code>/{repository}/simple/*</code>)</li>
<li><code>.zip</code>, <code>.tar</code>, <code>.tgz</code>, <code>.tar.gz</code>, <code>.tar.bz2</code>, <code>.egg</code>, <code>.whl</code> - файлы пакетов</li>
</ul>
<h3 id="osa-proxy-protocols-html">Модификация HTML страниц<a class="headerlink" href="#osa-proxy-protocols-html" title="Permanent link">&para;</a></h3>
<ul>
<li>Удаляются ссылки для заблокированных версий</li>
<li>Перезаписываются URL для скачивания через прокси</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#osa-proxy-protocols-__codelineno-2-1"></a><span class="cp">&lt;!DOCTYPE html&gt;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#osa-proxy-protocols-__codelineno-2-2"></a><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#osa-proxy-protocols-__codelineno-2-3"></a>  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#osa-proxy-protocols-__codelineno-2-4"></a>    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://files.pythonhosted.org/packages/example-1.0.0.tar.gz&quot;</span><span class="p">&gt;</span>example-1.0.0.tar.gz<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#osa-proxy-protocols-__codelineno-2-5"></a>    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://files.pythonhosted.org/packages/example-2.0.0.tar.gz&quot;</span><span class="p">&gt;</span>example-2.0.0.tar.gz<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#osa-proxy-protocols-__codelineno-2-6"></a>  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#osa-proxy-protocols-__codelineno-2-7"></a><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<h2 id="osa-proxy-protocols-nuget">NuGet<a class="headerlink" href="#osa-proxy-protocols-nuget" title="Permanent link">&para;</a></h2>
<h3 id="osa-proxy-protocols-_5">Обрабатываемые файлы<a class="headerlink" href="#osa-proxy-protocols-_5" title="Permanent link">&para;</a></h3>
<ul>
<li><code>index.json</code> - сервисный индекс</li>
<li>Registration index JSON</li>
<li><code>.nupkg</code> - файлы пакетов</li>
</ul>
<h3 id="osa-proxy-protocols-registration">Модификация registration индекса<a class="headerlink" href="#osa-proxy-protocols-registration" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#osa-proxy-protocols-__codelineno-3-1"></a><span class="p">{</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#osa-proxy-protocols-__codelineno-3-2"></a><span class="w">  </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3.0.0&quot;</span><span class="p">,</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#osa-proxy-protocols-__codelineno-3-3"></a><span class="w">  </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#osa-proxy-protocols-__codelineno-3-4"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#osa-proxy-protocols-__codelineno-3-5"></a><span class="w">      </span><span class="nt">&quot;@id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://api.nuget.org/v3/registration5-gz-semver2/package/index.json&quot;</span><span class="p">,</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#osa-proxy-protocols-__codelineno-3-6"></a><span class="w">      </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#osa-proxy-protocols-__codelineno-3-7"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#osa-proxy-protocols-__codelineno-3-8"></a><span class="w">          </span><span class="nt">&quot;catalogEntry&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#osa-proxy-protocols-__codelineno-3-9"></a><span class="w">            </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Package&quot;</span><span class="p">,</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#osa-proxy-protocols-__codelineno-3-10"></a><span class="w">            </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.0.0&quot;</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#osa-proxy-protocols-__codelineno-3-11"></a><span class="w">          </span><span class="p">}</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#osa-proxy-protocols-__codelineno-3-12"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#osa-proxy-protocols-__codelineno-3-13"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#osa-proxy-protocols-__codelineno-3-14"></a><span class="w">          </span><span class="nt">&quot;catalogEntry&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#osa-proxy-protocols-__codelineno-3-15"></a><span class="w">            </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Package&quot;</span><span class="p">,</span>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#osa-proxy-protocols-__codelineno-3-16"></a><span class="w">            </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0.0&quot;</span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#osa-proxy-protocols-__codelineno-3-17"></a><span class="w">          </span><span class="p">}</span>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#osa-proxy-protocols-__codelineno-3-18"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#osa-proxy-protocols-__codelineno-3-19"></a><span class="w">      </span><span class="p">]</span>
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#osa-proxy-protocols-__codelineno-3-20"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#osa-proxy-protocols-__codelineno-3-21"></a><span class="w">  </span><span class="p">]</span>
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#osa-proxy-protocols-__codelineno-3-22"></a><span class="p">}</span>
</code></pre></div>
<h2 id="osa-proxy-protocols-go">Go<a class="headerlink" href="#osa-proxy-protocols-go" title="Permanent link">&para;</a></h2>
<h3 id="osa-proxy-protocols-_6">Обрабатываемые файлы<a class="headerlink" href="#osa-proxy-protocols-_6" title="Permanent link">&para;</a></h3>
<ul>
<li>Список версий (<code>/@v/list</code>)</li>
<li><code>.zip</code> — архивы модулей</li>
</ul>
<h3 id="osa-proxy-protocols-_7">Модификация списка версий<a class="headerlink" href="#osa-proxy-protocols-_7" title="Permanent link">&para;</a></h3>
<ul>
<li>Из списка версий удаляются заблокированные версии.</li>
</ul>
<h2 id="osa-proxy-protocols-debian">Debian<a class="headerlink" href="#osa-proxy-protocols-debian" title="Permanent link">&para;</a></h2>
<h3 id="osa-proxy-protocols-_8">Обрабатываемые файлы<a class="headerlink" href="#osa-proxy-protocols-_8" title="Permanent link">&para;</a></h3>
<ul>
<li><code>.deb</code> — файлы пакетов</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Особенности сканирования Debian</p>
<p>Для Debian поддерживается только сканирование пакетов. Модификация манифестов (файлов <code>Packages</code>) не производится.</p>
</div>
<h2 id="osa-proxy-protocols-alpine">Alpine<a class="headerlink" href="#osa-proxy-protocols-alpine" title="Permanent link">&para;</a></h2>
<h3 id="osa-proxy-protocols-_9">Обрабатываемые файлы<a class="headerlink" href="#osa-proxy-protocols-_9" title="Permanent link">&para;</a></h3>
<ul>
<li><code>.apk</code> — файлы пакетов</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Особенности сканирования Alpine</p>
<p>Для Alpine поддерживается сканирование пакетов. Модификация индексов (APKINDEX) не производится.</p>
</div>
<h2 id="osa-proxy-protocols-rpm">RPM<a class="headerlink" href="#osa-proxy-protocols-rpm" title="Permanent link">&para;</a></h2>
<h3 id="osa-proxy-protocols-_10">Обрабатываемые файлы<a class="headerlink" href="#osa-proxy-protocols-_10" title="Permanent link">&para;</a></h3>
<ul>
<li><code>.rpm</code> — файлы пакетов</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Особенности сканирования RPM</p>
<p>Для RPM поддерживается сканирование пакетов. Модификация метаданных (repodata) не производится.</p>
</div>
<h2 id="osa-proxy-protocols-docker">Docker<a class="headerlink" href="#osa-proxy-protocols-docker" title="Permanent link">&para;</a></h2>
<h3 id="osa-proxy-protocols-_11">Обрабатываемые файлы<a class="headerlink" href="#osa-proxy-protocols-_11" title="Permanent link">&para;</a></h3>
<ul>
<li>Manifests (v2 API)</li>
<li>Слои образов (Blobs)</li>
</ul>
<h3 id="osa-proxy-protocols-_12">Модификация манифестов<a class="headerlink" href="#osa-proxy-protocols-_12" title="Permanent link">&para;</a></h3>
<ul>
<li>Из мультиархитектурных манифестов (Manifest Lists) удаляются дайджесты заблокированных образов.</li>
</ul>
<h2 id="osa-proxy-protocols-_13">Поведение при полной блокировке пакета<a class="headerlink" href="#osa-proxy-protocols-_13" title="Permanent link">&para;</a></h2>
<p>В случае, когда все доступные версии запрашиваемого пакета заблокированы политиками безопасности, OSA Proxy возвращает сообщение о блокировке всех версий.</p>
<p>Поскольку некоторые клиенты пакетных менеджеров могут не отображать это специфическое сообщение о блокировке в пользовательском интерфейсе, рекомендуется использовать утилиту <code>curl</code> для прямой диагностики статуса пакета. Ниже представлены примеры запросов с использованием <code>curl</code> для проверки статуса блокировки для различных типов пакетов:</p>
<h3 id="osa-proxy-protocols-pip">Pip<a class="headerlink" href="#osa-proxy-protocols-pip" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#osa-proxy-protocols-__codelineno-4-1"></a>curl<span class="w"> </span>http://localhost:8080/codescoring-pypi/simple/имя_пакета
</code></pre></div>
<h3 id="osa-proxy-protocols-maven_1">Maven<a class="headerlink" href="#osa-proxy-protocols-maven_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#osa-proxy-protocols-__codelineno-5-1"></a>curl<span class="w"> </span>http://localhost:8080/codescoring-maven/groupid/artifactid/maven-metadata.xml
</code></pre></div>
<h3 id="osa-proxy-protocols-npm_2">npm<a class="headerlink" href="#osa-proxy-protocols-npm_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#osa-proxy-protocols-__codelineno-6-1"></a>curl<span class="w"> </span>http://localhost:8080/codescoring-npm/имя_пакета
</code></pre></div>
<h3 id="osa-proxy-protocols-nuget_1">NuGet<a class="headerlink" href="#osa-proxy-protocols-nuget_1" title="Permanent link">&para;</a></h3>
<p>Хотя NuGet-клиент может выводить причину блокировки всех пакетов в консоли, прямой запрос через curl также позволяет получить подтверждение статуса:
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#osa-proxy-protocols-__codelineno-7-1"></a>curl<span class="w"> </span>http://localhost:8080/codescoring-nuget/nuget-api/v3/registration5-gz-semver2/newtonsoft.json/index.json
</code></pre></div></p>
<h3 id="osa-proxy-protocols-go_1">Go<a class="headerlink" href="#osa-proxy-protocols-go_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#osa-proxy-protocols-__codelineno-8-1"></a>curl<span class="w"> </span>http://localhost:8080/codescoring-go/имя_модуля/@v/list
</code></pre></div></section><section class="print-page" id="osa-proxy-metrics" heading-number="4.3.4.6"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-proxy-metrics.en">English</a></li>
</ul>
<h1 id="osa-proxy-metrics-c">Cбор метрик<a class="headerlink" href="#osa-proxy-metrics-c" title="Permanent link">&para;</a></h1>
<p>Метрики доступны в <strong>OSA Proxy</strong> по адресу <code>{osa-proxy-url}/actuator/metrics</code> в формате JSON, а также в формате для prometheus <code>{platform-url}/actuator/prometheus</code>.</p>
<p>Эти метрики собираются для каждого типа репозитория (<code>maven</code>, <code>pypi</code>, <code>nuget</code>, <code>npm</code>, <code>go</code>, <code>debian</code>, <code>alpine</code>, <code>rpm</code>, <code>docker</code>) и позволяют детально отслеживать входящие запросы к прокси-репозиториям.</p>
<h2 id="osa-proxy-metrics-_1">Доступные метрики<a class="headerlink" href="#osa-proxy-metrics-_1" title="Permanent link">&para;</a></h2>
<ul>
<li><code>gateway_route_&lt;package-type&gt;_requests_seconds_count</code> – общее количество обработанных запросов;</li>
<li><code>gateway_route_&lt;package-type&gt;_requests_seconds_sum</code> – суммарное время обработки запросов, используется для расчета среднего времени ответа;</li>
<li><code>gateway_route_&lt;package-type&gt;_requests_seconds_max</code> – максимальное время обработки запроса;</li>
<li><code>gateway_route_&lt;package-type&gt;_requests_seconds_bucket</code> – SLO (Service Level Objective) метрики времени ответа с бакетами: 10ms, 25ms, 50ms, 100ms, 250ms, 500ms, 1s, 2s, 5s.</li>
</ul>
<p>В рамках сбора метрик <code>&lt;package-type&gt;</code> заменяется на соответствующий тип репозитория: <code>maven</code>, <code>pypi</code>, <code>nuget</code>, <code>npm</code>, <code>debian</code>, <code>alpine</code>, <code>rpm</code>, <code>docker</code>. Например, для Maven-репозитория метрика будет называться <code>gateway_route_maven_requests_total</code>.</p>
<p>Данные метрики можно отфильтровать по следующим лейблам:</p>
<ul>
<li><strong><code>operation</code></strong> – тип операции, выполняемой с пакетом;</li>
<li><code>scan_package</code> – сканирование пакета;</li>
<li><code>scan_manifest</code> – сканирование манифеста;</li>
<li><code>other</code> – другие операции (например передача файлов не подпадающих под анализ).</li>
<li><strong><code>method</code></strong> – HTTP-метод запроса (<code>GET</code>, <code>POST</code>, <code>PUT</code>, и т.д.);</li>
<li><strong><code>repository</code></strong> – имя репозитория, к которому был выполнен запрос;</li>
<li><strong><code>status</code></strong> – код статуса HTTP-ответа (например, <code>200</code>, <code>403</code>, <code>500</code>);</li>
<li><strong><code>outcome</code></strong> – результат обработки запроса;</li>
<li><code>success</code> – запрос успешно обработан;</li>
<li><code>error</code> – произошла ошибка при обработке (статус 400 и выше, кроме кода блокировки);</li>
<li><code>blocked_by_policies</code> – запрос был заблокирован политиками безопасности.</li>
</ul>
<h2 id="osa-proxy-metrics-codescoring">Метрики обращений в CodeScoring<a class="headerlink" href="#osa-proxy-metrics-codescoring" title="Permanent link">&para;</a></h2>
<p>Для мониторинга взаимодействия с платформой CodeScoring доступны следующие метрики:</p>
<ul>
<li><code>codescoring_api_requests_seconds_count</code> – общее количество запросов к API CodeScoring;</li>
<li><code>codescoring_api_requests_seconds_sum</code> – суммарное время выполнения запросов к API;</li>
<li><code>codescoring_api_requests_seconds_max</code> – максимальное время выполнения запроса к API;</li>
<li><code>codescoring_api_requests_seconds_bucket</code> – SLO метрики времени ответа API с бакетами: 10ms, 25ms, 50ms, 100ms, 250ms, 500ms, 1s, 2s, 5s.</li>
</ul>
<p>Данные метрики позволяют отслеживать:</p>
<ul>
<li>Производительность взаимодействия с платформой CodeScoring</li>
<li>Количество запросов на сканирование компонентов</li>
<li>Время отклика API для выявления проблем связи</li>
<li>Нагрузку на платформу со стороны OSA Proxy</li>
</ul></section><section class="print-page" id="osa-proxy-base64-url" heading-number="4.3.4.7"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-proxy-base64-url.en">English</a></li>
</ul>
<h1 id="osa-proxy-base64-url-url-base64">Параметры в URL в формате Base64<a class="headerlink" href="#osa-proxy-base64-url-url-base64" title="Permanent link">&para;</a></h1>
<h2 id="osa-proxy-base64-url-url-base64-osa-proxy">Применение параметров в URL в формате Base64 для <code>osa-proxy</code><a class="headerlink" href="#osa-proxy-base64-url-url-base64-osa-proxy" title="Permanent link">&para;</a></h2>
<p>Взаимодействие с <code>osa-proxy</code> в некоторых сценариях требует явного указания дополнительных параметров в пути URL. Это достигается путём кодирования требуемой информации в формате Base64 (URL-safe).</p>
<p>Основная цель использования Base64-кодированных параметров — предоставление <code>osa-proxy</code> необходимого контекста для корректного применения политик безопасности, особенно когда <code>osa-proxy</code> выступает в роли посредника для внешних репозиториев.</p>
<h3 id="osa-proxy-base64-url-_1">Автоматическое определение контекста<a class="headerlink" href="#osa-proxy-base64-url-_1" title="Permanent link">&para;</a></h3>
<p>Когда <code>osa-proxy</code> размещён между клиентом (пакетным менеджером) и внутренним менеджером репозиториев (например, JFrog Artifactory или Nexus Repository Manager), <code>osa-proxy</code> может автоматически извлечь информацию о хосте и имени репозитория из настроек конечного репозитория.</p>
<p>Пример конфигурации, где контекст определяется автоматически:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#osa-proxy-base64-url-__codelineno-0-1"></a><span class="nt">npm</span><span class="p">:</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#osa-proxy-base64-url-__codelineno-0-2"></a><span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#osa-proxy-base64-url-__codelineno-0-3"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">codescoring-npm</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#osa-proxy-base64-url-__codelineno-0-4"></a><span class="w">      </span><span class="c1"># ...</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#osa-proxy-base64-url-__codelineno-0-5"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://nexus.test.ru/repository/npm-proxy</span>
</code></pre></div>
<h3 id="osa-proxy-base64-url-base64-">Явное указание контекста через Base64-параметры<a class="headerlink" href="#osa-proxy-base64-url-base64-" title="Permanent link">&para;</a></h3>
<p>В случаях, когда <code>osa-proxy</code> напрямую взаимодействует с внешними, общедоступными репозиториями (например, <code>https://registry.npmjs.org</code>), он не имеет возможности самостоятельно получить информацию о внутреннем хосте и имени репозитория. В такой ситуации для <code>osa-proxy</code> критически важно получить эти данные для применения привязанных политик безопасности и правильной обработки запроса.</p>
<p>Для этого используется строка, закодированная в Base64, которая содержит JSON-объект с параметрами, такими как <code>repoManagerHost</code> и <code>repoName</code>. Эта строка встраивается непосредственно в URL запроса, позволяя <code>osa-proxy</code> получить необходимый контекст.</p>
<p>Пример конфигурации, требующей явного указания контекста:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#osa-proxy-base64-url-__codelineno-1-1"></a><span class="nt">npm</span><span class="p">:</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#osa-proxy-base64-url-__codelineno-1-2"></a><span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#osa-proxy-base64-url-__codelineno-1-3"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">codescoring-npm</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#osa-proxy-base64-url-__codelineno-1-4"></a><span class="w">      </span><span class="c1"># ...</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#osa-proxy-base64-url-__codelineno-1-5"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://registry.npmjs.org</span><span class="w"> </span><span class="c1"># Здесь нужна передача параметров</span>
</code></pre></div>
<h3 id="osa-proxy-base64-url-_2">Механизм работы:<a class="headerlink" href="#osa-proxy-base64-url-_2" title="Permanent link">&para;</a></h3>
<p>Закодированная строка параметров в формате Base64 размещается в пути URL сразу после имени репозитория. <code>osa-proxy</code> декодирует эту строку, извлекает параметры и использует их для выполнения своих функций, включая применение политик безопасности, ассоциированных с конкретным внутренним репозиторием.</p>
<p>Общая структура URL:
<code>https://&lt;osaproxy-host&gt;/&lt;repository-name&gt;/&lt;base64-parameters&gt;/&lt;rest-of-path&gt;</code></p>
<h2 id="osa-proxy-base64-url-nexus-artifactory">Передача контекста для корректной работы политик безопасности, привязаных к репозиториям Nexus и Artifactory<a class="headerlink" href="#osa-proxy-base64-url-nexus-artifactory" title="Permanent link">&para;</a></h2>
<p><code>Клиент разработчика</code> -&gt; <code>Nexus / Artifactory</code> -&gt; <code>osa-proxy</code> -&gt; <code>Интернет</code></p>
<p>Для передачи контекстной информации, включающей хост и имя репозитория вашего менеджера репозиториев, эти данные следует интегрировать в Base64-кодированную строку параметров. Важно строго соблюдать правило, согласно которому данная Base64-строка должна располагаться непосредственно после имени репозитория в URL-адресе.</p>
<h3 id="osa-proxy-base64-url-_3">Обновление конфигурации<a class="headerlink" href="#osa-proxy-base64-url-_3" title="Permanent link">&para;</a></h3>
<p>Необходимо пометить репозиторий, как совместимый с Base64 параметрами <code>url-encoded-config: true</code>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#osa-proxy-base64-url-__codelineno-2-1"></a><span class="nt">npm</span><span class="p">:</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#osa-proxy-base64-url-__codelineno-2-2"></a><span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#osa-proxy-base64-url-__codelineno-2-3"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">codescoring-npm</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#osa-proxy-base64-url-__codelineno-2-4"></a><span class="w">      </span><span class="nt">url-encoded-config</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#osa-proxy-base64-url-__codelineno-2-5"></a><span class="w">      </span><span class="c1"># ...</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#osa-proxy-base64-url-__codelineno-2-6"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://registry.npmjs.org</span>
</code></pre></div></p>
<h3 id="osa-proxy-base64-url-nexus">Nexus<a class="headerlink" href="#osa-proxy-base64-url-nexus" title="Permanent link">&para;</a></h3>
<ol>
<li>Перейдите в <strong>Server Administration</strong> -&gt; <strong>Repositories</strong>.</li>
<li>Выберите желаемый тип (например, <code>maven2 (proxy)</code>).</li>
<li>В поле <strong>Remote storage</strong> введите URL вашего экземпляра <code>osa-proxy</code>, включая имя репозитория и параметры, закодированные в Base64.</li>
</ol>
<p>Пример для прокси-репозитория Maven:
<code>https://osaproxy.example.com/internet-maven/eyJyZXBvTWFuYWdlckhvc3QiOiJodHRwczovL3JlcG8xLm1hdmVuLm9yZy9tYXZlbjIiLCJyZXBvTmFtZSI6ImludGVybmV0LW1hdmVuIn0/maven2</code></p>
<h3 id="osa-proxy-base64-url-artifactory">Artifactory<a class="headerlink" href="#osa-proxy-base64-url-artifactory" title="Permanent link">&para;</a></h3>
<ol>
<li>Перейдите в <strong>Administration</strong> -&gt; <strong>Repositories</strong> -&gt; <strong>Remote</strong>.</li>
<li>В конфигурации установите поле <strong>URL</strong> на URL <code>osa-proxy</code>. Этот URL должен включать имя репозитория и строку, закодированную в Base64.</li>
</ol>
<p>Пример для удаленного репозитория PyPI:
<code>https://osaproxy.example.com/internet-pypi/eyJyZXBvTWFuYWdlckhvc3QiOiJodHRwczovL3B5cGkub3JnL3NpbXBsZSIsInJlcG9OYW1lIjoiaW50ZXJuZXQtcHlwaSJ9</code></p>
<h2 id="osa-proxy-base64-url-_4">Правило<a class="headerlink" href="#osa-proxy-base64-url-_4" title="Permanent link">&para;</a></h2>
<p>Закодированная строка параметров в формате Base64 должна быть размещена в пути URL сразу после имени репозитория.</p>
<p>Общая структура URL выглядит следующим образом:
<code>https://&lt;osaproxy-host&gt;/&lt;repository-name&gt;/&lt;base64-parameters&gt;/&lt;rest-of-path&gt;</code></p>
<p>Где:</p>
<ul>
<li><code>&lt;osaproxy-host&gt;</code>: Имя хоста экземпляра <code>osa-proxy</code>.</li>
<li><code>&lt;repository-name&gt;</code>: Имя репозитория, к которому осуществляется доступ.</li>
<li><code>&lt;base64-parameters&gt;</code>: Закодированная в URL-safe Base64 JSON-строка, содержащая параметры.</li>
<li><code>&lt;rest-of-path&gt;</code>: Оставшаяся часть пути из настроек пакетного менеджера.</li>
</ul>
<h2 id="osa-proxy-base64-url-_5">Пример<a class="headerlink" href="#osa-proxy-base64-url-_5" title="Permanent link">&para;</a></h2>
<p>Например, нужно передать следующие параметры в виде JSON-объекта.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#osa-proxy-base64-url-__codelineno-3-1"></a><span class="p">{</span><span class="nt">&quot;repoManagerHost&quot;</span><span class="p">:</span><span class="s2">&quot;https://nexus.test.ru&quot;</span><span class="p">,</span><span class="nt">&quot;repoName&quot;</span><span class="p">:</span><span class="s2">&quot;npm-proxy&quot;</span><span class="p">}</span>
</code></pre></div>
<p>Для этого следует:</p>
<ol>
<li><strong>Преобразовать JSON-объект в строку.</strong></li>
<li><strong>Закодировать строку с использованием URL-safe Base64.</strong></li>
</ol>
<p>Результат кодирования JSON-объекта выше в Base64:
<code>eyJyZXBvTWFuYWdlckhvc3QiOiJodHRwczovL25leHVzLnRlc3QucnUiLCJyZXBvTmFtZSI6Im5wbS1wcm94eSJ9</code></p>
<h2 id="osa-proxy-base64-url-_6">Настройка менеджеров пакетов<a class="headerlink" href="#osa-proxy-base64-url-_6" title="Permanent link">&para;</a></h2>
<p>Чтобы постоянно использовать URL с параметрами в формате Base64 для всех запросов, необходимо обновить конфигурационный файл вашего менеджера пакетов.</p>
<h3 id="osa-proxy-base64-url-npm">NPM<a class="headerlink" href="#osa-proxy-base64-url-npm" title="Permanent link">&para;</a></h3>
<p>Для NPM нужно отредактировать файл <code>.npmrc</code> и установить ключ <code>registry</code>.</p>
<p>URL должен включать имя репозитория и строку, закодированную в Base64.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#osa-proxy-base64-url-__codelineno-4-1"></a>registry=https://osaproxy.example.com/npm-proxy/eyJyZXBvTWFuYWdlckhvc3QiOiJodHRwczovL25leHVzLnRlc3QucnUiLCJyZXBvTmFtZSI6Im5wbS1wcm94eSJ9
</code></pre></div>
<h3 id="osa-proxy-base64-url-maven">Maven<a class="headerlink" href="#osa-proxy-base64-url-maven" title="Permanent link">&para;</a></h3>
<p>Для Maven нужно отредактировать файл <code>settings.xml</code>. Вы можете добавить новое <code>&lt;mirror&gt;</code> в секцию <code>&lt;mirrors&gt;</code>.</p>
<p>Тег <code>&lt;url&gt;</code> должен содержать полный URL, включая имя репозитория и строку, закодированную в Base64.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#osa-proxy-base64-url-__codelineno-5-1"></a><span class="nt">&lt;settings&gt;</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#osa-proxy-base64-url-__codelineno-5-2"></a><span class="w">  </span>...
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#osa-proxy-base64-url-__codelineno-5-3"></a><span class="w">  </span><span class="nt">&lt;mirrors&gt;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#osa-proxy-base64-url-__codelineno-5-4"></a><span class="w">    </span><span class="nt">&lt;mirror&gt;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#osa-proxy-base64-url-__codelineno-5-5"></a><span class="w">      </span><span class="nt">&lt;id&gt;</span>osa-proxy-mirror<span class="nt">&lt;/id&gt;</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#osa-proxy-base64-url-__codelineno-5-6"></a><span class="w">      </span><span class="nt">&lt;mirrorOf&gt;</span>*<span class="nt">&lt;/mirrorOf&gt;</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#osa-proxy-base64-url-__codelineno-5-7"></a><span class="w">      </span><span class="nt">&lt;url&gt;</span>https://osaproxy.example.com/my-maven-repo/eyJyZXBvTWFuYWdlckhvc3QiOiJodHRwczovL25leHVzLnRlc3QucnUiLCJyZXBvTmFtZSI6Im5wbS1wcm94eSJ9/maven2<span class="nt">&lt;/url&gt;</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#osa-proxy-base64-url-__codelineno-5-8"></a><span class="w">    </span><span class="nt">&lt;/mirror&gt;</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#osa-proxy-base64-url-__codelineno-5-9"></a><span class="w">  </span><span class="nt">&lt;/mirrors&gt;</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#osa-proxy-base64-url-__codelineno-5-10"></a><span class="w">  </span>...
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#osa-proxy-base64-url-__codelineno-5-11"></a><span class="nt">&lt;/settings&gt;</span>
</code></pre></div>
<p>Убедитесь, что значение <code>&lt;mirrorOf&gt;</code> соответствует репозиториям, которые вы хотите проксировать.</p>
<h3 id="osa-proxy-base64-url-go">Go<a class="headerlink" href="#osa-proxy-base64-url-go" title="Permanent link">&para;</a></h3>
<p>Для Go установите переменную окружения <code>GOPROXY</code>, чтобы она включала имя репозитория и строку, закодированную в Base64.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#osa-proxy-base64-url-__codelineno-6-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">GOPROXY</span><span class="o">=</span><span class="s2">&quot;https://osaproxy.example.com/go-repo/eyJyZXBvTWFuYWdlckhvc3QiOiJodHRwczovL25leHVzLnRlc3QucnUiLCJyZXBvTmFtZSI6ImdvLXJlcG8ifQ&quot;</span>
</code></pre></div>
<h3 id="osa-proxy-base64-url-debian">Debian<a class="headerlink" href="#osa-proxy-base64-url-debian" title="Permanent link">&para;</a></h3>
<p>Для Debian нужно отредактировать файл <code>/etc/apt/sources.list</code> или файл в <code>/etc/apt/sources.list.d/</code>. Обновите поле <code>URIs</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#osa-proxy-base64-url-__codelineno-7-1"></a>Types: deb
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#osa-proxy-base64-url-__codelineno-7-2"></a>URIs: https://osaproxy.example.com/debian-repo/eyJyZXBvTWFuYWdlckhvc3QiOiJodHRwczovL25leHVzLnRlc3QucnUiLCJyZXBvTmFtZSI6ImRlYmlhbi1yZXBvIn0=
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#osa-proxy-base64-url-__codelineno-7-3"></a>Suites: stable
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#osa-proxy-base64-url-__codelineno-7-4"></a>Components: main
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#osa-proxy-base64-url-__codelineno-7-5"></a>Signed-By: /path/to/key.gpg
</code></pre></div>
<h3 id="osa-proxy-base64-url-nuget">NuGet<a class="headerlink" href="#osa-proxy-base64-url-nuget" title="Permanent link">&para;</a></h3>
<p>Для NuGet отредактируйте файл <code>NuGet.config</code> и добавьте новый источник пакетов. Атрибут <code>value</code> тега <code>&lt;add&gt;</code> должен содержать полный URL.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#osa-proxy-base64-url-__codelineno-8-1"></a><span class="nt">&lt;configuration&gt;</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#osa-proxy-base64-url-__codelineno-8-2"></a><span class="w">  </span><span class="nt">&lt;packageSources&gt;</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#osa-proxy-base64-url-__codelineno-8-3"></a><span class="w">    </span><span class="nt">&lt;add</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;osa-proxy&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;https://osaproxy.example.com/nuget-repo/eyJyZXBvTWFuYWdlckhvc3QiOiJodHRwczovL25leHVzLnRlc3QucnUiLCJyZXBvTmFtZSI6Im51Z2V0LXJlcG8ifQ/index.json&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#osa-proxy-base64-url-__codelineno-8-4"></a><span class="w">  </span><span class="nt">&lt;/packageSources&gt;</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#osa-proxy-base64-url-__codelineno-8-5"></a><span class="w">  </span>...
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#osa-proxy-base64-url-__codelineno-8-6"></a><span class="nt">&lt;/configuration&gt;</span>
</code></pre></div>
<h3 id="osa-proxy-base64-url-pypi">PyPI<a class="headerlink" href="#osa-proxy-base64-url-pypi" title="Permanent link">&para;</a></h3>
<p>Для PyPI отредактируйте файл <code>pip.conf</code> (Linux/macOS) или <code>pip.ini</code> (Windows) и установите <code>index-url</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#osa-proxy-base64-url-__codelineno-9-1"></a><span class="k">[global]</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#osa-proxy-base64-url-__codelineno-9-2"></a><span class="na">index-url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">https://osaproxy.example.com/pypi-repo/eyJyZXBvTWFuYWdlckhvc3QiOiJodHRwczovL25leHVzLnRlc3QucnUiLCJyZXBvTmFtZSI6InB5cGktcmVwbyJ9/simple</span>
</code></pre></div></section><section class="print-page" id="osa-proxy-config-maven" heading-number="4.3.4.8"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-proxy-config-maven.en">English</a></li>
</ul>
<h1 id="osa-proxy-config-maven-maven">Конфигурация Maven<a class="headerlink" href="#osa-proxy-config-maven-maven" title="Permanent link">&para;</a></h1>
<h2 id="osa-proxy-config-maven-url">Миграция URL репозитория<a class="headerlink" href="#osa-proxy-config-maven-url" title="Permanent link">&para;</a></h2>
<p><strong>Сценарий использования:</strong> миграция репозитория Maven с Artifactory на OSA Proxy.</p>
<p>Следующая таблица содержит сводку по перенаправлению URL репозиториев для Maven. Параметры аутентификации и другие настройки, такие как имя пользователя и пароль, остаются без изменений.</p>
<table>
<thead>
<tr>
<th>Источник</th>
<th>URL в settings.xml до миграции</th>
<th>URL в settings.xml после миграции</th>
<th><code>application.yml</code> maven.repository.registry</th>
</tr>
</thead>
<tbody>
<tr>
<td>Nexus</td>
<td><code>https://nexus.host.ru/repository/maven-remote</code></td>
<td><code>https://{osa-proxy-url}/nexus-mvn</code></td>
<td><code>https://nexus.host.ru/repository/maven-remote</code></td>
</tr>
<tr>
<td>Artifactory</td>
<td><code>https://jfrog.host.ru/artifactory/maven-remote</code></td>
<td><code>https://{osa-proxy-url}/jfrog-mvn</code></td>
<td><code>https://jfrog.host.ru/artifactory/maven-remote</code></td>
</tr>
<tr>
<td>Официальный репозиторий</td>
<td><code>https://repo.maven.apache.org/maven2</code></td>
<td><code>https://{osa-proxy-url}/inet-mvn</code></td>
<td><code>https://repo.maven.apache.org/maven2</code></td>
</tr>
</tbody>
</table>
<h2 id="osa-proxy-config-maven-maven_1">Миграция Maven репозитория<a class="headerlink" href="#osa-proxy-config-maven-maven_1" title="Permanent link">&para;</a></h2>
<p><strong>Исходный файл <code>.m2/settings.xml</code>:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#osa-proxy-config-maven-__codelineno-0-1"></a><span class="nt">&lt;settings&gt;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#osa-proxy-config-maven-__codelineno-0-2"></a><span class="w">  </span><span class="nt">&lt;mirrors&gt;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#osa-proxy-config-maven-__codelineno-0-3"></a><span class="w">    </span><span class="nt">&lt;mirror&gt;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#osa-proxy-config-maven-__codelineno-0-4"></a><span class="w">      </span><span class="nt">&lt;id&gt;</span>artifactory<span class="nt">&lt;/id&gt;</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#osa-proxy-config-maven-__codelineno-0-5"></a><span class="w">      </span><span class="nt">&lt;mirrorOf&gt;</span>*<span class="nt">&lt;/mirrorOf&gt;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#osa-proxy-config-maven-__codelineno-0-6"></a><span class="w">      </span><span class="nt">&lt;url&gt;</span>https://jfrog.host.ru/artifactory/maven-remote<span class="nt">&lt;/url&gt;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#osa-proxy-config-maven-__codelineno-0-7"></a><span class="w">    </span><span class="nt">&lt;/mirror&gt;</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#osa-proxy-config-maven-__codelineno-0-8"></a><span class="w">  </span><span class="nt">&lt;/mirrors&gt;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#osa-proxy-config-maven-__codelineno-0-9"></a><span class="w">  </span><span class="nt">&lt;servers&gt;</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#osa-proxy-config-maven-__codelineno-0-10"></a><span class="w">    </span><span class="nt">&lt;server&gt;</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#osa-proxy-config-maven-__codelineno-0-11"></a><span class="w">      </span><span class="nt">&lt;id&gt;</span>artifactory<span class="nt">&lt;/id&gt;</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#osa-proxy-config-maven-__codelineno-0-12"></a><span class="w">      </span><span class="nt">&lt;username&gt;</span>your-username<span class="nt">&lt;/username&gt;</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#osa-proxy-config-maven-__codelineno-0-13"></a><span class="w">      </span><span class="nt">&lt;password&gt;</span>your-password<span class="nt">&lt;/password&gt;</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#osa-proxy-config-maven-__codelineno-0-14"></a><span class="w">    </span><span class="nt">&lt;/server&gt;</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#osa-proxy-config-maven-__codelineno-0-15"></a><span class="w">  </span><span class="nt">&lt;/servers&gt;</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#osa-proxy-config-maven-__codelineno-0-16"></a><span class="nt">&lt;/settings&gt;</span>
</code></pre></div>
<p>Следующее определение репозитория необходимо добавить в YAML-конфигурацию сервиса (файл <code>application.yml</code>) в секцию maven. Для применения изменений требуется перезапуск сервиса.</p>
<p><strong>Конфигурация в файле <code>application.yml</code></strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#osa-proxy-config-maven-__codelineno-1-1"></a><span class="nt">maven</span><span class="p">:</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#osa-proxy-config-maven-__codelineno-1-2"></a><span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#osa-proxy-config-maven-__codelineno-1-3"></a><span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#osa-proxy-config-maven-__codelineno-1-4"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">jfrog-mvn</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#osa-proxy-config-maven-__codelineno-1-5"></a><span class="w">      </span><span class="nt">scan-manifest</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#osa-proxy-config-maven-__codelineno-1-6"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#osa-proxy-config-maven-__codelineno-1-7"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://jfrog.host.ru/artifactory/maven-remote</span>
</code></pre></div>
<p><strong>Обновлённый файл <code>.m2/settings.xml</code>:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#osa-proxy-config-maven-__codelineno-2-1"></a><span class="nt">&lt;settings&gt;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#osa-proxy-config-maven-__codelineno-2-2"></a><span class="w">  </span><span class="nt">&lt;mirrors&gt;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#osa-proxy-config-maven-__codelineno-2-3"></a><span class="w">    </span><span class="nt">&lt;mirror&gt;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#osa-proxy-config-maven-__codelineno-2-4"></a><span class="w">      </span><span class="nt">&lt;id&gt;</span>cs-proxy<span class="nt">&lt;/id&gt;</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#osa-proxy-config-maven-__codelineno-2-5"></a><span class="w">      </span><span class="nt">&lt;mirrorOf&gt;</span>*<span class="nt">&lt;/mirrorOf&gt;</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#osa-proxy-config-maven-__codelineno-2-6"></a><span class="w">      </span><span class="nt">&lt;url&gt;</span>https://{osa-proxy-url}/jfrog-mvn<span class="nt">&lt;/url&gt;</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#osa-proxy-config-maven-__codelineno-2-7"></a><span class="w">    </span><span class="nt">&lt;/mirror&gt;</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#osa-proxy-config-maven-__codelineno-2-8"></a><span class="w">  </span><span class="nt">&lt;/mirrors&gt;</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#osa-proxy-config-maven-__codelineno-2-9"></a><span class="w">  </span><span class="nt">&lt;servers&gt;</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#osa-proxy-config-maven-__codelineno-2-10"></a><span class="w">    </span><span class="nt">&lt;server&gt;</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#osa-proxy-config-maven-__codelineno-2-11"></a><span class="w">      </span><span class="nt">&lt;id&gt;</span>cs-proxy<span class="nt">&lt;/id&gt;</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#osa-proxy-config-maven-__codelineno-2-12"></a><span class="w">      </span><span class="nt">&lt;username&gt;</span>your-username<span class="nt">&lt;/username&gt;</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#osa-proxy-config-maven-__codelineno-2-13"></a><span class="w">      </span><span class="nt">&lt;password&gt;</span>your-password<span class="nt">&lt;/password&gt;</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#osa-proxy-config-maven-__codelineno-2-14"></a><span class="w">    </span><span class="nt">&lt;/server&gt;</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#osa-proxy-config-maven-__codelineno-2-15"></a><span class="w">  </span><span class="nt">&lt;/servers&gt;</span>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#osa-proxy-config-maven-__codelineno-2-16"></a><span class="nt">&lt;/settings&gt;</span>
</code></pre></div></section><section class="print-page" id="osa-proxy-config-npm" heading-number="4.3.4.9"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-proxy-config-npm.en">English</a></li>
</ul>
<h1 id="osa-proxy-config-npm-npm">Конфигурация NPM<a class="headerlink" href="#osa-proxy-config-npm-npm" title="Permanent link">&para;</a></h1>
<h2 id="osa-proxy-config-npm-url">Миграция URL репозитория<a class="headerlink" href="#osa-proxy-config-npm-url" title="Permanent link">&para;</a></h2>
<p><strong>Сценарий использования:</strong> миграция репозитория <code>npm</code> с Artifactory на OSA Proxy.</p>
<p>Следующая таблица содержит сводку по перенаправлению URL репозиториев для NPM. Параметры аутентификации и другие настройки, такие как имя пользователя и пароль, остаются без изменений.</p>
<table>
<thead>
<tr>
<th>Источник</th>
<th>.npmrc <code>registry:</code> до миграции</th>
<th>.npmrc <code>registry:</code> после миграции</th>
<th><code>application.yml</code> npm.repository.registry</th>
</tr>
</thead>
<tbody>
<tr>
<td>Nexus</td>
<td><code>https://nexus.host.ru/repository/npm-proxy</code></td>
<td><code>https://{osa-proxy-url}/nexus-npm</code></td>
<td><code>https://nexus.host.ru/repository/npm-proxy</code></td>
</tr>
<tr>
<td>Artifactory</td>
<td><code>https://jfrog.host.ru/artifactory/api/npm/npm-remote</code></td>
<td><code>https://{osa-proxy-url}/jfrog-npm</code></td>
<td><code>https://jfrog.host.ru/artifactory/api/npm/npm-remote</code></td>
</tr>
<tr>
<td>Официальный репозиторий</td>
<td><code>https://registry.npmjs.org</code></td>
<td><code>https://{osa-proxy-url}/inet-npm</code></td>
<td><code>https://registry.npmjs.org</code></td>
</tr>
</tbody>
</table>
<h2 id="osa-proxy-config-npm-npm_1">Миграция NPM репозитория<a class="headerlink" href="#osa-proxy-config-npm-npm_1" title="Permanent link">&para;</a></h2>
<p><strong>Исходный файл <code>.npmrc</code>:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#osa-proxy-config-npm-__codelineno-0-1"></a>registry=https://artifactory.domain.ru/artifactory/api/npm/npm-remote/
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#osa-proxy-config-npm-__codelineno-0-2"></a>//artifactory.domain.ru/artifactory/api/npm/npm-remote/:_password=1NHTGVrUnJQ
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#osa-proxy-config-npm-__codelineno-0-3"></a>//artifactory.domain.ru/artifactory/api/npm/npm-remote/:username=asdf
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#osa-proxy-config-npm-__codelineno-0-4"></a>//artifactory.domain.ru/artifactory/api/npm/npm-remote/:email=asdf@domain.ru
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#osa-proxy-config-npm-__codelineno-0-5"></a>//artifactory.domain.ru/artifactory/api/npm/npm-remote/:always-auth=true
</code></pre></div>
<p>Следующее определение репозитория необходимо добавить в YAML-конфигурацию сервиса (файл <code>application.yml</code>) в секцию npm. Для применения изменений требуется перезапуск сервиса.</p>
<p><strong>Конфигурация в файле <code>application.yml</code></strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#osa-proxy-config-npm-__codelineno-1-1"></a><span class="nt">npm</span><span class="p">:</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#osa-proxy-config-npm-__codelineno-1-2"></a><span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#osa-proxy-config-npm-__codelineno-1-3"></a><span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#osa-proxy-config-npm-__codelineno-1-4"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arti-npm</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#osa-proxy-config-npm-__codelineno-1-5"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#osa-proxy-config-npm-__codelineno-1-6"></a><span class="w">      </span><span class="nt">scan-manifest</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#osa-proxy-config-npm-__codelineno-1-7"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://artifactory.domain.ru/artifactory/api/npm/npm-remote/</span>
</code></pre></div>
<p><strong>Обновлённый файл .npmrc:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#osa-proxy-config-npm-__codelineno-2-1"></a>registry=https://{osa-proxy-url}/arti-npm
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#osa-proxy-config-npm-__codelineno-2-2"></a>//{osa-proxy-url}/arti-npm/:_password=1NHTGVrUnJQ
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#osa-proxy-config-npm-__codelineno-2-3"></a>//{osa-proxy-url}/arti-npm/:username=asdf
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#osa-proxy-config-npm-__codelineno-2-4"></a>//{osa-proxy-url}/arti-npm/:email=asdf@domain.ru
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#osa-proxy-config-npm-__codelineno-2-5"></a>//{osa-proxy-url}/arti-npm/:always-auth=true
</code></pre></div></section><section class="print-page" id="osa-proxy-config-nuget" heading-number="4.3.4.10"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-proxy-config-nuget.en">English</a></li>
</ul>
<h1 id="osa-proxy-config-nuget-nuget">Конфигурация NuGet<a class="headerlink" href="#osa-proxy-config-nuget-nuget" title="Permanent link">&para;</a></h1>
<h2 id="osa-proxy-config-nuget-url">Миграция URL репозитория<a class="headerlink" href="#osa-proxy-config-nuget-url" title="Permanent link">&para;</a></h2>
<p><strong>Сценарий использования:</strong> миграция репозитория NuGet с Artifactory на OSA Proxy.</p>
<p>Следующая таблица содержит сводку по перенаправлению URL репозиториев для NuGet. Параметры аутентификации и другие настройки, такие как имя пользователя и пароль, остаются без изменений.</p>
<table>
<thead>
<tr>
<th>Источник</th>
<th>URL в NuGet.config до миграции</th>
<th>URL в NuGet.config после миграции</th>
<th><code>application.yml</code> nuget.repository.registry</th>
</tr>
</thead>
<tbody>
<tr>
<td>Nexus</td>
<td><code>https://nexus.host.ru/repository/nuget.org-proxy/index.json</code></td>
<td><code>https://{osa-proxy-url}/nexus-nuget/nuget-api/index.json</code></td>
<td><code>https://nexus.host.ru/repository/nuget.org-proxy</code></td>
</tr>
<tr>
<td>Artifactory</td>
<td><code>https://jfrog.host.ru/artifactory/api/nuget/v3/nuget-safe</code></td>
<td><code>https://{osa-proxy-url}/arti-nuget/nuget-api</code></td>
<td><code>https://jfrog.host.ru/artifactory/api/nuget/v3/nuget-safe</code></td>
</tr>
<tr>
<td>Официальный репозиторий</td>
<td><code>https://api.nuget.org/v3/index.json</code></td>
<td><code>https://{osa-proxy-url}/inet-nuget/nuget-api/v3/index.json</code></td>
<td><code>https://api.nuget.org</code></td>
</tr>
</tbody>
</table>
<h2 id="osa-proxy-config-nuget-nuget_1">Миграция NuGet репозитория<a class="headerlink" href="#osa-proxy-config-nuget-nuget_1" title="Permanent link">&para;</a></h2>
<p><strong>Исходный файл <code>NuGet.config</code>:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#osa-proxy-config-nuget-__codelineno-0-1"></a><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#osa-proxy-config-nuget-__codelineno-0-2"></a><span class="nt">&lt;configuration&gt;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#osa-proxy-config-nuget-__codelineno-0-3"></a><span class="w">  </span><span class="nt">&lt;packageSources&gt;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#osa-proxy-config-nuget-__codelineno-0-4"></a><span class="w">    </span><span class="nt">&lt;clear</span><span class="w"> </span><span class="nt">/&gt;</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#osa-proxy-config-nuget-__codelineno-0-5"></a><span class="w">    </span><span class="nt">&lt;add</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;Artifactory&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;https://jfrog.host.ru/artifactory/api/nuget/v3/nuget-safe&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#osa-proxy-config-nuget-__codelineno-0-6"></a><span class="w">  </span><span class="nt">&lt;/packageSources&gt;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#osa-proxy-config-nuget-__codelineno-0-7"></a><span class="w">  </span><span class="nt">&lt;packageSourceCredentials&gt;</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#osa-proxy-config-nuget-__codelineno-0-8"></a><span class="w">    </span><span class="nt">&lt;Artifactory&gt;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#osa-proxy-config-nuget-__codelineno-0-9"></a><span class="w">      </span><span class="nt">&lt;add</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;Username&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;your-username&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#osa-proxy-config-nuget-__codelineno-0-10"></a><span class="w">      </span><span class="nt">&lt;add</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;ClearTextPassword&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;your-password&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#osa-proxy-config-nuget-__codelineno-0-11"></a><span class="w">    </span><span class="nt">&lt;/Artifactory&gt;</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#osa-proxy-config-nuget-__codelineno-0-12"></a><span class="w">  </span><span class="nt">&lt;/packageSourceCredentials&gt;</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#osa-proxy-config-nuget-__codelineno-0-13"></a><span class="nt">&lt;/configuration&gt;</span>
</code></pre></div>
<p>Следующее определение репозитория необходимо добавить в YAML-конфигурацию сервиса (файл <code>application.yml</code>) в секцию nuget. Для применения изменений требуется перезапуск сервиса.</p>
<p><strong>Конфигурация в файле <code>application.yml</code></strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#osa-proxy-config-nuget-__codelineno-1-1"></a><span class="nt">nuget</span><span class="p">:</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#osa-proxy-config-nuget-__codelineno-1-2"></a><span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#osa-proxy-config-nuget-__codelineno-1-3"></a><span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#osa-proxy-config-nuget-__codelineno-1-4"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arti-nuget</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#osa-proxy-config-nuget-__codelineno-1-5"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#osa-proxy-config-nuget-__codelineno-1-6"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://jfrog.host.ru/artifactory/api/nuget/v3/nuget-safe</span>
</code></pre></div>
<p><strong>Обновлённый файл <code>NuGet.config</code>:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#osa-proxy-config-nuget-__codelineno-2-1"></a><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#osa-proxy-config-nuget-__codelineno-2-2"></a><span class="nt">&lt;configuration&gt;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#osa-proxy-config-nuget-__codelineno-2-3"></a><span class="w">  </span><span class="nt">&lt;packageSources&gt;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#osa-proxy-config-nuget-__codelineno-2-4"></a><span class="w">    </span><span class="nt">&lt;clear</span><span class="w"> </span><span class="nt">/&gt;</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#osa-proxy-config-nuget-__codelineno-2-5"></a><span class="w">    </span><span class="nt">&lt;add</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;OSA-Proxy&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;https://{osa-proxy-url}/arti-nuget/nuget-api&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#osa-proxy-config-nuget-__codelineno-2-6"></a><span class="w">  </span><span class="nt">&lt;/packageSources&gt;</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#osa-proxy-config-nuget-__codelineno-2-7"></a><span class="w">  </span><span class="nt">&lt;packageSourceCredentials&gt;</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#osa-proxy-config-nuget-__codelineno-2-8"></a><span class="w">    </span><span class="nt">&lt;OSA-Proxy&gt;</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#osa-proxy-config-nuget-__codelineno-2-9"></a><span class="w">      </span><span class="nt">&lt;add</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;Username&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;your-username&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#osa-proxy-config-nuget-__codelineno-2-10"></a><span class="w">      </span><span class="nt">&lt;add</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;ClearTextPassword&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;your-password&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#osa-proxy-config-nuget-__codelineno-2-11"></a><span class="w">    </span><span class="nt">&lt;/OSA-Proxy&gt;</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#osa-proxy-config-nuget-__codelineno-2-12"></a><span class="w">  </span><span class="nt">&lt;/packageSourceCredentials&gt;</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#osa-proxy-config-nuget-__codelineno-2-13"></a><span class="nt">&lt;/configuration&gt;</span>
</code></pre></div></section><section class="print-page" id="osa-proxy-config-pypi" heading-number="4.3.4.11"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-proxy-config-pypi.en">English</a></li>
</ul>
<h1 id="osa-proxy-config-pypi-pypi">Конфигурация PyPI<a class="headerlink" href="#osa-proxy-config-pypi-pypi" title="Permanent link">&para;</a></h1>
<h2 id="osa-proxy-config-pypi-url">Миграция URL репозитория<a class="headerlink" href="#osa-proxy-config-pypi-url" title="Permanent link">&para;</a></h2>
<p><strong>Сценарий использования:</strong> миграция репозитория PyPI с Artifactory на OSA Proxy.</p>
<p>Следующая таблица содержит сводку по перенаправлению URL репозиториев для PyPI. Параметры аутентификации и другие настройки, такие как имя пользователя и пароль, остаются без изменений.</p>
<table>
<thead>
<tr>
<th>Источник</th>
<th>URL в pip.conf / pip.ini до миграции</th>
<th>URL в pip.conf / pip.ini после миграции</th>
<th><code>application.yml</code> pypi.repository.registry</th>
</tr>
</thead>
<tbody>
<tr>
<td>Nexus</td>
<td><code>https://nexus.host.ru/repository/pip-remote/simple</code></td>
<td><code>https://{osa-proxy-url}/nexus-pypi/simple</code></td>
<td><code>https://nexus.host.ru/repository/pip-remote</code></td>
</tr>
<tr>
<td>Artifactory</td>
<td><code>https://jfrog.host.ru/artifactory/api/pypi/pypi-remote/simple</code></td>
<td><code>https://{osa-proxy-url}/jfrog-pypi/simple</code></td>
<td><code>https://jfrog.host.ru/artifactory/api/pypi/pypi-remote</code></td>
</tr>
<tr>
<td>Официальный репозиторий</td>
<td><code>https://pypi.org/simple</code></td>
<td><code>https://{osa-proxy-url}/inet-pypi/simple</code></td>
<td><code>https://pypi.org</code></td>
</tr>
</tbody>
</table>
<h2 id="osa-proxy-config-pypi-pypi_1">Миграция PyPI репозитория<a class="headerlink" href="#osa-proxy-config-pypi-pypi_1" title="Permanent link">&para;</a></h2>
<p><strong>Исходный файл <code>pip.conf</code> (Linux/macOS) или <code>pip.ini</code> (Windows):</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#osa-proxy-config-pypi-__codelineno-0-1"></a><span class="k">[global]</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#osa-proxy-config-pypi-__codelineno-0-2"></a><span class="na">index-url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">https://jfrog.host.ru/artifactory/api/pypi/pypi-remote/simple</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#osa-proxy-config-pypi-__codelineno-0-3"></a><span class="na">trusted-host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">jfrog.host.ru</span>
</code></pre></div>
<p>Или с аутентификацией:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#osa-proxy-config-pypi-__codelineno-1-1"></a><span class="k">[global]</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#osa-proxy-config-pypi-__codelineno-1-2"></a><span class="na">index-url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">https://username:password@jfrog.host.ru/artifactory/api/pypi/pypi-remote/simple</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#osa-proxy-config-pypi-__codelineno-1-3"></a><span class="na">trusted-host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">jfrog.host.ru</span>
</code></pre></div>
<p>Следующее определение репозитория необходимо добавить в YAML-конфигурацию сервиса (файл <code>application.yml</code>) в секцию pypi. Для применения изменений требуется перезапуск сервиса.</p>
<p><strong>Конфигурация в файле <code>application.yml</code></strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#osa-proxy-config-pypi-__codelineno-2-1"></a><span class="nt">pypi</span><span class="p">:</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#osa-proxy-config-pypi-__codelineno-2-2"></a><span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#osa-proxy-config-pypi-__codelineno-2-3"></a><span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#osa-proxy-config-pypi-__codelineno-2-4"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">jfrog-pypi</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#osa-proxy-config-pypi-__codelineno-2-5"></a><span class="w">      </span><span class="nt">scan-manifest</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#osa-proxy-config-pypi-__codelineno-2-6"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#osa-proxy-config-pypi-__codelineno-2-7"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://jfrog.host.ru/artifactory/api/pypi/pypi-remote</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#osa-proxy-config-pypi-__codelineno-2-8"></a><span class="w">      </span><span class="nt">packages-registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://jfrog.host.ru/artifactory/api/pypi/pypi-remote/packages</span>
</code></pre></div>
<p><strong>Обновлённый файл <code>pip.conf</code> (Linux/macOS) или <code>pip.ini</code> (Windows):</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#osa-proxy-config-pypi-__codelineno-3-1"></a><span class="k">[global]</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#osa-proxy-config-pypi-__codelineno-3-2"></a><span class="na">index-url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">https://{osa-proxy-url}/jfrog-pypi</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#osa-proxy-config-pypi-__codelineno-3-3"></a><span class="na">trusted-host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">{osa-proxy-url}</span>
</code></pre></div>
<p>Или с аутентификацией:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#osa-proxy-config-pypi-__codelineno-4-1"></a><span class="k">[global]</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#osa-proxy-config-pypi-__codelineno-4-2"></a><span class="na">index-url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">https://username:password@{osa-proxy-url}/jfrog-pypi</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#osa-proxy-config-pypi-__codelineno-4-3"></a><span class="na">trusted-host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">{osa-proxy-url}</span>
</code></pre></div>
<h3 id="osa-proxy-config-pypi-_1">Расположение конфигурационных файлов<a class="headerlink" href="#osa-proxy-config-pypi-_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Linux/macOS</strong>: <code>~/.config/pip/pip.conf</code> или <code>~/.pip/pip.conf</code></li>
<li><strong>Windows</strong>: <code>%APPDATA%\pip\pip.ini</code> или <code>%HOME%\pip\pip.ini</code></li>
<li><strong>Для virtualenv</strong>: <code>$VIRTUAL_ENV/pip.conf</code></li>
</ul></section><section class="print-page" id="osa-proxy-config-go" heading-number="4.3.4.12"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-proxy-config-go.en">English</a></li>
</ul>
<h1 id="osa-proxy-config-go-go">Конфигурация Go<a class="headerlink" href="#osa-proxy-config-go-go" title="Permanent link">&para;</a></h1>
<h2 id="osa-proxy-config-go-go_1">Миграция прокси для Go<a class="headerlink" href="#osa-proxy-config-go-go_1" title="Permanent link">&para;</a></h2>
<p><strong>Сценарий использования:</strong> миграция Go для использования OSA Proxy вместо прямого доступа или внешних публичных прокси.</p>
<p>Следующая таблица содержит сводку по перенаправлению URL для прокси Go. Параметры аутентификации и другие настройки (если применимы, например, для частных репозиториев, требующих специфических учетных данных) должны быть настроены отдельно в соответствии с вашими корпоративными политиками (например, через <code>.netrc</code> или SSH-ключи).</p>
<table>
<thead>
<tr>
<th>Источник модулей / Репозиторий</th>
<th><code>GOPROXY</code> до миграции</th>
<th><code>GOPROXY</code> после миграции</th>
</tr>
</thead>
<tbody>
<tr>
<td>Nexus</td>
<td><code>https://nexus.host.ru/repository/go-remote</code></td>
<td><code>https://{osa-proxy-url}/nexus-go</code></td>
</tr>
<tr>
<td>Artifactor</td>
<td><code>https://jfrog.host.ru/artifactory/api/go/go-virt</code></td>
<td><code>https://{osa-proxy-url}/arti-go</code></td>
</tr>
<tr>
<td>Официальный прокси Go</td>
<td><code>https://proxy.golang.org</code></td>
<td><code>https://{osa-proxy-url}/inet-go</code></td>
</tr>
</tbody>
</table>
<h2 id="osa-proxy-config-go-go_2">Детали миграции прокси Go<a class="headerlink" href="#osa-proxy-config-go-go_2" title="Permanent link">&para;</a></h2>
<h3 id="osa-proxy-config-go-_1">Настройка окружения до миграции<a class="headerlink" href="#osa-proxy-config-go-_1" title="Permanent link">&para;</a></h3>
<p>До миграции ваш <code>GOPROXY</code> мог быть установлен на публичный прокси Go (<code>https://proxy.golang.org</code>) или не задан вовсе, что приводило к использованию <code>proxy.golang.org</code> по умолчанию.
Следующее определение репозитория необходимо добавить в YAML-конфигурацию сервиса (файл <code>application.yml</code>) в секцию go. Для применения изменений требуется перезапуск сервиса.</p>
<p><strong>Конфигурация в файле <code>application.yml</code></strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#osa-proxy-config-go-__codelineno-0-1"></a><span class="nt">go</span><span class="p">:</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#osa-proxy-config-go-__codelineno-0-2"></a><span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#osa-proxy-config-go-__codelineno-0-3"></a><span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#osa-proxy-config-go-__codelineno-0-4"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">inet-go</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#osa-proxy-config-go-__codelineno-0-5"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#osa-proxy-config-go-__codelineno-0-6"></a><span class="w">      </span><span class="nt">scan-manifest</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#osa-proxy-config-go-__codelineno-0-7"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://proxy.golang.org</span>
</code></pre></div>
<p>Пример текущей конфигурации переменных окружения (например, в файле <code>.bashrc</code>, <code>.zshrc</code> или в CI/CD пайплайне):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#osa-proxy-config-go-__codelineno-1-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">GOPROXY</span><span class="o">=</span>https://<span class="o">{</span>osa-proxy-url<span class="o">}</span>/inet-go
</code></pre></div></section><section class="print-page" id="osa-proxy-config-debian" heading-number="4.3.4.13"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-proxy-config-debian.en">English</a></li>
</ul>
<h1 id="osa-proxy-config-debian-debian">Конфигурация Debian пакетов<a class="headerlink" href="#osa-proxy-config-debian-debian" title="Permanent link">&para;</a></h1>
<h2 id="osa-proxy-config-debian-url">Миграция URL репозитория<a class="headerlink" href="#osa-proxy-config-debian-url" title="Permanent link">&para;</a></h2>
<p><strong>Сценарий использования:</strong> миграция репозиториев Debian с прямых источников на прокси-сервер OSA Proxy.</p>
<p>Следующая таблица содержит сводку по перенаправлению URL репозиториев для Debian. Обратите внимание, что формат строк репозитория <code>deb</code> или <code>deb-src</code> (дистрибутив, компоненты) остается без изменений, меняется только базовый URL репозитория.</p>
<table>
<thead>
<tr>
<th>Источник</th>
<th>URL в <code>sources.list</code> до миграции</th>
<th>URL в <code>sources.list</code> после миграции</th>
<th><code>application.yml</code> apt.repository.registry</th>
</tr>
</thead>
<tbody>
<tr>
<td>Nexus</td>
<td><code>https://nexus.host.ru/repository/debian-group</code></td>
<td><code>https://{osa-proxy-url}/nexus-debian</code></td>
<td><code>https://nexus.host.ru/repository/debian-group</code></td>
</tr>
<tr>
<td>Artifactory</td>
<td><code>https://jfrog.host.ru/artifactory/debian-virtual</code></td>
<td><code>https://{osa-proxy-url}/jfrog-debian</code></td>
<td><code>https://jfrog.host.ru/artifactory/debian-virtual</code></td>
</tr>
<tr>
<td>Официальный Debian</td>
<td><code>https://deb.debian.org/debian/</code></td>
<td><code>https://{osa-proxy-url}/inet-debian</code></td>
<td><code>http://deb.debian.org/debian/</code></td>
</tr>
</tbody>
</table>
<h2 id="osa-proxy-config-debian-apt">Миграция APT репозитория<a class="headerlink" href="#osa-proxy-config-debian-apt" title="Permanent link">&para;</a></h2>
<p><strong>Исходный файл <code>/etc/apt/sources.list</code> или <code>/etc/apt/sources.list.d/*.list</code>:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#osa-proxy-config-debian-__codelineno-0-1"></a>Types:<span class="w"> </span>deb
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#osa-proxy-config-debian-__codelineno-0-2"></a>URIs:<span class="w"> </span>https://deb.debian.org/debian
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#osa-proxy-config-debian-__codelineno-0-3"></a>Suites:<span class="w"> </span>noble<span class="w"> </span>noble-updates<span class="w"> </span>noble-backports
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#osa-proxy-config-debian-__codelineno-0-4"></a>Components:<span class="w"> </span>main<span class="w"> </span>universe<span class="w"> </span>restricted<span class="w"> </span>multiverse
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#osa-proxy-config-debian-__codelineno-0-5"></a>Signed-By:<span class="w"> </span>/usr/share/keyrings/ubuntu-archive-keyring.gpg
</code></pre></div>
<p>Следующее определение репозитория необходимо добавить в YAML-конфигурацию сервиса (файл <code>application.yml</code>) в секцию debian. Для применения изменений требуется перезапуск сервиса.</p>
<p><strong>Конфигурация в файле <code>application.yml</code></strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#osa-proxy-config-debian-__codelineno-1-1"></a><span class="nt">debian</span><span class="p">:</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#osa-proxy-config-debian-__codelineno-1-2"></a><span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#osa-proxy-config-debian-__codelineno-1-3"></a><span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#osa-proxy-config-debian-__codelineno-1-4"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">debian-apt</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#osa-proxy-config-debian-__codelineno-1-5"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#osa-proxy-config-debian-__codelineno-1-6"></a><span class="w">      </span><span class="nt">distro</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bullseye</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#osa-proxy-config-debian-__codelineno-1-7"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://deb.debian.org/debian/</span>
</code></pre></div>
<p>После настройки прокси-сервера и добавления его в application.yml, ваш sources.list будет выглядеть так:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#osa-proxy-config-debian-__codelineno-2-1"></a>Types:<span class="w"> </span>deb
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#osa-proxy-config-debian-__codelineno-2-2"></a>URIs:<span class="w"> </span>https://<span class="o">{</span>osa-proxy-url<span class="o">}</span>/codescoring-debian
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#osa-proxy-config-debian-__codelineno-2-3"></a>Suites:<span class="w"> </span>noble<span class="w"> </span>noble-updates<span class="w"> </span>noble-backports
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#osa-proxy-config-debian-__codelineno-2-4"></a>Components:<span class="w"> </span>main<span class="w"> </span>universe<span class="w"> </span>restricted<span class="w"> </span>multiverse
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#osa-proxy-config-debian-__codelineno-2-5"></a>Signed-By:<span class="w"> </span>/usr/share/keyrings/ubuntu-archive-keyring.gpg
</code></pre></div></section><section class="print-page" id="osa-proxy-config-docker" heading-number="4.3.4.14"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-proxy-config-docker.en">English</a></li>
</ul>
<h1 id="osa-proxy-config-docker-docker-registry">Конфигурация Docker Registry<a class="headerlink" href="#osa-proxy-config-docker-docker-registry" title="Permanent link">&para;</a></h1>
<h2 id="osa-proxy-config-docker-url">Миграция URL реестра<a class="headerlink" href="#osa-proxy-config-docker-url" title="Permanent link">&para;</a></h2>
<p><strong>Сценарий использования:</strong> миграция Docker реестров с прямых источников на прокси-сервер OSA Proxy.</p>
<p>Следующая таблица содержит сводку по перенаправлению URL для Docker.</p>
<table>
<thead>
<tr>
<th>Источник</th>
<th>URL до миграции</th>
<th>URL после миграции</th>
<th><code>application.yml</code> docker.repository.registry</th>
</tr>
</thead>
<tbody>
<tr>
<td>Nexus</td>
<td><code>nexus.host.ru:5000</code></td>
<td><code>{osa-proxy-url}/nexus-docker</code></td>
<td><code>https://nexus.host.ru:5000</code></td>
</tr>
<tr>
<td>Artifactory</td>
<td><code>jfrog.host.ru/docker-remote</code></td>
<td><code>{osa-proxy-url}/jfrog-docker</code></td>
<td><code>https://jfrog.host.ru/docker-remote</code></td>
</tr>
<tr>
<td>Docker Hub</td>
<td><code>registry.hub.docker.com</code></td>
<td><code>{osa-proxy-url}/codescoring-docker</code></td>
<td><code>https://registry-1.docker.io</code></td>
</tr>
</tbody>
</table>
<h2 id="osa-proxy-config-docker-docker">Миграция Docker клиента<a class="headerlink" href="#osa-proxy-config-docker-docker" title="Permanent link">&para;</a></h2>
<p>Следующее определение репозитория необходимо добавить в YAML-конфигурацию сервиса (файл <code>application.yml</code>) в секцию docker. Для применения изменений требуется перезапуск сервиса.</p>
<p><strong>Конфигурация в файле <code>application.yml</code></strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#osa-proxy-config-docker-__codelineno-0-1"></a><span class="nt">docker</span><span class="p">:</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#osa-proxy-config-docker-__codelineno-0-2"></a><span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#osa-proxy-config-docker-__codelineno-0-3"></a><span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#osa-proxy-config-docker-__codelineno-0-4"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">codescoring-docker</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#osa-proxy-config-docker-__codelineno-0-5"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#osa-proxy-config-docker-__codelineno-0-6"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://registry-1.docker.io</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#osa-proxy-config-docker-__codelineno-0-7"></a><span class="w">      </span><span class="nt">auth-token-url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://auth.docker.io</span>
</code></pre></div>
<p>После настройки прокси-сервера и добавления его в application.yml, команда для загрузки образа будет выглядеть так:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#osa-proxy-config-docker-__codelineno-1-1"></a>docker<span class="w"> </span>pull<span class="w"> </span><span class="o">{</span>osa-proxy-url<span class="o">}</span>/codescoring-docker/library/alpine:latest
</code></pre></div>
<h2 id="osa-proxy-config-docker-_1">Использование поддоменов для доступа<a class="headerlink" href="#osa-proxy-config-docker-_1" title="Permanent link">&para;</a></h2>
<p>При использовании более одного Docker-репозитория необходимо включить поддержку поддоменов. Имена поддоменов должны соответствовать именам репозиториев из конфигурации <code>docker.repository</code>.</p>
<p>В этом случае команда для загрузки образа будет выглядеть так:
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#osa-proxy-config-docker-__codelineno-2-1"></a>docker<span class="w"> </span>pull<span class="w"> </span>codescoring-docker.osaproxyhost.ru/library/postgres
</code></pre></div></p>
<p>Если настроен только один репозиторий, использование поддоменов не требуется — Docker-реестр будет доступен напрямую через хост OSA Proxy:
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#osa-proxy-config-docker-__codelineno-3-1"></a>docker<span class="w"> </span>pull<span class="w"> </span>osaproxyhost.ru/library/postgres
</code></pre></div></p></section><section class="print-page" id="osa-proxy-config-apk" heading-number="4.3.4.15"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-proxy-config-apk.en">English</a></li>
</ul>
<h1 id="osa-proxy-config-apk-alpine">Конфигурация Alpine пакетов<a class="headerlink" href="#osa-proxy-config-apk-alpine" title="Permanent link">&para;</a></h1>
<h2 id="osa-proxy-config-apk-url">Миграция URL репозитория<a class="headerlink" href="#osa-proxy-config-apk-url" title="Permanent link">&para;</a></h2>
<p><strong>Сценарий использования:</strong> миграция репозиториев Alpine с прямых источников на прокси-сервер OSA Proxy.</p>
<p>Следующая таблица содержит сводку по перенаправлению URL репозиториев для Alpine.</p>
<table>
<thead>
<tr>
<th>Источник</th>
<th>URL в <code>repositories</code> до миграции</th>
<th>URL в <code>repositories</code> после миграции</th>
<th><code>application.yml</code> alpine.repository.registry</th>
</tr>
</thead>
<tbody>
<tr>
<td>Nexus</td>
<td><code>https://nexus.host.ru/repository/alpine-proxy</code></td>
<td><code>https://{osa-proxy-url}/nexus-alpine</code></td>
<td><code>https://nexus.host.ru/repository/alpine-proxy</code></td>
</tr>
<tr>
<td>Artifactory</td>
<td><code>https://jfrog.host.ru/artifactory/alpine-remote</code></td>
<td><code>https://{osa-proxy-url}/jfrog-alpine</code></td>
<td><code>https://jfrog.host.ru/artifactory/alpine-remote</code></td>
</tr>
<tr>
<td>Официальный Alpine</td>
<td><code>https://dl-cdn.alpinelinux.org/alpine</code></td>
<td><code>https://{osa-proxy-url}/inet-alpine</code></td>
<td><code>https://dl-cdn.alpinelinux.org/alpine</code></td>
</tr>
</tbody>
</table>
<h2 id="osa-proxy-config-apk-apk">Миграция APK репозитория<a class="headerlink" href="#osa-proxy-config-apk-apk" title="Permanent link">&para;</a></h2>
<p><strong>Исходный файл <code>/etc/apk/repositories</code>:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#osa-proxy-config-apk-__codelineno-0-1"></a>https://dl-cdn.alpinelinux.org/alpine
</code></pre></div>
<p>Следующее определение репозитория необходимо добавить в YAML-конфигурацию сервиса (файл <code>application.yml</code>) в секцию alpine. Для применения изменений требуется перезапуск сервиса.</p>
<p><strong>Конфигурация в файле <code>application.yml</code></strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#osa-proxy-config-apk-__codelineno-1-1"></a><span class="nt">alpine</span><span class="p">:</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#osa-proxy-config-apk-__codelineno-1-2"></a><span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#osa-proxy-config-apk-__codelineno-1-3"></a><span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#osa-proxy-config-apk-__codelineno-1-4"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">codescoring-alpine</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#osa-proxy-config-apk-__codelineno-1-5"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#osa-proxy-config-apk-__codelineno-1-6"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://dl-cdn.alpinelinux.org/alpine</span>
</code></pre></div>
<p>После настройки прокси-сервера и добавления его в application.yml, ваш файл репозиториев будет выглядеть так:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#osa-proxy-config-apk-__codelineno-2-1"></a>https://<span class="o">{</span>osa-proxy-url<span class="o">}</span>/codescoring-alpine
</code></pre></div></section><section class="print-page" id="osa-proxy-config-rpm" heading-number="4.3.4.16"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#osa-proxy-config-rpm.en">English</a></li>
</ul>
<h1 id="osa-proxy-config-rpm-rpm">Конфигурация RPM пакетов<a class="headerlink" href="#osa-proxy-config-rpm-rpm" title="Permanent link">&para;</a></h1>
<h2 id="osa-proxy-config-rpm-url">Миграция URL репозитория<a class="headerlink" href="#osa-proxy-config-rpm-url" title="Permanent link">&para;</a></h2>
<p><strong>Сценарий использования:</strong> миграция репозиториев RPM (YUM/DNF) с прямых источников на прокси-сервер OSA Proxy.</p>
<p>Следующая таблица содержит сводку по перенаправлению URL репозиториев для RPM.</p>
<table>
<thead>
<tr>
<th>Источник</th>
<th><code>baseurl</code> в <code>.repo</code> до миграции</th>
<th><code>baseurl</code> в <code>.repo</code> после миграции</th>
<th><code>application.yml</code> rpm.repository.registry</th>
</tr>
</thead>
<tbody>
<tr>
<td>Nexus</td>
<td><code>https://nexus.host.ru/repository/rpm-proxy</code></td>
<td><code>https://{osa-proxy-url}/nexus-rpm</code></td>
<td><code>https://nexus.host.ru/repository/rpm-proxy</code></td>
</tr>
<tr>
<td>Artifactory</td>
<td><code>https://jfrog.host.ru/artifactory/rpm-remote</code></td>
<td><code>https://{osa-proxy-url}/jfrog-rpm</code></td>
<td><code>https://jfrog.host.ru/artifactory/rpm-remote</code></td>
</tr>
<tr>
<td>Официальный Mirror</td>
<td><code>https://repo.almalinux.org/almalinux</code></td>
<td><code>https://{osa-proxy-url}/inet-rpm</code></td>
<td><code>https://repo.almalinux.org/almalinux</code></td>
</tr>
</tbody>
</table>
<h2 id="osa-proxy-config-rpm-yumdnf">Миграция YUM/DNF репозитория<a class="headerlink" href="#osa-proxy-config-rpm-yumdnf" title="Permanent link">&para;</a></h2>
<p><strong>Исходный файл <code>/etc/yum.repos.d/almalinux.repo</code>:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#osa-proxy-config-rpm-__codelineno-0-1"></a><span class="k">[baseos]</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#osa-proxy-config-rpm-__codelineno-0-2"></a><span class="na">name</span><span class="o">=</span><span class="s">AlmaLinux $releasever - BaseOS</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#osa-proxy-config-rpm-__codelineno-0-3"></a><span class="na">baseurl</span><span class="o">=</span><span class="s">https://repo.almalinux.org/almalinux/$releasever/BaseOS/$basearch/os/</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#osa-proxy-config-rpm-__codelineno-0-4"></a><span class="na">enabled</span><span class="o">=</span><span class="s">1</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#osa-proxy-config-rpm-__codelineno-0-5"></a><span class="na">gpgcheck</span><span class="o">=</span><span class="s">1</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#osa-proxy-config-rpm-__codelineno-0-6"></a><span class="na">gpgkey</span><span class="o">=</span><span class="s">file:///etc/pki/rpm-gpg/RPM-GPG-KEY-AlmaLinux-9</span>
</code></pre></div>
<p>Следующее определение репозитория необходимо добавить в YAML-конфигурацию сервиса (файл <code>application.yml</code>) в секцию rpm. Для применения изменений требуется перезапуск сервиса.</p>
<p><strong>Конфигурация в файле <code>application.yml</code></strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#osa-proxy-config-rpm-__codelineno-1-1"></a><span class="nt">rpm</span><span class="p">:</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#osa-proxy-config-rpm-__codelineno-1-2"></a><span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#osa-proxy-config-rpm-__codelineno-1-3"></a><span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#osa-proxy-config-rpm-__codelineno-1-4"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">codescoring-rpm</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#osa-proxy-config-rpm-__codelineno-1-5"></a><span class="w">      </span><span class="nt">scan-package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#osa-proxy-config-rpm-__codelineno-1-6"></a><span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://repo.almalinux.org/almalinux</span>
</code></pre></div>
<p>После настройки прокси-сервера и добавления его в application.yml, конфигурация репозитория будет выглядеть так:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#osa-proxy-config-rpm-__codelineno-2-1"></a><span class="k">[baseos]</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#osa-proxy-config-rpm-__codelineno-2-2"></a><span class="na">name</span><span class="o">=</span><span class="s">AlmaLinux $releasever - BaseOS</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#osa-proxy-config-rpm-__codelineno-2-3"></a><span class="na">baseurl</span><span class="o">=</span><span class="s">https://{osa-proxy-url}/codescoring-rpm/$releasever/BaseOS/$basearch/os/</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#osa-proxy-config-rpm-__codelineno-2-4"></a><span class="na">enabled</span><span class="o">=</span><span class="s">1</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#osa-proxy-config-rpm-__codelineno-2-5"></a><span class="na">gpgcheck</span><span class="o">=</span><span class="s">1</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#osa-proxy-config-rpm-__codelineno-2-6"></a><span class="na">gpgkey</span><span class="o">=</span><span class="s">file:///etc/pki/rpm-gpg/RPM-GPG-KEY-AlmaLinux-9</span>
</code></pre></div></section></section></section>
                    <section class='print-page md-section' id='section-4-4' heading-number='4.4'>
                        <h1>CodeScoring.SCA<a class='headerlink' href='#section-4-4' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="sca" heading-number="4.4.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#sca-index.en">English</a></li>
</ul>
<h1 id="sca-codescoringsca">CodeScoring.SCA<a class="headerlink" href="#sca-codescoringsca" title="Permanent link">&para;</a></h1>
<h2 id="sca-_1">Общее описание<a class="headerlink" href="#sca-_1" title="Permanent link">&para;</a></h2>
<p>Модуль <strong>CodeScoring.SCA</strong> решает задачи инвентаризации ПО и поиска уязвимостей в компонентах с открытым исходным кодом. Основные функциональные возможности модуля включают:</p>
<ul>
<li><strong>Проверку на разных этапах разработки</strong> с возможностью <a href="#sca-launch-analysis">проверки проектов в системе контроля версий</a>;</li>
<li><strong>Интеграцию проверок в CI-конвейер</strong> с блокирующими политиками безопасности с помощью <a href="#agent">консольного агента Johnny</a>;</li>
<li><strong>Построение SBOM</strong> и <a href="#sca-sca-dependencies-_3">визуализацию графа зависимостей</a>;</li>
<li><strong>Анализ на разных уровнях</strong>: проверка манифестов, <a href="#agent-resolve">разрешение транзитивных зависимостей</a>, <a href="#agent-scan-build">перехват сборки</a> для языков C и C++, <a href="#sca-docker-analysis">сканирование Docker-образов</a>;</li>
<li><strong>Отслеживание истории сканирования</strong> с возможностью <a href="#sca-export-results">выгрузки результатов для отчетности</a>;</li>
<li><a href="#sca-reachability">Анализ достижимости уязвимостей</a>.</li>
</ul></section>
                    <section class='print-page md-section' id='section-4-4-2' heading-number='4.4.2'>
                        <h1>Анализ в платформе<a class='headerlink' href='#section-4-4-2' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="sca-launch-analysis" heading-number="4.4.2.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#sca-launch-analysis.en">English</a></li>
</ul>
<h1 id="sca-launch-analysis-_1">Настройка и запуск анализа<a class="headerlink" href="#sca-launch-analysis-_1" title="Permanent link">&para;</a></h1>
<h2 id="sca-launch-analysis-_2">Настройка анализа<a class="headerlink" href="#sca-launch-analysis-_2" title="Permanent link">&para;</a></h2>
<p>Во время запуска анализа в платформе можно выбрать параметры для отдельных проектов.</p>
<p>Управление происходит на странице проекта в разделе <code>Настройки -&gt; Проекты</code>.</p>
<ul>
<li><strong>Сканирование с хэшами</strong> - сканирует проект с использованием хэш-сумм файлов, для поиска прямого включения зависимостей;</li>
<li><strong>Исключения путей анализа</strong> - список директорий, которые будут игнорироваться при сканировании;</li>
<li><strong>Отключить рекурсивное сканирование</strong> - отключает обход директории в глубину при сканировании. Будут найдены манифесты только в корневом каталоге;</li>
<li><strong>Активировать облачный резолв</strong> - включить разрешение зависимостей в облаке. Внимание! Использование облачного резолва может дать неточные результаты и увеличить время анализа;</li>
<li><strong>Исключить из анализа SCA</strong> - исключить данный проект из SCA анализа;</li>
</ul>
<h2 id="sca-launch-analysis-_3">Ручной запуск анализа<a class="headerlink" href="#sca-launch-analysis-_3" title="Permanent link">&para;</a></h2>
<p>Композиционный анализ (SCA) запускается автоматически сразу при добавлении проекта. Для ручного запуска анализа по проекту необходимо использовать кнопку <strong>Запустить SCA</strong> на странице проекта. При этом можно выбрать отдельную ветку или тэг для анализа, которая будет учитываться в истории сканирований.</p>
<p>Также анализ можно запустить на все проекты и на каждый тип анализа (SCA, Quality, Authors) отдельно. Управление запуском общего анализа происходит в разделе <code>Настройки -&gt; Режим работы</code>.</p>
<p><strong>Важно!</strong> Для получения корректных результатов нужно запустить анализ последовательно для каждого модуля, предварительно дождавшись завершения предыдущего запуска. Порядок запуска:</p>
<ol>
<li>Software Composition Analysis (SCA)</li>
<li>Authors Analysis</li>
<li>Quality Analysis</li>
</ol>
<p>Прогресс выполнения анализа можно отслеживать по сообщениям в разделе <code>Настройки -&gt; Аудит лог</code>.</p>
<p>Первый запуск анализа авторов может выполняться заметное время, так как происходит траверс всей истории репозитория. Последующие запуски будут разбирать только разницу в коммитах по обновлениям с последнего запуска.</p>
<h2 id="sca-launch-analysis-_4">Анализ по расписанию<a class="headerlink" href="#sca-launch-analysis-_4" title="Permanent link">&para;</a></h2>
<p>Помимо ручного запуска, можно настроить анализ отдельных проектов по расписанию. Управление происходит на странице проекта в разделе <code>Настройки -&gt; Проекты</code>.</p>
<p>По умолчанию параметр <strong>Расписание сканирования SCA</strong> имеет значение <strong>Выкл.</strong>. Для активации анализа по расписанию необходимо выбрать <strong>Вкл.</strong> и указать время и дни недели.</p>
<p><strong>Примечание</strong>: Время сканирования будет учитываться по UTC +3.</p></section><section class="print-page" id="sca-sca-dependencies" heading-number="4.4.2.2"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#sca-sca-dependencies.en">English</a></li>
</ul>
<h1 id="sca-sca-dependencies-_1">Обзор зависимостей<a class="headerlink" href="#sca-sca-dependencies-_1" title="Permanent link">&para;</a></h1>
<h2 id="sca-sca-dependencies-_2">Просмотр списка зависимостей<a class="headerlink" href="#sca-sca-dependencies-_2" title="Permanent link">&para;</a></h2>
<p>Список просканированных open source завимостей можно посмотреть в подразделе <code>SCA -&gt; Зависимости</code>. Таблица в данном разделе содержит <strong>все</strong> зависимости, которые проходили проверку за время работы SCA модуля, со следующей информацией:</p>
<ul>
<li><strong>Зависимость</strong> – название зависимости (со ссылкой на его индивидуальную страницу);</li>
<li><strong>Технология</strong> – технология (язык программирования или инструмент сборки);</li>
<li><strong>Лицензии</strong> – идентификатор лицензии, указанный в пакетном индексе;</li>
<li><strong>Авторы</strong> – разработчик компонента, указанный в пакетном индексе;</li>
<li><strong>Уязвимости</strong> – количество найденных уязвимостей в зависимости;</li>
<li><strong>Найдено</strong> – тип определения зависимости: по манифесту, облачный резолв или по содержимому (когда код компонента включен в кодовую базу проекта);</li>
<li><strong>Связь</strong> - тип зависимости (прямая или транзитивная);</li>
<li><strong>Окружение</strong> -  окружение разработки;</li>
<li><strong>Родительские зависимости</strong> - связанные вышестоящие зависимости;</li>
<li><strong>Проект</strong> - проект, в котором используется зависимость;</li>
<li><strong>Максимальная версия исправления</strong> - версия зависимости, на которую необходимо выполнить обновление, чтобы закрыть обнаруженные в настоящий момент модулем SCA уязвимости, при этом учитываются только зависимости с указанной версией исправления уязвимости;</li>
<li><strong>Дата выпуска</strong> - дата и время релиза зависимости.</li>
</ul>
<p>Таблицу с зависимостями можно отфильтровать по проекту, подразделению, категории проекта, группах проекта, технологии, лицензии, категории лицензии, как найдено, связи, родителям, окружению, временному периоду выпуска.</p>
<p>По нажатию на название зависимости осуществляется переход на его индивидуальную страницу, где отображается информация об его использовании в проектах и найденных уязвимостях.</p>
<h2 id="sca-sca-dependencies-_3">Работа с визуализацией графа зависимостей<a class="headerlink" href="#sca-sca-dependencies-_3" title="Permanent link">&para;</a></h2>
<p>Open source зависимости программных проектов представляют собой граф — структуру, в которой отдельные компоненты выступают узлами, а связи между ними представлены в виде ребер.</p>
<p>Увидеть визуализацию графа зависимостей можно в разделе <code>Зависимости</code> или на странице проекта, нажав на соответствующую иконку в списке зависимостей.</p>
<p><img alt="Dependencies" src="/assets/img/sca/dependencies-list.png" /></p>
<p>На странице с интерактивной визуализацией представлены компоненты по уровням вложенности — от корневой зависимости до максимального уровня транзитивных зависимостей. По наведению курсора на объекты можно увидеть более подробную информацию о компоненте: версия, окружение, технология и количество уязвимостей.</p>
<p>Визуализация интерактивна и масштабируема. По нажатию на компоненту можно отследить путь ее попадания в проект. Компоненты с найденными уязвимостями обозначаются цветом.</p>
<p><img alt="Graph" src="/assets/img/sca/graph.png" /></p>
<p>Компоненты на полученном графе можно отфильтровать по следующим параметрам:</p>
<ul>
<li>технология;</li>
<li>среда разработки;</li>
<li>степень критичности уязвимости.</li>
</ul>
<p>После выбора компоненты графа можно сконфигурировать отображаемые связи:</p>
<ul>
<li>направление (корень/потомки)</li>
<li>уровень вложенности для потомков</li>
<li>выбор конкретного пути до корня</li>
</ul></section><section class="print-page" id="sca-vulnerabilities" heading-number="4.4.2.3"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#sca-vulnerabilities.en">English</a></li>
</ul>
<h1 id="sca-vulnerabilities-_1">Работа с уязвимостями<a class="headerlink" href="#sca-vulnerabilities-_1" title="Permanent link">&para;</a></h1>
<h2 id="sca-vulnerabilities-_2">Просмотр списка уязвимостей<a class="headerlink" href="#sca-vulnerabilities-_2" title="Permanent link">&para;</a></h2>
<p>Список обнаруженных уязвимостей доступен в подразделе <code>SCA -&gt; Уязвимости</code>. В этом разделе отображаются <strong>все уязвимости</strong>, выявленные модулями SCA и OSA за время их работы.</p>
<p>Таблица уязвимостей содержит следующую информацию:</p>
<ul>
<li><strong>Уязвимость</strong> – идентификатор уязвимости (например, CVE) со ссылкой на ее индивидуальную страницу;</li>
<li><strong>Зависимость</strong> – компонент, в котором обнаружена уязвимость, с указанием версии;</li>
<li><strong>Связь</strong> — тип зависимости, в которой была обнаружена уязвимость (прямая или транзитивная);</li>
<li><strong>Окружение</strong> — среда использования зависимости (например, runtime, dev, main);</li>
<li><strong>Проект</strong> — проект, в котором зафиксировано использование уязвимой зависимости;</li>
<li><strong>CVSS 2</strong> — оценка угрозы по шкале CVSS v2;</li>
<li><strong>CVSS 3</strong> — оценка угрозы по шкале CVSS v3;</li>
<li><strong>CWE</strong> — категории (Common Weakness Enumeration), к которым относится уязвимость;</li>
<li><strong>Есть эксплойт</strong> — признак наличия публично известного эксплойта;</li>
<li><strong>Достижимо</strong> — информация о достижимости уязвимости в контексте использования компонента;</li>
<li><strong>Импакт</strong> — тип потенциального воздействия уязвимости (например, XSS, DoS, RCE и др.);</li>
<li><strong>Исправленная версия</strong> — версия зависимости, в которой уязвимость устранена;</li>
<li><strong>Найдено</strong> — дата и время обнаружения уязвимости.</li>
</ul>
<p>Для удобства анализа список уязвимостей можно отфильтровать по следующим параметрам:</p>
<ul>
<li>проект;</li>
<li>подразделение;</li>
<li>категория и группа проектов;</li>
<li>временной период публикации уязвимости;</li>
<li>дата обнаружения;</li>
<li>рейтинг и уровень угрозы CVSS v2 и CVSS v3;</li>
<li>технология;</li>
<li>окружение зависимости;</li>
<li>тип связи зависимости (прямая или транзитивная);</li>
<li>наличие эксплойта;</li>
<li>достижимость;</li>
<li>наличие исправления;</li>
<li>классы CWE;</li>
<li>импакт уязвимости.</li>
</ul>
<p>Также доступен текстовый поиск по идентификатору уязвимости и связанным данным.</p>
<h2 id="sca-vulnerabilities-_3">Достижимость<a class="headerlink" href="#sca-vulnerabilities-_3" title="Permanent link">&para;</a></h2>
<p>Для достижимых уязвимостей есть возможность просмотра визуализации путей и выгрузки их текстового представления</p>
<p><img alt="Vuln reachability" src="/assets/img/vuln-reachability.png" /></p>
<h2 id="sca-vulnerabilities-_4">Страница уязвимости<a class="headerlink" href="#sca-vulnerabilities-_4" title="Permanent link">&para;</a></h2>
<p>Индивидуальная страница уязвимости предназначена для детального анализа конкретной уязвимости и всей связанной с ней информации в рамках платформы.</p>
<div class="admonition note">
<p class="admonition-title">Дедупликация уязвимостей</p>
<p>Страница отображает <strong>единую дедуплицированную уязвимость</strong>, даже если она была обнаружена несколькими источниками данных (например, NVD, GitHub Advisories, БДУ ФСТЭК и др.). При этом пользователь может просмотреть оригинальные данные каждого источника отдельно.</p>
</div>
<h3 id="sca-vulnerabilities-_5">Общая информация об уязвимости<a class="headerlink" href="#sca-vulnerabilities-_5" title="Permanent link">&para;</a></h3>
<p>В верхней части страницы отображается сводная информация об уязвимости:</p>
<ul>
<li>идентификатор уязвимости (например, CVE);</li>
<li>даты публикации и обновления в источнике данных;</li>
<li>наличие публично известного эксплойта;</li>
<li>краткое описание уязвимости;</li>
<li>связанные категории CWE.</li>
</ul>
<p>Справа отображается наивысшая оценка уровня угрозы для наиболее новой версии CVSS с учетом всех источников.</p>
<p>Ниже можно увидеть разделение по уровням CVSS с указанием версии и соответствующего уровня угрозы.</p>
<p><img alt="Vuln common info" src="/assets/img/vuln-common-info.png" /></p>
<h3 id="sca-vulnerabilities-_6">Источники данных и оценки<a class="headerlink" href="#sca-vulnerabilities-_6" title="Permanent link">&para;</a></h3>
<p>Для уязвимости отображается список источников, в которых она была зафиксирована. Для каждого источника могут быть представлены:</p>
<ul>
<li>собственная оценка CVSS;</li>
<li>версия CVSS;</li>
<li>дополнительные атрибуты и метаданные источника.</li>
</ul>
<p>Это позволяет сопоставлять данные из разных источников и учитывать расхождения в оценках при анализе рисков.</p>
<p><img alt="Vuln sources" src="/assets/img/vuln-data-sources.png" /></p>
<h3 id="sca-vulnerabilities-_7">Затронутые зависимости и образы<a class="headerlink" href="#sca-vulnerabilities-_7" title="Permanent link">&para;</a></h3>
<p>На странице отображаются списки затронутых компонентов:</p>
<ul>
<li>зависимости, обнаруженные в SCA-проектах;</li>
<li>пакеты и образы, проверенные модулем CodeScoring.OSA.</li>
</ul>
<p>Такое разделение упрощает анализ уязвимости в различных контекстах использования и помогает точнее оценить область её влияния.</p>
<p><img alt="Vuln dependencies" src="/assets/img/vuln-dependencies.png" /></p>
<h3 id="sca-vulnerabilities-_8">Связанные алерты<a class="headerlink" href="#sca-vulnerabilities-_8" title="Permanent link">&para;</a></h3>
<p>В нижней части страницы представлен список связанных алертов, сгенерированных политиками безопасности.</p>
<p>Для каждого алерта отображается:</p>
<ul>
<li>политика, в рамках которой он был создан;</li>
<li>условия срабатывания;</li>
<li>проект и этап разработки;</li>
<li>уровень критичности;</li>
<li>дата и время создания.</li>
</ul>
<p>Это позволяет быстро понять, <strong>какие правила безопасности затрагивает уязвимость</strong> и где именно она влияет на проект.</p>
<p><img alt="Vuln alerts" src="/assets/img/vuln-alerts.png" /></p>
<h3 id="sca-vulnerabilities-_9">Дополнительная информация<a class="headerlink" href="#sca-vulnerabilities-_9" title="Permanent link">&para;</a></h3>
<p>В правой части страницы также отображаются:</p>
<ul>
<li>ссылки на внешние ресурсы (NVD, CVE.org, GitHub и другие);</li>
<li>внутренний идентификатор уязвимости в CodeScoring;</li>
<li>дата последнего обновления данных.</li>
</ul>
<p><img alt="Vuln additional" src="/assets/img/vuln-additional.png" /></p></section><section class="print-page" id="sca-scan-history" heading-number="4.4.2.4"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#sca-scan-history.en">English</a></li>
</ul>
<h1 id="sca-scan-history-_1">Отслеживание истории результатов сканирования<a class="headerlink" href="#sca-scan-history-_1" title="Permanent link">&para;</a></h1>
<p>На каждый анализ проекта в рамках модуля SCA сохраняется снепшот результатов по найденным зависимостям и уязвимостям. Чтобы увидеть список доступных снепшотов, необходимо зайти на вкладку SCA на странице проекта и нажать на кнопку <strong>SCA scan history</strong>.</p>
<p><img alt="Scan history" src="/assets/img/sca_history_button.png" /></p>
<p>Снепшот содержит следующие данные:</p>
<ul>
<li><strong>Дата начала</strong> – дата начала сканирования проекта. Дата последнего сканирования отмечается зеленым лейблом latest;</li>
<li><strong>Продолжительность</strong> – время, которое длился анализ;</li>
<li><strong>Тип запуска</strong> – тип запуска сканирования, ручной или по расписанию;</li>
<li><strong>Инициатор</strong> – пользователь, запустивший сканирование. Для запусков по расписанию указывается значение “system”;</li>
<li><strong>Метаданные</strong> – ветка и SHA коммита (для VCS проектов);</li>
<li><strong>Зависимости</strong> – число найденных зависимостей;</li>
<li><strong>Уязвимости</strong> – число найденных уязвимостей;</li>
<li><strong>Статус</strong> – статус завершенного сканирования. Может иметь три возможных значения – success, failed или cancelled.</li>
</ul>
<p>По кнопке в правой части списка доступно скачивание SBOM, сгенерированного во время проведения анализа, а также <a href="#sca-export-results-pdf-">экспорт отчета в PDF</a>.</p>
<p><img alt="Scan history page" src="/assets/img/sca_history_page.png" /></p>
<p>Для того, чтобы посмотреть более подробную информацию по сканированию, необходимо нажать на ссылку с датой сканирования в первой колонке. На данной странице доступны список зависимостей, список уязвимостей и граф зависимостей проекта на момент выполнения анализа.</p>
<p><img alt="Scan history detail" src="/assets/img/sca_history_detail.png" /></p></section><section class="print-page" id="sca-export-results" heading-number="4.4.2.5"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#sca-export-results.en">English</a></li>
</ul>
<h1 id="sca-export-results-_1">Выгрузка результатов анализа<a class="headerlink" href="#sca-export-results-_1" title="Permanent link">&para;</a></h1>
<h2 id="sca-export-results-csv">Выгрузка в CSV<a class="headerlink" href="#sca-export-results-csv" title="Permanent link">&para;</a></h2>
<p>Каждую таблицу с результатами анализа в CodeScoring можно выгрузить в формате CSV, используя кнопку <strong>Экспорт</strong> в правом верхнем углу интерфейса.</p>
<p>CSV-таблица будет учитывать использованные на момент выгрузки фильтры.</p>
<h2 id="sca-export-results-pdf-">Формирование PDF-отчета по проекту<a class="headerlink" href="#sca-export-results-pdf-" title="Permanent link">&para;</a></h2>
<p>После проведения композиционного анализа на странице проекта становится доступным формирование PDF-отчета со сводной информацией по проекту.</p>
<p>Экспортировать PDF-отчет с данными последнего анализа можно на странице проекта по кнопке <strong>Экспорт в PDF</strong>. Экспортировать отчет по анализу за определенную дату можно на странице <code>История сканирований SCA</code>.</p>
<p>Отчет будет сформирован на том языке, который установлен в профиле пользователя.</p>
<p>Полученный отчет по умолчанию содержит следующие данные:</p>
<ul>
<li>общая информация по проекту (название, ветка VCS, время проведения последнего анализа, хэш коммита);</li>
<li>распределение уязвимостей по CVSS;</li>
<li>распределение уязвимостей по технологиям;</li>
<li>таблица найденных зависимостей с разделением по технологиям и окружению разработки;</li>
<li>таблица найденных уязвимостей с разделением по технологиям и окружению разработки;</li>
<li>таблица активных алертов политик;</li>
<li>таблица игноров политик;</li>
<li>граф зависимостей в виде дерева.</li>
</ul>
<p>Также есть возможность задать имя файла, выбрать необходимые блоки данных и отфильтровать данные перед генерацией отчета.
Если имя файла не указано, то оно автоматически сгенерируется по следующим правилам:</p>
<ul>
<li>Для проектов: <code>report_&lt;название проекта&gt;.pdf</code></li>
<li>Для контейнерных образов: <code>report_&lt;название образа&gt;_&lt;первые 8 символов хэша&gt;.pdf</code></li>
</ul>
<p><img alt="PDF export modal" src="/assets/img/pdf-export-modal.png" /></p>
<h2 id="sca-export-results-sbom">Работа со SBOM в рамках проекта<a class="headerlink" href="#sca-export-results-sbom" title="Permanent link">&para;</a></h2>
<p>После проведения композиционного анализа проекта становится доступна выгрузка полученного перечня используемых компонентов (SBOM) в формате CycloneDX.</p>
<p>Выгрузить полученный SBOM можно на странице проекта в разделе <code>Проекты</code> по кнопке <strong>Скачать SBOM</strong>.</p>
<p>Экспорт SBOM поддерживается в следующих форматах:</p>
<ul>
<li><a href="https://cyclonedx.org/docs/1.4/json/">CycloneDX v1.4 JSON</a>;</li>
<li><a href="https://cyclonedx.org/docs/1.5/json/">CycloneDX v1.5 JSON</a>;</li>
<li><a href="https://cyclonedx.org/docs/1.6/json/">CycloneDX v1.6 JSON</a>;</li>
<li>CycloneDX v1.6 Ext JSON – расширенный формат CycloneDX, содержащий дополнительные свойства: <code>GOST:attack_surface</code>, <code>GOST:security_function</code>, <code>GOST:source_lang</code>, <code>GOST:provided_by</code>. Формат адаптирован под дополнительные требования к перечню программных компонентов от ФСТЭК России.</li>
<li><a href="https://cyclonedx.org/docs/1.7/json/">CycloneDX v1.7 JSON</a>;</li>
<li>CycloneDX v1.7 Ext JSON – расширенный формат CycloneDX, содержащий дополнительные свойства: <code>GOST:attack_surface</code>, <code>GOST:security_function</code>, <code>GOST:source_lang</code>, <code>GOST:provided_by</code>. Формат адаптирован под дополнительные требования к перечню программных компонентов от ФСТЭК России.</li>
<li><a href="https://spdx.github.io/spdx-spec/v2.3/">SPDX v2.3 JSON</a></li>
</ul>
<p>Для выгрузки SBOM так же, как и для PDF, возможна дополнительная настройка. Правила автоматической генерации имен файлов SBOM следующие:</p>
<ul>
<li>Для проектов: <code>bom_&lt;название проекта&gt;_&lt;формат SBOM&gt;.json</code></li>
<li>Для контейнерных образов: <code>bom_&lt;название образа&gt;_&lt;первые 8 символов хэша&gt;_&lt;формат SBOM&gt;.json</code></li>
</ul>
<h2 id="sca-export-results-sbom_1">Импорт SBOM<a class="headerlink" href="#sca-export-results-sbom_1" title="Permanent link">&para;</a></h2>
<p>Для CLI-проектов также доступна загрузка SBOM через интерфейс по кнопке <strong>Импорт SBOM</strong>.
Загружаемый SBOM должен быть в формате CycloneDX v1.4, 1.5, 1.6, 1.6_ext, 1.7 или 1.7_ext и иметь расширение <code>.json</code>.</p>
<p>При импорте SBOM можно указать ветку или тег в качестве мета-информации.</p>
<h3 id="sca-export-results-bom-settings">Настройка свойств зависимостей для выгрузки в SBOM<a class="headerlink" href="#sca-export-results-bom-settings" title="Permanent link">&para;</a></h3>
<p>Для настройки свойств зависимостей необходимо перейти на страницу по кнопке <code>Настроить зависимости</code> в таблице зависимостей на странице проекта.</p>
<p><img alt="Dependencies settings button" src="/assets/img/ru-dependencies-settings-button.png" /></p>
<p>Страница позволяет указать поверхность атаки, функцию безопасности, ссылку на исходный код и лицензии для каждого компонента проекта.</p>
<p><img alt="Dependencies settings" src="/assets/img/ru-dependency-settings.png" /></p>
<p>Введенные значения учитываются:</p>
<ul>
<li>при экспорте SBOM со страницы проекта;</li>
<li>при экспорте SBOM со страницы истории результатов сканирования (для самого последнего успешного SCA-сканирования);</li>
<li>при последующих сканированиях проекта;</li>
<li>при сканировании проекта через консольный агент Johnny;</li>
<li>в дашборде проекта;</li>
<li>на странице лицензии.</li>
</ul>
<p><strong>Важно</strong>: изменения значений не применяются к предыдущим сканированиям проекта и относятся только к SBOM текущего проекта, даже если зависимость используется в нескольких проектах.</p>
<h4 id="sca-export-results-vcs">VCS<a class="headerlink" href="#sca-export-results-vcs" title="Permanent link">&para;</a></h4>
<p>Поле <strong>VCS</strong> позволяет указать URL-адрес репозитория, в котором хранится код зависимости. При экспорте SBOM выбранное значение учитывается в поле <a href="https://cyclonedx.org/docs/1.6/json/#components_items_externalReferences">externalReferences</a>.</p>
<h4 id="sca-export-results-_2">Поверхность атаки<a class="headerlink" href="#sca-export-results-_2" title="Permanent link">&para;</a></h4>
<p>Поле <strong>Поверхность атаки</strong> позволяет указать принадлежность компонента к поверхности атаки. Можно выбрать одно из следующих значений:</p>
<ul>
<li><code>Да</code> — компонент входит в непосредственную поверхность атаки;</li>
<li><code>Косвенно</code> — компонент входит в косвенную поверхность атаки;</li>
<li><code>Нет</code> — иной случай (значение по умолчанию).</li>
</ul>
<p>При экспорте SBOM в форматах <code>CycloneDX v1.6 Ext JSON</code> и <code>CycloneDX v1.7 Ext JSON</code> выбранное значение учитывается в свойстве <code>GOST:attack_surface</code> компонента.</p>
<h4 id="sca-export-results-_3">Функция безопасности<a class="headerlink" href="#sca-export-results-_3" title="Permanent link">&para;</a></h4>
<p>Поле <strong>Функция безопасности</strong> позволяет указать принадлежность компонента к функциям безопасности средства защиты информации. Можно выбрать одно из следующих значений:</p>
<ul>
<li><code>Да</code> — если функции компонента непосредственно реализуют функции безопасности;</li>
<li><code>Косвенно</code> — если функции компонента участвуют в реализации функций безопасности, взаимодействуя с компонентами, реализующими функции безопасности;</li>
<li><code>Нет</code> — если функции компонента не участвуют в реализации функций безопасности (значение по умолчанию).</li>
</ul>
<p>При экспорте SBOM в форматах <code>CycloneDX v1.6 Ext JSON</code> и <code>CycloneDX v1.7 Ext JSON</code> выбранное значение учитывается в свойстве <code>"GOST:security_function"</code> компонента.</p>
<h4 id="sca-export-results-_4">Кем предоставлено<a class="headerlink" href="#sca-export-results-_4" title="Permanent link">&para;</a></h4>
<p>Поле <strong>Кем предоставлено</strong> позволяет указать принадлежность компонента к средству защиты информации, из состава которого заимствован данный компонент. Можно указать произвольное значение в текстовом формате.</p>
<p>При экспорте SBOM в форматах <code>CycloneDX v1.6 Ext JSON</code> и <code>CycloneDX v1.7 Ext JSON</code> указанное значение учитывается в свойстве <code>"GOST:provided_by"</code> компонента.</p>
<h4 id="sca-export-results-_5">Лицензии<a class="headerlink" href="#sca-export-results-_5" title="Permanent link">&para;</a></h4>
<p>Поле <strong>Лицензии</strong> позволяет указать лицензии компонента.</p>
<p>При указании пустого списка выбираются значения, найденные при последнем SCA-анализе.</p>
<p>При экспорте SBOM выбранные значения учитываются в поле <code>licenses</code> компонента.</p></section><section class="print-page" id="sca-project-groups" heading-number="4.4.2.6"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#sca-project-groups.en">English</a></li>
</ul>
<h1 id="sca-project-groups-_1">Организация групп проектов<a class="headerlink" href="#sca-project-groups-_1" title="Permanent link">&para;</a></h1>
<h2 id="sca-project-groups-_2">Просмотр списка групп<a class="headerlink" href="#sca-project-groups-_2" title="Permanent link">&para;</a></h2>
<p>Список групп можно посмотреть в разделе <code>SCA -&gt; Группы проектов</code>. В данном разделе отображаются все группы, доступные для просмотра пользователю.</p>
<p>Для каждой группы отображается следующая информация:</p>
<ul>
<li><strong>Наименование</strong> - название группы и дата последнего обновления настроек группы проектов;</li>
<li><strong>Проекты</strong> - количество проектов в составе группы;</li>
<li><strong>Алерты</strong> - общее количество алертов, связанных с проектами группы;</li>
<li><strong>Зависимости</strong> - общее количество зависимостей, связанных с проектами группы;</li>
<li><strong>Уникальные уязвимости</strong> - количество уникальных уязвимостей, связанных с проектами группы;</li>
<li><strong>Технологии</strong> - количество и список технологий, связанных с проектами группы.</li>
</ul>
<p><img alt="Project groups list" src="/assets/img/project-groups.png" /></p>
<div class="admonition warning">
<p class="admonition-title">Доступ</p>
<p>В группе отображаются только проекты входящие в группу и к которым пользователь имеет доступ.</p>
</div>
<p>Для каждой записи в списке проектов доступны следующие действия:</p>
<ul>
<li><strong>Запуск сканирования проектов группы</strong> - выполняется запуск сканирования всех проектов, входящих в группу;</li>
<li><strong>Редактирование группы</strong> - открывается страница <a href="#on-premise-how-to-groups"><strong>Настройки -&gt; Группы</strong></a>;</li>
<li><strong>Удаление группы</strong> - удаляется группа с предварительным подтверждение операции у пользователя;</li>
<li><strong>Экспорт данных в CSV</strong> - агрегированные данные группы экспортируются в файл csv.</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Доступ</p>
<p>Для осуществления действий требуется, чтобы у пользователя были соответствующие полномочия. Описание полномочий представлены в разделе <a href="#on-premise-how-to-users-_5">Управление учетными записями</a>.</p>
</div>
<h2 id="sca-project-groups-_3">Страница группы проектов<a class="headerlink" href="#sca-project-groups-_3" title="Permanent link">&para;</a></h2>
<h3 id="sca-project-groups-_4">Общая статистика по группе<a class="headerlink" href="#sca-project-groups-_4" title="Permanent link">&para;</a></h3>
<p>В разделе "О группе" предоставляется обобщенная информация.</p>
<p><img alt="Group about" src="/assets/img/project-groups-project-about.png" /></p>
<p>В разделе также представлены секции <strong>Алерты</strong>, <strong>Уязвимости</strong> и <strong>Зависимости</strong>, связанные с проектами данной группы.</p>
<p>Для удобства в каждой секции присутствуют стандартные фильтры.</p>
<h3 id="sca-project-groups-_5">Состав группы<a class="headerlink" href="#sca-project-groups-_5" title="Permanent link">&para;</a></h3>
<p>В разделе "Проекты" представлен список проектов, которые относятся к данной группе.</p>
<p>Для удобства работы представлена возможность фильтрации списка проектов.</p>
<p><img alt="Group composition" src="/assets/img/project-groups-project-composition.png" /></p></section></section>
                    <section class='print-page md-section' id='section-4-4-3' heading-number='4.4.3'>
                        <h1>Консольный агент Johnny<a class='headerlink' href='#section-4-4-3' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="agent" heading-number="4.4.3.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-index.en">English</a></li>
</ul>
<h1 id="agent-_1">Работа с консольным агентом<a class="headerlink" href="#agent-_1" title="Permanent link">&para;</a></h1>
<p>Консольный агент <strong>Johnny</strong> предоставляется совместно с on-premise версией CodeScoring.</p>
<p>Агент — это исполняемый бинарный файл, осуществляющий парсинг манифестов известных пакетных менеджеров, сканирование Docker-образов, анализ сборки С и С++, разбор архивов и поиск прямых включений Open Source библиотек по хэшам. Агент работает в паре с платформой, получая от нее обогащенные данные об уязвимостях, лицензиях и настроенных политиках, а также сохраняя результаты сканирования в CLI проекты.</p>
<p>По умолчанию предоставляется сборка агента для Linux-совместимых систем. По запросу доступны сборки под Windows и MacOS.</p>
<p>Скачать исполняемый файл агента можно через платформу, используя следующие адреса:</p>
<ul>
<li><code>[platform-url]/download/</code> – страница со списком доступных исполняемых файлов;</li>
<li><code>[platform-url]/download/johnny_version</code> – актуальная версия консольного агента;</li>
<li><code>[platform-url]/download/&lt;file-name&gt;</code> – загрузка исполняемого файла.</li>
</ul>
<p>Для просмотра актуальной версии и загрузки файла необходима авторизация по API-токену.</p>
<h2 id="agent-_2">Принцип работы<a class="headerlink" href="#agent-_2" title="Permanent link">&para;</a></h2>
<p>При работе в режиме сканирования директорий с исходным кодом, агент рекурсивно <code>обходит</code> директорию, указанную в параметрах запуска, и осуществляет поиск и разбор манифестов <a href="#supported-package-managers">известных пакетных менеджеров</a>.</p>
<p>В режиме <a href="#agent-scan-docker">сканирования образов</a> агент исследует файловую систему указанного образа, производя инвентаризацию компонентного состава.</p>
<p>По окончанию работы формируется <strong>SBOM</strong> файл, и в консоль выводится информация о найденных уязвимостях и сработавших политиках.</p>
<p>Пример вывода найденных уязвимостей:</p>
<p><img alt="Johnny example with vulnerabilities" src="/assets/img/johnny_output_vulnerabilities.png" /></p>
<p>Пример вывода сработавших политик:</p>
<p><img alt="Johnny example with policy alerts" src="/assets/img/johnny_output_alerts.png" /></p>
<p>Пример вывода достижимых уязвимостей:</p>
<p><img alt="Johnny example with reachability" src="/assets/img/reachability/dep-track-paths.png" /></p></section><section class="print-page" id="agent-config" heading-number="4.4.3.2"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-config.en">English</a></li>
</ul>
<h1 id="agent-config-_1">Настройка через конфигурационный файл<a class="headerlink" href="#agent-config-_1" title="Permanent link">&para;</a></h1>
<p>Управлять параметрами консольного агента можно через добавление файла конфигурации <code>codescoring-johnny-config.yaml</code> в директорию с агентом. Ниже представлен список доступных параметров и пример конфиг-файла.</p>
<h2 id="agent-config-_2">Список параметров<a class="headerlink" href="#agent-config-_2" title="Permanent link">&para;</a></h2>
<h3 id="agent-config-_3">Параметры композиционного анализа<a class="headerlink" href="#agent-config-_3" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>project</strong> – название проекта в платформе CodeScoring;</li>
<li><strong>save-results</strong> – сохранение результатов в платформе CodeScoring. Используется в паре с названием проекта. Значение по умолчанию – <code>false</code>;</li>
<li><strong>license</strong> – лицензия анализируемого проекта, например <code>mit</code>;</li>
<li><strong>stage</strong> – этап разработки. Возможные значения: <code>build</code>, <code>dev</code>, <code>source</code>, <code>stage</code>, <code>test</code>, <code>prod</code>, <code>proxy</code>;</li>
<li><strong>bom-path</strong> – путь (с названием файла), по которому будет сохраняться сформированный файл <code>bom.json</code>;</li>
<li><strong>bom-format</strong> – формат формируемого SBOM. Возможные значения: <code>cyclonedx_v1_6_json</code>, <code>cyclonedx_v1_5_json</code>, <code>cyclonedx_v1_4_json</code>,<code>cyclonedx_v1_6_ext_json</code>, <code>cyclonedx_v1_7_json</code>. Значение по умолчанию: <code>cyclonedx_v1_6_json</code>;</li>
<li><strong>timeout</strong> – ограничение по времени ожидания анализа (в секундах);</li>
<li><a href="#changelog-on-premise-changelog-2024520-2024-12-28" class="version-tag">2024.52.0</a> <strong>branch-or-tag</strong> – ссылка на ветку репозитория или тег, например <code>refs/tags/v1.0</code> (для команд <code>scan dir</code> и <code>scan file</code>);</li>
<li><a href="#changelog-on-premise-changelog-2024520-2024-12-28" class="version-tag">2024.52.0</a> <strong>commit</strong> – хэш коммита в системе контроля версий (для команд <code>scan dir</code> и <code>scan file</code>);</li>
<li><a href="#changelog-on-premise-changelog-2024520-2024-12-28" class="version-tag">2024.52.0</a> <strong>hash</strong> – хэш образа (для команды <code>scan image</code>);</li>
<li><a href="#changelog-on-premise-changelog-202570-2025-02-14" class="version-tag">2025.7.0</a> <strong>cloud-resolve</strong> – использование разрешения зависимостей в облаке. По умолчанию значение <code>false</code>.</li>
</ul>
<h3 id="agent-config-_4">Общие параметры сканирования<a class="headerlink" href="#agent-config-_4" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>ignore</strong> – директории, которые будут игнорироваться при сканировании;</li>
<li><strong>no-summary</strong> – скрытие сводной информацию по проведенному сканированию в консоли. По умолчанию значение <code>false</code>;</li>
<li><strong>only-hashes</strong> – поиск <strong>только</strong> прямых включений Open Source библиотек по хэшам. По умолчанию значение <code>false</code>;</li>
<li><strong>with-hashes</strong> – поиск прямых включений Open Source библиотек по хэшам. По умолчанию значение <code>false</code>;</li>
<li><strong>no-recursion</strong> – выключение рекурсивного скана для команды <code>scan dir</code>. По умолчанию значение <code>false</code>;</li>
<li><strong>block-on-empty-result</strong> – блокирование сборки при получении пустого результата. При активации агент возвращает exit code <strong>3</strong> в случае отсутствия артефактов для анализа.</li>
</ul>
<h3 id="agent-config-docker-">Параметры сканирования Docker-образов<a class="headerlink" href="#agent-config-docker-" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>scan-files</strong> – сканирование файловой системы внутри образа. По умолчанию значение <code>false</code>;</li>
<li><strong>insecure-skip-tls-verify</strong> –  пропуск TLS верификации при подключении к реестру образов. По умолчанию значение <code>false</code>;</li>
<li><strong>insecure-use-http</strong> – использование протокола http при подключении к реестру образов. По умолчанию значение <code>false</code>;</li>
<li><strong>registries</strong> – список конфигураций для подключения к нескольким реестрам образов. Каждый элемент списка может содержать:</li>
<li><strong>authority</strong> – URL реестра (например, <code>docker.io</code>, <code>localhost:5000</code>);</li>
<li><strong>login</strong> – имя пользователя для подключения к реестру;</li>
<li><strong>password</strong> – пароль для подключения к реестру;</li>
<li><strong>token</strong> – токен для подключения к реестру. Взаимоисключается с параметрами <code>login</code> и <code>password</code>.</li>
</ul>
<h3 id="agent-config-c-c">Параметры сканирования сборки C и C++<a class="headerlink" href="#agent-config-c-c" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>build-result</strong> – флаг, указывающий, что входными данными являются результаты предыдущей сборки, включая скомпилированные артефакты. По умолчанию значение <code>false</code>;</li>
<li><strong>lib-versions</strong> – путь к JSON-файлу со списком версий анализируемых библиотек;</li>
<li><strong>output</strong> – путь к файлу, в который будут сохранены результаты анализа сборки;</li>
<li><strong>unresolved-file</strong> – путь к файлу, в который будет сохранена информация о библиотеках с неразрешёнными версиями.</li>
</ul>
<h3 id="agent-config-_5">Параметры парсинга для разных технологий<a class="headerlink" href="#agent-config-_5" title="Permanent link">&para;</a></h3>
<h4 id="agent-config-_6">Общие параметры<a class="headerlink" href="#agent-config-_6" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>enabled</strong> – включение парсеров для данной технологии;</li>
<li><strong>parsers</strong> – набор парсеров для манифестов.</li>
</ul>
<h4 id="agent-config-_7">Параметры парсеров<a class="headerlink" href="#agent-config-_7" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>enabled</strong> – включение данного парсера;</li>
<li><strong>match</strong> – условие для определения подходящих манифестов, может быть по названию (<code>equal</code>) или расширению (<code>extension</code>);</li>
<li><strong>properties</strong> – дополнительные свойства для парсеров окружения, такие как путь к исполняемым файлам;</li>
<li><strong>dotnet-path</strong>, <strong>maven-path</strong>, <strong>gradle-path</strong>, <strong>yarn-path</strong>, <strong>go-path</strong>, <strong>sbt-path</strong>,<strong>npm-path</strong>, <strong>pnpm-path</strong>, <strong>composer-path</strong>, <strong>pip-path</strong>, <strong>poetry-path</strong>, <strong>conda-lock-path</strong>  – пути к пакетным менеджерам для разрешения зависимостей в окружении;</li>
<li><strong>resolve-enabled</strong> – разрешение зависимостей в окружении. По умолчанию значение <code>false</code>;</li>
<li><strong>dotnet-args</strong>, <strong>gradle-args</strong>, <strong>maven-args</strong>, <strong>sbt-args</strong>, <strong>npm-args</strong>, <strong>yarn-args</strong>, <strong>pnpm-args</strong>, <strong>composer-args</strong>, <strong>poetry-args</strong>, <strong>conda-args</strong>, <strong>swift-args</strong> – аргументы для передачи соответствующим пакетным менеджерам при разрешении зависимостей в окружении;</li>
<li><strong>configuration</strong> – конфигурация для парсера <code>gradle-dependency-tree_txt</code>;</li>
<li><strong>depth</strong> – глубина парсинга для парсера <code>jar</code>. По умолчанию значение <code>1</code>;</li>
<li><strong>python-version</strong> – версия Python, используемая для разрешения зависимостей в окружении.</li>
</ul>
<h3 id="agent-config-_8">Параметры сканирования архивов<a class="headerlink" href="#agent-config-_8" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>scan</strong> – сканирование архивов. По умолчанию значение <code>false</code>;</li>
<li><strong>depth</strong> – глубина сканирования архивов. По умолчанию значение <code>1</code>.</li>
</ul>
<h3 id="agent-config-_9">Параметры вывода результатов<a class="headerlink" href="#agent-config-_9" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>format</strong> – формат вывода найденных уязвимостей. По умолчанию <code>coloredtable</code>. Возможна выгрузка в форматы <code>table</code>, <code>text</code>, <code>junit</code>, <code>sarif</code>, <code>csv</code>, <code>gl-dependency-scanning-report</code>, <code>gl-code-quality-report</code>;</li>
<li><strong>group-vulnerabilities-by</strong> – переменная для группировки уязвимостей в таблице;</li>
<li><strong>sort-vulnerabilities-by</strong> – порядок переменных для сортировки уязвимостей в таблице;</li>
<li><strong>alerts-format</strong> – формат вывода отчёта по срабатываниям политик. Поддерживаются форматы: <code>coloredtable</code>, <code>table</code>, <code>text</code>, <code>json</code>, <code>csv</code>. Значение по умолчанию – <code>coloredtable</code>.</li>
</ul>
<h3 id="agent-config-_10">Параметры платформы<a class="headerlink" href="#agent-config-_10" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>api_url</strong> – адрес платформе;</li>
<li><strong>api_token</strong> – токен для доступа к платформе;</li>
<li><strong>localization</strong> — язык локализации вывода CLI. Возможные значения: <code>en</code>, <code>ru</code>. Значение по умолчанию — <code>en</code>.</li>
</ul>
<h3 id="agent-config-_11">Параметры запуска поиска секретов<a class="headerlink" href="#agent-config-_11" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="#changelog-on-premise-changelog-2025130-2025-03-28" class="version-tag">2025.13.0</a> <strong>gitleaks-path</strong> – путь к исполняемому файлу gitleaks, который будет использоваться при сканировании;</li>
<li><a href="#changelog-on-premise-changelog-2025130-2025-03-28" class="version-tag">2025.13.0</a> <strong>gl-secrets-report</strong> – включение формирования отчета о найденных секретах в формате GitLab. По умолчанию <code>false</code>;</li>
<li><a href="#changelog-on-premise-changelog-2025130-2025-03-28" class="version-tag">2025.13.0</a> <strong>gl-secrets-report-filename</strong> – имя формируемого файла для отчета в формате GitLab. По умолчанию <code>gl-secrets-report.json</code>.</li>
</ul>
<h3 id="agent-config-gitleaks">Параметры <a href="https://github.com/gitleaks/gitleaks?tab=readme-ov-file#readme">инструмента поиска секретов Gitleaks</a><a class="headerlink" href="#agent-config-gitleaks" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="#changelog-on-premise-changelog-2025130-2025-03-28" class="version-tag">2025.13.0</a> <strong>baseline-path</strong> – путь к baseline файлу отчета gitleaks. Все обнаруженные ранее секреты, зафиксированные в этом файле, будут проигнорированы при повторном сканировании;</li>
<li><a href="#changelog-on-premise-changelog-2025130-2025-03-28" class="version-tag">2025.13.0</a> <strong>enable-rule</strong> – список ID правил, которые будут <strong>включены</strong> при сканировании;</li>
<li><a href="#changelog-on-premise-changelog-2025130-2025-03-28" class="version-tag">2025.13.0</a> <strong>gitleaks-ignore-path</strong> – путь к файлу .gitleaksignore или директории, содержащей его. По умолчанию <code>.</code> (текущая директория);</li>
<li><a href="#changelog-on-premise-changelog-2025130-2025-03-28" class="version-tag">2025.13.0</a> <strong>ignore-gitleaks-allow</strong> – игнорирование комментариев gitleaks:allow. По умолчанию <code>false</code>;</li>
<li><a href="#changelog-on-premise-changelog-2025130-2025-03-28" class="version-tag">2025.13.0</a> <strong>log-level</strong> – уровень логирования. Возможные значения: <code>trace, debug, info, warn, error, fatal</code>. По умолчанию <code>info</code>;</li>
<li><a href="#changelog-on-premise-changelog-2025130-2025-03-28" class="version-tag">2025.13.0</a> <strong>max-decode-depth</strong> – максимальная глубина рекурсивного декодирования. Значение <code>0</code> отключает декодирование;</li>
<li><a href="#changelog-on-premise-changelog-2025130-2025-03-28" class="version-tag">2025.13.0</a> <strong>max-target-megabytes</strong> – максимальный размер файлов (в мегабайтах), которые будут обрабатываться. Файлы, превышающие этот размер, будут пропущены. По умолчанию 0 (ограничение отсутствует);</li>
<li><a href="#changelog-on-premise-changelog-2025130-2025-03-28" class="version-tag">2025.13.0</a> <strong>no-banner</strong> – отключение баннера gitleaks при запуске. По умолчанию <code>false</code>;</li>
<li><a href="#changelog-on-premise-changelog-2025130-2025-03-28" class="version-tag">2025.13.0</a> <strong>no-color</strong> – отключение цветного вывода для подробного (verbose) режима. По умолчанию <code>false</code>;</li>
<li><a href="#changelog-on-premise-changelog-2025130-2025-03-28" class="version-tag">2025.13.0</a> <strong>redact</strong> – маскирование найденных секретов в логах и консоли. Значение 0 полностью отображает секреты, 100 – полностью скрывает. Можно задать промежуточное значение, например, 20 (маскирует 20% секрета). По умолчанию <code>0</code>;</li>
<li><a href="#changelog-on-premise-changelog-2025130-2025-03-28" class="version-tag">2025.13.0</a> <strong>verbose</strong> – включение подробного (verbose) вывода при сканировании. По умолчанию <code>false</code>.</li>
</ul>
<h2 id="agent-config-_12">Пример файла<a class="headerlink" href="#agent-config-_12" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-config-__codelineno-0-1"></a><span class="c1"># analysis options</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-config-__codelineno-0-2"></a><span class="nt">analysis</span><span class="p">:</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-config-__codelineno-0-3"></a><span class="w">  </span><span class="c1"># Project name in CodeScoring</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#agent-config-__codelineno-0-4"></a><span class="w">  </span><span class="nt">project</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#agent-config-__codelineno-0-5"></a><span class="w">  </span><span class="c1"># Save results to CodeScoring. Used only together with project name</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#agent-config-__codelineno-0-6"></a><span class="w">  </span><span class="nt">save-results</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#agent-config-__codelineno-0-7"></a><span class="w">  </span><span class="c1"># Policy stage (build, dev, source, stage, test, prod, proxy)</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#agent-config-__codelineno-0-8"></a><span class="w">  </span><span class="nt">stage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">build</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#agent-config-__codelineno-0-9"></a><span class="w">  </span><span class="c1"># License code</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#agent-config-__codelineno-0-10"></a><span class="w">  </span><span class="nt">license</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mit</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#agent-config-__codelineno-0-11"></a><span class="w">  </span><span class="c1"># Path for save bom</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#agent-config-__codelineno-0-12"></a><span class="w">  </span><span class="nt">bom-path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;bom.json&quot;</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#agent-config-__codelineno-0-13"></a><span class="w">  </span><span class="c1"># Format for bom</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#agent-config-__codelineno-0-14"></a><span class="w">  </span><span class="nt">bom-format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cyclonedx_v1_6_json</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#agent-config-__codelineno-0-15"></a><span class="w">  </span><span class="c1"># Timeout of analysis results waiting in seconds</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#agent-config-__codelineno-0-16"></a><span class="w">  </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3600</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#agent-config-__codelineno-0-17"></a><span class="w">  </span><span class="c1"># Reference to repository branch or tag (e.g. refs/tags/v1.0). For scan dir and scan file commands</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#agent-config-__codelineno-0-18"></a><span class="w">  </span><span class="nt">branch-or-tag</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#agent-config-__codelineno-0-19"></a><span class="w">  </span><span class="c1"># Commit. For scan dir and scan file commands</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#agent-config-__codelineno-0-20"></a><span class="w">  </span><span class="nt">commit</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#agent-config-__codelineno-0-21"></a><span class="w">  </span><span class="c1"># Hash. For scan image command</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#agent-config-__codelineno-0-22"></a><span class="w">  </span><span class="nt">hash</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#agent-config-__codelineno-0-23"></a><span class="w">  </span><span class="c1"># Use cloud resolve</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#agent-config-__codelineno-0-24"></a><span class="w">  </span><span class="nt">cloud-resolve</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#agent-config-__codelineno-0-25"></a><span class="c1"># scan options</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#agent-config-__codelineno-0-26"></a><span class="nt">scan</span><span class="p">:</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#agent-config-__codelineno-0-27"></a><span class="w">  </span><span class="c1"># general scan options</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#agent-config-__codelineno-0-28"></a><span class="w">  </span><span class="nt">general</span><span class="p">:</span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#agent-config-__codelineno-0-29"></a><span class="w">    </span><span class="c1"># Ignore paths</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#agent-config-__codelineno-0-30"></a><span class="w">    </span><span class="c1"># - first</span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#agent-config-__codelineno-0-31"></a><span class="w">    </span><span class="c1"># - /**/onem?re</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#agent-config-__codelineno-0-32"></a><span class="w">    </span><span class="nt">ignore</span><span class="p">:</span>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#agent-config-__codelineno-0-33"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">.tmp</span>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#agent-config-__codelineno-0-34"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">parsers</span>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#agent-config-__codelineno-0-35"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fixtures</span>
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#agent-config-__codelineno-0-36"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">.git</span>
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#agent-config-__codelineno-0-37"></a><span class="w">    </span><span class="c1"># Do not print summary</span>
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#agent-config-__codelineno-0-38"></a><span class="w">    </span><span class="nt">no-summary</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-39" name="__codelineno-0-39" href="#agent-config-__codelineno-0-39"></a><span class="w">    </span><span class="c1"># Search only for direct inclusion of dependencies using file hashes</span>
<a id="__codelineno-0-40" name="__codelineno-0-40" href="#agent-config-__codelineno-0-40"></a><span class="w">    </span><span class="nt">only-hashes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-41" name="__codelineno-0-41" href="#agent-config-__codelineno-0-41"></a><span class="w">    </span><span class="c1"># Search for direct inclusion of dependencies using file hashes</span>
<a id="__codelineno-0-42" name="__codelineno-0-42" href="#agent-config-__codelineno-0-42"></a><span class="w">    </span><span class="nt">with-hashes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-43" name="__codelineno-0-43" href="#agent-config-__codelineno-0-43"></a><span class="w">    </span><span class="c1"># Block on empty result</span>
<a id="__codelineno-0-44" name="__codelineno-0-44" href="#agent-config-__codelineno-0-44"></a><span class="w">    </span><span class="nt">block-on-empty-result</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-45" name="__codelineno-0-45" href="#agent-config-__codelineno-0-45"></a><span class="w">  </span><span class="c1"># image scan options</span>
<a id="__codelineno-0-46" name="__codelineno-0-46" href="#agent-config-__codelineno-0-46"></a><span class="w">  </span><span class="nt">image</span><span class="p">:</span>
<a id="__codelineno-0-47" name="__codelineno-0-47" href="#agent-config-__codelineno-0-47"></a><span class="w">    </span><span class="c1"># scan files in image</span>
<a id="__codelineno-0-48" name="__codelineno-0-48" href="#agent-config-__codelineno-0-48"></a><span class="w">    </span><span class="nt">scan-files</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-49" name="__codelineno-0-49" href="#agent-config-__codelineno-0-49"></a><span class="w">    </span><span class="c1"># skip TLS verification when communicating with the registry</span>
<a id="__codelineno-0-50" name="__codelineno-0-50" href="#agent-config-__codelineno-0-50"></a><span class="w">    </span><span class="nt">insecure-skip-tls-verify</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-51" name="__codelineno-0-51" href="#agent-config-__codelineno-0-51"></a><span class="w">    </span><span class="c1"># use http instead of https when connecting to the registry</span>
<a id="__codelineno-0-52" name="__codelineno-0-52" href="#agent-config-__codelineno-0-52"></a><span class="w">    </span><span class="nt">insecure-use-http</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-53" name="__codelineno-0-53" href="#agent-config-__codelineno-0-53"></a><span class="w">    </span><span class="c1"># credentials for specific registries</span>
<a id="__codelineno-0-54" name="__codelineno-0-54" href="#agent-config-__codelineno-0-54"></a><span class="w">    </span><span class="nt">registries</span><span class="p">:</span>
<a id="__codelineno-0-55" name="__codelineno-0-55" href="#agent-config-__codelineno-0-55"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="c1"># the URL to the registry (e.g. &quot;docker.io&quot;, &quot;localhost:5000&quot;, etc.)</span>
<a id="__codelineno-0-56" name="__codelineno-0-56" href="#agent-config-__codelineno-0-56"></a><span class="w">        </span><span class="c1"># same as JOHNNY_REGISTRY_AUTH_AUTHORITY env var</span>
<a id="__codelineno-0-57" name="__codelineno-0-57" href="#agent-config-__codelineno-0-57"></a><span class="w">        </span><span class="nt">authority</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-58" name="__codelineno-0-58" href="#agent-config-__codelineno-0-58"></a><span class="w">        </span><span class="c1"># same as JOHNNY_REGISTRY_AUTH_LOGIN env var</span>
<a id="__codelineno-0-59" name="__codelineno-0-59" href="#agent-config-__codelineno-0-59"></a><span class="w">        </span><span class="nt">login</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-60" name="__codelineno-0-60" href="#agent-config-__codelineno-0-60"></a><span class="w">        </span><span class="c1"># same as JOHNNY_REGISTRY_AUTH_PASSWORD env var</span>
<a id="__codelineno-0-61" name="__codelineno-0-61" href="#agent-config-__codelineno-0-61"></a><span class="w">        </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-62" name="__codelineno-0-62" href="#agent-config-__codelineno-0-62"></a><span class="w">        </span><span class="c1"># note: token and username/password are mutually exclusive</span>
<a id="__codelineno-0-63" name="__codelineno-0-63" href="#agent-config-__codelineno-0-63"></a><span class="w">        </span><span class="c1"># same as JOHNNY_REGISTRY_AUTH_TOKEN env var</span>
<a id="__codelineno-0-64" name="__codelineno-0-64" href="#agent-config-__codelineno-0-64"></a><span class="w">        </span><span class="nt">token</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-65" name="__codelineno-0-65" href="#agent-config-__codelineno-0-65"></a><span class="w">  </span><span class="c1"># Directory scan options</span>
<a id="__codelineno-0-66" name="__codelineno-0-66" href="#agent-config-__codelineno-0-66"></a><span class="w">  </span><span class="nt">dir</span><span class="p">:</span>
<a id="__codelineno-0-67" name="__codelineno-0-67" href="#agent-config-__codelineno-0-67"></a><span class="w">    </span><span class="c1"># Prevents from recursively scan directories</span>
<a id="__codelineno-0-68" name="__codelineno-0-68" href="#agent-config-__codelineno-0-68"></a><span class="w">    </span><span class="nt">no-recursion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-69" name="__codelineno-0-69" href="#agent-config-__codelineno-0-69"></a><span class="w">  </span><span class="c1"># Scanning a build for C and C++ languages options</span>
<a id="__codelineno-0-70" name="__codelineno-0-70" href="#agent-config-__codelineno-0-70"></a><span class="w">  </span><span class="nt">build</span><span class="p">:</span>
<a id="__codelineno-0-71" name="__codelineno-0-71" href="#agent-config-__codelineno-0-71"></a><span class="w">    </span><span class="c1"># input is the result of the previous build process, including compiled artifacts</span>
<a id="__codelineno-0-72" name="__codelineno-0-72" href="#agent-config-__codelineno-0-72"></a><span class="w">    </span><span class="nt">build-result</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-73" name="__codelineno-0-73" href="#agent-config-__codelineno-0-73"></a><span class="w">    </span><span class="c1"># path to a JSON file with a list of versions of the libraries being analyzed</span>
<a id="__codelineno-0-74" name="__codelineno-0-74" href="#agent-config-__codelineno-0-74"></a><span class="w">    </span><span class="nt">lib-versions</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-75" name="__codelineno-0-75" href="#agent-config-__codelineno-0-75"></a><span class="w">    </span><span class="c1"># path to a file where the build results will be saved</span>
<a id="__codelineno-0-76" name="__codelineno-0-76" href="#agent-config-__codelineno-0-76"></a><span class="w">    </span><span class="nt">output</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-77" name="__codelineno-0-77" href="#agent-config-__codelineno-0-77"></a><span class="w">    </span><span class="c1"># path to a file where information about libraries with unresolved versions will be saved</span>
<a id="__codelineno-0-78" name="__codelineno-0-78" href="#agent-config-__codelineno-0-78"></a><span class="w">    </span><span class="nt">unresolved-file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">UnresolvedLibs20241030_123655.json</span>
<a id="__codelineno-0-79" name="__codelineno-0-79" href="#agent-config-__codelineno-0-79"></a><span class="w">  </span><span class="c1"># Supported technologies</span>
<a id="__codelineno-0-80" name="__codelineno-0-80" href="#agent-config-__codelineno-0-80"></a><span class="w">  </span><span class="nt">technologies</span><span class="p">:</span>
<a id="__codelineno-0-81" name="__codelineno-0-81" href="#agent-config-__codelineno-0-81"></a><span class="w">    </span><span class="c1"># C</span>
<a id="__codelineno-0-82" name="__codelineno-0-82" href="#agent-config-__codelineno-0-82"></a><span class="w">    </span><span class="nt">clang</span><span class="p">:</span>
<a id="__codelineno-0-83" name="__codelineno-0-83" href="#agent-config-__codelineno-0-83"></a><span class="w">      </span><span class="c1"># Use C parsers</span>
<a id="__codelineno-0-84" name="__codelineno-0-84" href="#agent-config-__codelineno-0-84"></a><span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-85" name="__codelineno-0-85" href="#agent-config-__codelineno-0-85"></a><span class="w">      </span><span class="c1"># C parsers</span>
<a id="__codelineno-0-86" name="__codelineno-0-86" href="#agent-config-__codelineno-0-86"></a><span class="w">      </span><span class="nt">parsers</span><span class="p">:</span>
<a id="__codelineno-0-87" name="__codelineno-0-87" href="#agent-config-__codelineno-0-87"></a><span class="w">        </span><span class="c1"># conan.lock parser</span>
<a id="__codelineno-0-88" name="__codelineno-0-88" href="#agent-config-__codelineno-0-88"></a><span class="w">        </span><span class="nt">conan_lock</span><span class="p">:</span>
<a id="__codelineno-0-89" name="__codelineno-0-89" href="#agent-config-__codelineno-0-89"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-90" name="__codelineno-0-90" href="#agent-config-__codelineno-0-90"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-91" name="__codelineno-0-91" href="#agent-config-__codelineno-0-91"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-92" name="__codelineno-0-92" href="#agent-config-__codelineno-0-92"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;conan.lock&quot;)</span>
<a id="__codelineno-0-93" name="__codelineno-0-93" href="#agent-config-__codelineno-0-93"></a><span class="w">        </span><span class="c1"># conanfile.py parser</span>
<a id="__codelineno-0-94" name="__codelineno-0-94" href="#agent-config-__codelineno-0-94"></a><span class="w">        </span><span class="nt">conanfile_py</span><span class="p">:</span>
<a id="__codelineno-0-95" name="__codelineno-0-95" href="#agent-config-__codelineno-0-95"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-96" name="__codelineno-0-96" href="#agent-config-__codelineno-0-96"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-97" name="__codelineno-0-97" href="#agent-config-__codelineno-0-97"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-98" name="__codelineno-0-98" href="#agent-config-__codelineno-0-98"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;conanfile.py&quot;)</span>
<a id="__codelineno-0-99" name="__codelineno-0-99" href="#agent-config-__codelineno-0-99"></a><span class="w">        </span><span class="nt">conanfile_txt</span><span class="p">:</span>
<a id="__codelineno-0-100" name="__codelineno-0-100" href="#agent-config-__codelineno-0-100"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-101" name="__codelineno-0-101" href="#agent-config-__codelineno-0-101"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-102" name="__codelineno-0-102" href="#agent-config-__codelineno-0-102"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-103" name="__codelineno-0-103" href="#agent-config-__codelineno-0-103"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;conanfile.txt&quot;)</span>
<a id="__codelineno-0-104" name="__codelineno-0-104" href="#agent-config-__codelineno-0-104"></a><span class="w">    </span><span class="c1"># C#</span>
<a id="__codelineno-0-105" name="__codelineno-0-105" href="#agent-config-__codelineno-0-105"></a><span class="w">    </span><span class="nt">csharp</span><span class="p">:</span>
<a id="__codelineno-0-106" name="__codelineno-0-106" href="#agent-config-__codelineno-0-106"></a><span class="w">      </span><span class="c1"># Use C# parsers</span>
<a id="__codelineno-0-107" name="__codelineno-0-107" href="#agent-config-__codelineno-0-107"></a><span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-108" name="__codelineno-0-108" href="#agent-config-__codelineno-0-108"></a><span class="w">      </span><span class="c1"># C# parsers</span>
<a id="__codelineno-0-109" name="__codelineno-0-109" href="#agent-config-__codelineno-0-109"></a><span class="w">      </span><span class="nt">parsers</span><span class="p">:</span>
<a id="__codelineno-0-110" name="__codelineno-0-110" href="#agent-config-__codelineno-0-110"></a><span class="w">        </span><span class="c1"># .csporj parser</span>
<a id="__codelineno-0-111" name="__codelineno-0-111" href="#agent-config-__codelineno-0-111"></a><span class="w">        </span><span class="nt">csproj</span><span class="p">:</span>
<a id="__codelineno-0-112" name="__codelineno-0-112" href="#agent-config-__codelineno-0-112"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-113" name="__codelineno-0-113" href="#agent-config-__codelineno-0-113"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-114" name="__codelineno-0-114" href="#agent-config-__codelineno-0-114"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-115" name="__codelineno-0-115" href="#agent-config-__codelineno-0-115"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extension(&quot;.csproj&quot;)</span>
<a id="__codelineno-0-116" name="__codelineno-0-116" href="#agent-config-__codelineno-0-116"></a><span class="w">        </span><span class="c1"># dependencyReport.json parser</span>
<a id="__codelineno-0-117" name="__codelineno-0-117" href="#agent-config-__codelineno-0-117"></a><span class="w">        </span><span class="nt">dependencyreport_json</span><span class="p">:</span>
<a id="__codelineno-0-118" name="__codelineno-0-118" href="#agent-config-__codelineno-0-118"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-119" name="__codelineno-0-119" href="#agent-config-__codelineno-0-119"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-120" name="__codelineno-0-120" href="#agent-config-__codelineno-0-120"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-121" name="__codelineno-0-121" href="#agent-config-__codelineno-0-121"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;dependencyReport.json&quot;)</span>
<a id="__codelineno-0-122" name="__codelineno-0-122" href="#agent-config-__codelineno-0-122"></a><span class="w">        </span><span class="c1"># .csproj dotnet environment parser</span>
<a id="__codelineno-0-123" name="__codelineno-0-123" href="#agent-config-__codelineno-0-123"></a><span class="w">        </span><span class="nt">dotnet_csproj_env</span><span class="p">:</span>
<a id="__codelineno-0-124" name="__codelineno-0-124" href="#agent-config-__codelineno-0-124"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-125" name="__codelineno-0-125" href="#agent-config-__codelineno-0-125"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-126" name="__codelineno-0-126" href="#agent-config-__codelineno-0-126"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-127" name="__codelineno-0-127" href="#agent-config-__codelineno-0-127"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extension(&quot;.csproj&quot;)</span>
<a id="__codelineno-0-128" name="__codelineno-0-128" href="#agent-config-__codelineno-0-128"></a><span class="w">          </span><span class="c1"># parser properties</span>
<a id="__codelineno-0-129" name="__codelineno-0-129" href="#agent-config-__codelineno-0-129"></a><span class="w">          </span><span class="nt">properties</span><span class="p">:</span>
<a id="__codelineno-0-130" name="__codelineno-0-130" href="#agent-config-__codelineno-0-130"></a><span class="w">            </span><span class="c1"># path to dotnet for resolve</span>
<a id="__codelineno-0-131" name="__codelineno-0-131" href="#agent-config-__codelineno-0-131"></a><span class="w">            </span><span class="nt">dotnet-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dotnet</span>
<a id="__codelineno-0-132" name="__codelineno-0-132" href="#agent-config-__codelineno-0-132"></a><span class="w">            </span><span class="c1"># pass args to dotnet tool</span>
<a id="__codelineno-0-133" name="__codelineno-0-133" href="#agent-config-__codelineno-0-133"></a><span class="w">            </span><span class="nt">dotnet-args</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-134" name="__codelineno-0-134" href="#agent-config-__codelineno-0-134"></a><span class="w">        </span><span class="nt">sln</span><span class="p">:</span>
<a id="__codelineno-0-135" name="__codelineno-0-135" href="#agent-config-__codelineno-0-135"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-136" name="__codelineno-0-136" href="#agent-config-__codelineno-0-136"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-137" name="__codelineno-0-137" href="#agent-config-__codelineno-0-137"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-138" name="__codelineno-0-138" href="#agent-config-__codelineno-0-138"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extension(&quot;.sln&quot;)</span>
<a id="__codelineno-0-139" name="__codelineno-0-139" href="#agent-config-__codelineno-0-139"></a><span class="w">        </span><span class="nt">sln_env</span><span class="p">:</span>
<a id="__codelineno-0-140" name="__codelineno-0-140" href="#agent-config-__codelineno-0-140"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-141" name="__codelineno-0-141" href="#agent-config-__codelineno-0-141"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-142" name="__codelineno-0-142" href="#agent-config-__codelineno-0-142"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-143" name="__codelineno-0-143" href="#agent-config-__codelineno-0-143"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extension(&quot;.sln&quot;)</span>
<a id="__codelineno-0-144" name="__codelineno-0-144" href="#agent-config-__codelineno-0-144"></a><span class="w">        </span><span class="c1"># .nuspec parser</span>
<a id="__codelineno-0-145" name="__codelineno-0-145" href="#agent-config-__codelineno-0-145"></a><span class="w">        </span><span class="nt">nuspec</span><span class="p">:</span>
<a id="__codelineno-0-146" name="__codelineno-0-146" href="#agent-config-__codelineno-0-146"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-147" name="__codelineno-0-147" href="#agent-config-__codelineno-0-147"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-148" name="__codelineno-0-148" href="#agent-config-__codelineno-0-148"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-149" name="__codelineno-0-149" href="#agent-config-__codelineno-0-149"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extension(&quot;.nuspec&quot;)</span>
<a id="__codelineno-0-150" name="__codelineno-0-150" href="#agent-config-__codelineno-0-150"></a><span class="w">        </span><span class="c1"># packages.config parser</span>
<a id="__codelineno-0-151" name="__codelineno-0-151" href="#agent-config-__codelineno-0-151"></a><span class="w">        </span><span class="nt">packages_config</span><span class="p">:</span>
<a id="__codelineno-0-152" name="__codelineno-0-152" href="#agent-config-__codelineno-0-152"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-153" name="__codelineno-0-153" href="#agent-config-__codelineno-0-153"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-154" name="__codelineno-0-154" href="#agent-config-__codelineno-0-154"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-155" name="__codelineno-0-155" href="#agent-config-__codelineno-0-155"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;packages.config&quot;)</span>
<a id="__codelineno-0-156" name="__codelineno-0-156" href="#agent-config-__codelineno-0-156"></a><span class="w">        </span><span class="c1"># packages.lock.json parser</span>
<a id="__codelineno-0-157" name="__codelineno-0-157" href="#agent-config-__codelineno-0-157"></a><span class="w">        </span><span class="nt">packages_lock_json</span><span class="p">:</span>
<a id="__codelineno-0-158" name="__codelineno-0-158" href="#agent-config-__codelineno-0-158"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-159" name="__codelineno-0-159" href="#agent-config-__codelineno-0-159"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-160" name="__codelineno-0-160" href="#agent-config-__codelineno-0-160"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-161" name="__codelineno-0-161" href="#agent-config-__codelineno-0-161"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;packages.lock.json&quot;)</span>
<a id="__codelineno-0-162" name="__codelineno-0-162" href="#agent-config-__codelineno-0-162"></a><span class="w">        </span><span class="c1"># paket.dependencies parser</span>
<a id="__codelineno-0-163" name="__codelineno-0-163" href="#agent-config-__codelineno-0-163"></a><span class="w">        </span><span class="nt">paket_dependencies</span><span class="p">:</span>
<a id="__codelineno-0-164" name="__codelineno-0-164" href="#agent-config-__codelineno-0-164"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-165" name="__codelineno-0-165" href="#agent-config-__codelineno-0-165"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-166" name="__codelineno-0-166" href="#agent-config-__codelineno-0-166"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-167" name="__codelineno-0-167" href="#agent-config-__codelineno-0-167"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;paket.dependencies&quot;)</span>
<a id="__codelineno-0-168" name="__codelineno-0-168" href="#agent-config-__codelineno-0-168"></a><span class="w">        </span><span class="c1"># paket.lock parser</span>
<a id="__codelineno-0-169" name="__codelineno-0-169" href="#agent-config-__codelineno-0-169"></a><span class="w">        </span><span class="nt">paket_lock</span><span class="p">:</span>
<a id="__codelineno-0-170" name="__codelineno-0-170" href="#agent-config-__codelineno-0-170"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-171" name="__codelineno-0-171" href="#agent-config-__codelineno-0-171"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-172" name="__codelineno-0-172" href="#agent-config-__codelineno-0-172"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-173" name="__codelineno-0-173" href="#agent-config-__codelineno-0-173"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;paket.lock&quot;)</span>
<a id="__codelineno-0-174" name="__codelineno-0-174" href="#agent-config-__codelineno-0-174"></a><span class="w">        </span><span class="c1"># project.assets.json parser</span>
<a id="__codelineno-0-175" name="__codelineno-0-175" href="#agent-config-__codelineno-0-175"></a><span class="w">        </span><span class="nt">project_assets_json</span><span class="p">:</span>
<a id="__codelineno-0-176" name="__codelineno-0-176" href="#agent-config-__codelineno-0-176"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-177" name="__codelineno-0-177" href="#agent-config-__codelineno-0-177"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-178" name="__codelineno-0-178" href="#agent-config-__codelineno-0-178"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-179" name="__codelineno-0-179" href="#agent-config-__codelineno-0-179"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;project.assets.json&quot;)</span>
<a id="__codelineno-0-180" name="__codelineno-0-180" href="#agent-config-__codelineno-0-180"></a><span class="w">        </span><span class="c1"># Project.json parser</span>
<a id="__codelineno-0-181" name="__codelineno-0-181" href="#agent-config-__codelineno-0-181"></a><span class="w">        </span><span class="nt">project_json</span><span class="p">:</span>
<a id="__codelineno-0-182" name="__codelineno-0-182" href="#agent-config-__codelineno-0-182"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-183" name="__codelineno-0-183" href="#agent-config-__codelineno-0-183"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-184" name="__codelineno-0-184" href="#agent-config-__codelineno-0-184"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-185" name="__codelineno-0-185" href="#agent-config-__codelineno-0-185"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;Project.json&quot;)</span>
<a id="__codelineno-0-186" name="__codelineno-0-186" href="#agent-config-__codelineno-0-186"></a><span class="w">        </span><span class="c1"># Project.lock.json parser</span>
<a id="__codelineno-0-187" name="__codelineno-0-187" href="#agent-config-__codelineno-0-187"></a><span class="w">        </span><span class="nt">project_lock_json</span><span class="p">:</span>
<a id="__codelineno-0-188" name="__codelineno-0-188" href="#agent-config-__codelineno-0-188"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-189" name="__codelineno-0-189" href="#agent-config-__codelineno-0-189"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-190" name="__codelineno-0-190" href="#agent-config-__codelineno-0-190"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-191" name="__codelineno-0-191" href="#agent-config-__codelineno-0-191"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;Project.lock.json&quot;)</span>
<a id="__codelineno-0-192" name="__codelineno-0-192" href="#agent-config-__codelineno-0-192"></a><span class="w">    </span><span class="c1"># Golang</span>
<a id="__codelineno-0-193" name="__codelineno-0-193" href="#agent-config-__codelineno-0-193"></a><span class="w">    </span><span class="nt">go</span><span class="p">:</span>
<a id="__codelineno-0-194" name="__codelineno-0-194" href="#agent-config-__codelineno-0-194"></a><span class="w">      </span><span class="c1"># Use Golang parsers</span>
<a id="__codelineno-0-195" name="__codelineno-0-195" href="#agent-config-__codelineno-0-195"></a><span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-196" name="__codelineno-0-196" href="#agent-config-__codelineno-0-196"></a><span class="w">      </span><span class="c1"># Golang parsers</span>
<a id="__codelineno-0-197" name="__codelineno-0-197" href="#agent-config-__codelineno-0-197"></a><span class="w">      </span><span class="nt">parsers</span><span class="p">:</span>
<a id="__codelineno-0-198" name="__codelineno-0-198" href="#agent-config-__codelineno-0-198"></a><span class="w">        </span><span class="c1"># go.mod parser</span>
<a id="__codelineno-0-199" name="__codelineno-0-199" href="#agent-config-__codelineno-0-199"></a><span class="w">        </span><span class="nt">go_mod</span><span class="p">:</span>
<a id="__codelineno-0-200" name="__codelineno-0-200" href="#agent-config-__codelineno-0-200"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-201" name="__codelineno-0-201" href="#agent-config-__codelineno-0-201"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-202" name="__codelineno-0-202" href="#agent-config-__codelineno-0-202"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-203" name="__codelineno-0-203" href="#agent-config-__codelineno-0-203"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;go.mod&quot;)</span>
<a id="__codelineno-0-204" name="__codelineno-0-204" href="#agent-config-__codelineno-0-204"></a><span class="w">        </span><span class="c1"># go.mod environment parser</span>
<a id="__codelineno-0-205" name="__codelineno-0-205" href="#agent-config-__codelineno-0-205"></a><span class="w">        </span><span class="nt">go_mod_env</span><span class="p">:</span>
<a id="__codelineno-0-206" name="__codelineno-0-206" href="#agent-config-__codelineno-0-206"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-207" name="__codelineno-0-207" href="#agent-config-__codelineno-0-207"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-208" name="__codelineno-0-208" href="#agent-config-__codelineno-0-208"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-209" name="__codelineno-0-209" href="#agent-config-__codelineno-0-209"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;go.mod&quot;)</span>
<a id="__codelineno-0-210" name="__codelineno-0-210" href="#agent-config-__codelineno-0-210"></a><span class="w">          </span><span class="c1"># parser properties</span>
<a id="__codelineno-0-211" name="__codelineno-0-211" href="#agent-config-__codelineno-0-211"></a><span class="w">          </span><span class="nt">properties</span><span class="p">:</span>
<a id="__codelineno-0-212" name="__codelineno-0-212" href="#agent-config-__codelineno-0-212"></a><span class="w">            </span><span class="c1"># path to go for resolve</span>
<a id="__codelineno-0-213" name="__codelineno-0-213" href="#agent-config-__codelineno-0-213"></a><span class="w">            </span><span class="nt">go-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">go</span>
<a id="__codelineno-0-214" name="__codelineno-0-214" href="#agent-config-__codelineno-0-214"></a><span class="w">        </span><span class="c1"># go.sum parser</span>
<a id="__codelineno-0-215" name="__codelineno-0-215" href="#agent-config-__codelineno-0-215"></a><span class="w">        </span><span class="nt">go_sum</span><span class="p">:</span>
<a id="__codelineno-0-216" name="__codelineno-0-216" href="#agent-config-__codelineno-0-216"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-217" name="__codelineno-0-217" href="#agent-config-__codelineno-0-217"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-218" name="__codelineno-0-218" href="#agent-config-__codelineno-0-218"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-219" name="__codelineno-0-219" href="#agent-config-__codelineno-0-219"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;go.sum&quot;)</span>
<a id="__codelineno-0-220" name="__codelineno-0-220" href="#agent-config-__codelineno-0-220"></a><span class="w">    </span><span class="c1"># Java</span>
<a id="__codelineno-0-221" name="__codelineno-0-221" href="#agent-config-__codelineno-0-221"></a><span class="w">    </span><span class="nt">java</span><span class="p">:</span>
<a id="__codelineno-0-222" name="__codelineno-0-222" href="#agent-config-__codelineno-0-222"></a><span class="w">      </span><span class="c1"># Use Java parsers</span>
<a id="__codelineno-0-223" name="__codelineno-0-223" href="#agent-config-__codelineno-0-223"></a><span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-224" name="__codelineno-0-224" href="#agent-config-__codelineno-0-224"></a><span class="w">      </span><span class="c1"># Java parsers</span>
<a id="__codelineno-0-225" name="__codelineno-0-225" href="#agent-config-__codelineno-0-225"></a><span class="w">      </span><span class="nt">parsers</span><span class="p">:</span>
<a id="__codelineno-0-226" name="__codelineno-0-226" href="#agent-config-__codelineno-0-226"></a><span class="w">        </span><span class="c1"># build.gradle, build.gradle.kts environment parser</span>
<a id="__codelineno-0-227" name="__codelineno-0-227" href="#agent-config-__codelineno-0-227"></a><span class="w">        </span><span class="nt">build_gradle_env</span><span class="p">:</span>
<a id="__codelineno-0-228" name="__codelineno-0-228" href="#agent-config-__codelineno-0-228"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-229" name="__codelineno-0-229" href="#agent-config-__codelineno-0-229"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-230" name="__codelineno-0-230" href="#agent-config-__codelineno-0-230"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-231" name="__codelineno-0-231" href="#agent-config-__codelineno-0-231"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extension(&quot;build.gradle&quot;) || extension(&quot;build.gradle.kts&quot;)</span>
<a id="__codelineno-0-232" name="__codelineno-0-232" href="#agent-config-__codelineno-0-232"></a><span class="w">          </span><span class="c1"># parser properties</span>
<a id="__codelineno-0-233" name="__codelineno-0-233" href="#agent-config-__codelineno-0-233"></a><span class="w">          </span><span class="nt">properties</span><span class="p">:</span>
<a id="__codelineno-0-234" name="__codelineno-0-234" href="#agent-config-__codelineno-0-234"></a><span class="w">            </span><span class="c1"># path to gradle for resolve</span>
<a id="__codelineno-0-235" name="__codelineno-0-235" href="#agent-config-__codelineno-0-235"></a><span class="w">            </span><span class="nt">gradle-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./gradlew</span>
<a id="__codelineno-0-236" name="__codelineno-0-236" href="#agent-config-__codelineno-0-236"></a><span class="w">            </span><span class="c1"># args to gradle tool</span>
<a id="__codelineno-0-237" name="__codelineno-0-237" href="#agent-config-__codelineno-0-237"></a><span class="w">            </span><span class="nt">gradle-args</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-238" name="__codelineno-0-238" href="#agent-config-__codelineno-0-238"></a><span class="w">        </span><span class="c1"># .gradle parser</span>
<a id="__codelineno-0-239" name="__codelineno-0-239" href="#agent-config-__codelineno-0-239"></a><span class="w">        </span><span class="nt">gradle</span><span class="p">:</span>
<a id="__codelineno-0-240" name="__codelineno-0-240" href="#agent-config-__codelineno-0-240"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-241" name="__codelineno-0-241" href="#agent-config-__codelineno-0-241"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-242" name="__codelineno-0-242" href="#agent-config-__codelineno-0-242"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-243" name="__codelineno-0-243" href="#agent-config-__codelineno-0-243"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extension(&quot;.gradle&quot;)</span>
<a id="__codelineno-0-244" name="__codelineno-0-244" href="#agent-config-__codelineno-0-244"></a><span class="w">        </span><span class="c1"># gradle dependency tree parser</span>
<a id="__codelineno-0-245" name="__codelineno-0-245" href="#agent-config-__codelineno-0-245"></a><span class="w">        </span><span class="nt">gradle-dependency-tree_txt</span><span class="p">:</span>
<a id="__codelineno-0-246" name="__codelineno-0-246" href="#agent-config-__codelineno-0-246"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-247" name="__codelineno-0-247" href="#agent-config-__codelineno-0-247"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-248" name="__codelineno-0-248" href="#agent-config-__codelineno-0-248"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-249" name="__codelineno-0-249" href="#agent-config-__codelineno-0-249"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;gradle-dependency-tree.txt&quot;) || equal(&quot;gradle-dependencies.txt&quot;)</span>
<a id="__codelineno-0-250" name="__codelineno-0-250" href="#agent-config-__codelineno-0-250"></a><span class="w">          </span><span class="c1"># parser properties</span>
<a id="__codelineno-0-251" name="__codelineno-0-251" href="#agent-config-__codelineno-0-251"></a><span class="w">          </span><span class="nt">properties</span><span class="p">:</span>
<a id="__codelineno-0-252" name="__codelineno-0-252" href="#agent-config-__codelineno-0-252"></a><span class="w">            </span><span class="c1"># configuration for parse</span>
<a id="__codelineno-0-253" name="__codelineno-0-253" href="#agent-config-__codelineno-0-253"></a><span class="w">            </span><span class="nt">configuration</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-254" name="__codelineno-0-254" href="#agent-config-__codelineno-0-254"></a><span class="w">        </span><span class="c1"># .gradle.kts parser</span>
<a id="__codelineno-0-255" name="__codelineno-0-255" href="#agent-config-__codelineno-0-255"></a><span class="w">        </span><span class="nt">gradle_kts</span><span class="p">:</span>
<a id="__codelineno-0-256" name="__codelineno-0-256" href="#agent-config-__codelineno-0-256"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-257" name="__codelineno-0-257" href="#agent-config-__codelineno-0-257"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-258" name="__codelineno-0-258" href="#agent-config-__codelineno-0-258"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-259" name="__codelineno-0-259" href="#agent-config-__codelineno-0-259"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extension(&quot;.gradle.kts&quot;)</span>
<a id="__codelineno-0-260" name="__codelineno-0-260" href="#agent-config-__codelineno-0-260"></a><span class="w">        </span><span class="c1"># gradle.lockfile parser</span>
<a id="__codelineno-0-261" name="__codelineno-0-261" href="#agent-config-__codelineno-0-261"></a><span class="w">        </span><span class="nt">gradle_lockfile</span><span class="p">:</span>
<a id="__codelineno-0-262" name="__codelineno-0-262" href="#agent-config-__codelineno-0-262"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-263" name="__codelineno-0-263" href="#agent-config-__codelineno-0-263"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-264" name="__codelineno-0-264" href="#agent-config-__codelineno-0-264"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-265" name="__codelineno-0-265" href="#agent-config-__codelineno-0-265"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extension(&quot;gradle.lockfile&quot;)</span>
<a id="__codelineno-0-266" name="__codelineno-0-266" href="#agent-config-__codelineno-0-266"></a><span class="w">        </span><span class="c1"># ivy.xml parser</span>
<a id="__codelineno-0-267" name="__codelineno-0-267" href="#agent-config-__codelineno-0-267"></a><span class="w">        </span><span class="nt">ivy_xml</span><span class="p">:</span>
<a id="__codelineno-0-268" name="__codelineno-0-268" href="#agent-config-__codelineno-0-268"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-269" name="__codelineno-0-269" href="#agent-config-__codelineno-0-269"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-270" name="__codelineno-0-270" href="#agent-config-__codelineno-0-270"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-271" name="__codelineno-0-271" href="#agent-config-__codelineno-0-271"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;ivy.xml&quot;)</span>
<a id="__codelineno-0-272" name="__codelineno-0-272" href="#agent-config-__codelineno-0-272"></a><span class="w">        </span><span class="c1"># jar parser</span>
<a id="__codelineno-0-273" name="__codelineno-0-273" href="#agent-config-__codelineno-0-273"></a><span class="w">        </span><span class="nt">jar</span><span class="p">:</span>
<a id="__codelineno-0-274" name="__codelineno-0-274" href="#agent-config-__codelineno-0-274"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-275" name="__codelineno-0-275" href="#agent-config-__codelineno-0-275"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-276" name="__codelineno-0-276" href="#agent-config-__codelineno-0-276"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-277" name="__codelineno-0-277" href="#agent-config-__codelineno-0-277"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extension(&quot;.jar&quot;) || extension(&quot;.war&quot;) || extension(&quot;.ear&quot;)</span>
<a id="__codelineno-0-278" name="__codelineno-0-278" href="#agent-config-__codelineno-0-278"></a><span class="w">          </span><span class="c1"># parser properties</span>
<a id="__codelineno-0-279" name="__codelineno-0-279" href="#agent-config-__codelineno-0-279"></a><span class="w">          </span><span class="nt">properties</span><span class="p">:</span>
<a id="__codelineno-0-280" name="__codelineno-0-280" href="#agent-config-__codelineno-0-280"></a><span class="w">            </span><span class="c1"># parse depth</span>
<a id="__codelineno-0-281" name="__codelineno-0-281" href="#agent-config-__codelineno-0-281"></a><span class="w">            </span><span class="nt">depth</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="__codelineno-0-282" name="__codelineno-0-282" href="#agent-config-__codelineno-0-282"></a><span class="w">        </span><span class="c1"># maven dependency tree parser</span>
<a id="__codelineno-0-283" name="__codelineno-0-283" href="#agent-config-__codelineno-0-283"></a><span class="w">        </span><span class="nt">maven-dependency-tree_txt</span><span class="p">:</span>
<a id="__codelineno-0-284" name="__codelineno-0-284" href="#agent-config-__codelineno-0-284"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-285" name="__codelineno-0-285" href="#agent-config-__codelineno-0-285"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-286" name="__codelineno-0-286" href="#agent-config-__codelineno-0-286"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-287" name="__codelineno-0-287" href="#agent-config-__codelineno-0-287"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;maven-dependency-tree.txt&quot;) || equal(&quot;mvn-dependency-tree.txt&quot;)</span>
<a id="__codelineno-0-288" name="__codelineno-0-288" href="#agent-config-__codelineno-0-288"></a><span class="w">        </span><span class="c1"># pom.xml maven environment parser</span>
<a id="__codelineno-0-289" name="__codelineno-0-289" href="#agent-config-__codelineno-0-289"></a><span class="w">        </span><span class="nt">maven_pom_xml_env</span><span class="p">:</span>
<a id="__codelineno-0-290" name="__codelineno-0-290" href="#agent-config-__codelineno-0-290"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-291" name="__codelineno-0-291" href="#agent-config-__codelineno-0-291"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-292" name="__codelineno-0-292" href="#agent-config-__codelineno-0-292"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-293" name="__codelineno-0-293" href="#agent-config-__codelineno-0-293"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;pom.xml&quot;)</span>
<a id="__codelineno-0-294" name="__codelineno-0-294" href="#agent-config-__codelineno-0-294"></a><span class="w">          </span><span class="c1"># parser properties</span>
<a id="__codelineno-0-295" name="__codelineno-0-295" href="#agent-config-__codelineno-0-295"></a><span class="w">          </span><span class="nt">properties</span><span class="p">:</span>
<a id="__codelineno-0-296" name="__codelineno-0-296" href="#agent-config-__codelineno-0-296"></a><span class="w">            </span><span class="c1"># path to maven for resolve</span>
<a id="__codelineno-0-297" name="__codelineno-0-297" href="#agent-config-__codelineno-0-297"></a><span class="w">            </span><span class="nt">maven-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mvn</span>
<a id="__codelineno-0-298" name="__codelineno-0-298" href="#agent-config-__codelineno-0-298"></a><span class="w">            </span><span class="c1"># args to mvn tool</span>
<a id="__codelineno-0-299" name="__codelineno-0-299" href="#agent-config-__codelineno-0-299"></a><span class="w">            </span><span class="nt">maven-args</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-300" name="__codelineno-0-300" href="#agent-config-__codelineno-0-300"></a><span class="w">        </span><span class="c1"># pom.xml parser</span>
<a id="__codelineno-0-301" name="__codelineno-0-301" href="#agent-config-__codelineno-0-301"></a><span class="w">        </span><span class="nt">pom_xml</span><span class="p">:</span>
<a id="__codelineno-0-302" name="__codelineno-0-302" href="#agent-config-__codelineno-0-302"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-303" name="__codelineno-0-303" href="#agent-config-__codelineno-0-303"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-304" name="__codelineno-0-304" href="#agent-config-__codelineno-0-304"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-305" name="__codelineno-0-305" href="#agent-config-__codelineno-0-305"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;pom.xml&quot;)</span>
<a id="__codelineno-0-306" name="__codelineno-0-306" href="#agent-config-__codelineno-0-306"></a><span class="w">        </span><span class="c1"># scala dependency tree parser</span>
<a id="__codelineno-0-307" name="__codelineno-0-307" href="#agent-config-__codelineno-0-307"></a><span class="w">        </span><span class="nt">scala-dependency-tree_txt</span><span class="p">:</span>
<a id="__codelineno-0-308" name="__codelineno-0-308" href="#agent-config-__codelineno-0-308"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-309" name="__codelineno-0-309" href="#agent-config-__codelineno-0-309"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-310" name="__codelineno-0-310" href="#agent-config-__codelineno-0-310"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-311" name="__codelineno-0-311" href="#agent-config-__codelineno-0-311"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;scala-dependency-tree.txt&quot;) || equal(&quot;sbt-dependency-tree.txt&quot;)</span>
<a id="__codelineno-0-312" name="__codelineno-0-312" href="#agent-config-__codelineno-0-312"></a><span class="w">        </span><span class="c1"># build.sbt environment parser</span>
<a id="__codelineno-0-313" name="__codelineno-0-313" href="#agent-config-__codelineno-0-313"></a><span class="w">        </span><span class="nt">scala_build_sbt_env</span><span class="p">:</span>
<a id="__codelineno-0-314" name="__codelineno-0-314" href="#agent-config-__codelineno-0-314"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-315" name="__codelineno-0-315" href="#agent-config-__codelineno-0-315"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-316" name="__codelineno-0-316" href="#agent-config-__codelineno-0-316"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-317" name="__codelineno-0-317" href="#agent-config-__codelineno-0-317"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;build.sbt&quot;)</span>
<a id="__codelineno-0-318" name="__codelineno-0-318" href="#agent-config-__codelineno-0-318"></a><span class="w">          </span><span class="c1"># parser properties</span>
<a id="__codelineno-0-319" name="__codelineno-0-319" href="#agent-config-__codelineno-0-319"></a><span class="w">          </span><span class="nt">properties</span><span class="p">:</span>
<a id="__codelineno-0-320" name="__codelineno-0-320" href="#agent-config-__codelineno-0-320"></a><span class="w">            </span><span class="c1"># path to sbt for resolve</span>
<a id="__codelineno-0-321" name="__codelineno-0-321" href="#agent-config-__codelineno-0-321"></a><span class="w">            </span><span class="nt">sbt-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sbt</span>
<a id="__codelineno-0-322" name="__codelineno-0-322" href="#agent-config-__codelineno-0-322"></a><span class="w">            </span><span class="c1"># args to sbt tool</span>
<a id="__codelineno-0-323" name="__codelineno-0-323" href="#agent-config-__codelineno-0-323"></a><span class="w">            </span><span class="nt">sbt-args</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-324" name="__codelineno-0-324" href="#agent-config-__codelineno-0-324"></a><span class="w">    </span><span class="c1"># JavaScript</span>
<a id="__codelineno-0-325" name="__codelineno-0-325" href="#agent-config-__codelineno-0-325"></a><span class="w">    </span><span class="nt">js</span><span class="p">:</span>
<a id="__codelineno-0-326" name="__codelineno-0-326" href="#agent-config-__codelineno-0-326"></a><span class="w">      </span><span class="c1"># Use JavaScript parsers</span>
<a id="__codelineno-0-327" name="__codelineno-0-327" href="#agent-config-__codelineno-0-327"></a><span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-328" name="__codelineno-0-328" href="#agent-config-__codelineno-0-328"></a><span class="w">      </span><span class="c1"># JavsScript parsers</span>
<a id="__codelineno-0-329" name="__codelineno-0-329" href="#agent-config-__codelineno-0-329"></a><span class="w">      </span><span class="nt">parsers</span><span class="p">:</span>
<a id="__codelineno-0-330" name="__codelineno-0-330" href="#agent-config-__codelineno-0-330"></a><span class="w">        </span><span class="c1"># npm-shrinkwrap.json parser</span>
<a id="__codelineno-0-331" name="__codelineno-0-331" href="#agent-config-__codelineno-0-331"></a><span class="w">        </span><span class="nt">npm-shrinkwrap_json</span><span class="p">:</span>
<a id="__codelineno-0-332" name="__codelineno-0-332" href="#agent-config-__codelineno-0-332"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-333" name="__codelineno-0-333" href="#agent-config-__codelineno-0-333"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-334" name="__codelineno-0-334" href="#agent-config-__codelineno-0-334"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-335" name="__codelineno-0-335" href="#agent-config-__codelineno-0-335"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;npm-shrinkwrap.json&quot;)</span>
<a id="__codelineno-0-336" name="__codelineno-0-336" href="#agent-config-__codelineno-0-336"></a><span class="w">        </span><span class="c1"># package.json npm environment parser</span>
<a id="__codelineno-0-337" name="__codelineno-0-337" href="#agent-config-__codelineno-0-337"></a><span class="w">        </span><span class="nt">npm_package_json_env</span><span class="p">:</span>
<a id="__codelineno-0-338" name="__codelineno-0-338" href="#agent-config-__codelineno-0-338"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-339" name="__codelineno-0-339" href="#agent-config-__codelineno-0-339"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-340" name="__codelineno-0-340" href="#agent-config-__codelineno-0-340"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-341" name="__codelineno-0-341" href="#agent-config-__codelineno-0-341"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;package.json&quot;)</span>
<a id="__codelineno-0-342" name="__codelineno-0-342" href="#agent-config-__codelineno-0-342"></a><span class="w">          </span><span class="c1"># parser properties</span>
<a id="__codelineno-0-343" name="__codelineno-0-343" href="#agent-config-__codelineno-0-343"></a><span class="w">          </span><span class="nt">properties</span><span class="p">:</span>
<a id="__codelineno-0-344" name="__codelineno-0-344" href="#agent-config-__codelineno-0-344"></a><span class="w">            </span><span class="c1"># path to npm for resolve</span>
<a id="__codelineno-0-345" name="__codelineno-0-345" href="#agent-config-__codelineno-0-345"></a><span class="w">            </span><span class="nt">npm-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">npm</span>
<a id="__codelineno-0-346" name="__codelineno-0-346" href="#agent-config-__codelineno-0-346"></a><span class="w">            </span><span class="c1"># args for npm tool</span>
<a id="__codelineno-0-347" name="__codelineno-0-347" href="#agent-config-__codelineno-0-347"></a><span class="w">            </span><span class="nt">npm-args</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-348" name="__codelineno-0-348" href="#agent-config-__codelineno-0-348"></a><span class="w">        </span><span class="c1"># package-lock.json parser</span>
<a id="__codelineno-0-349" name="__codelineno-0-349" href="#agent-config-__codelineno-0-349"></a><span class="w">        </span><span class="nt">package-lock_json</span><span class="p">:</span>
<a id="__codelineno-0-350" name="__codelineno-0-350" href="#agent-config-__codelineno-0-350"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-351" name="__codelineno-0-351" href="#agent-config-__codelineno-0-351"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-352" name="__codelineno-0-352" href="#agent-config-__codelineno-0-352"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-353" name="__codelineno-0-353" href="#agent-config-__codelineno-0-353"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;package-lock.json&quot;)</span>
<a id="__codelineno-0-354" name="__codelineno-0-354" href="#agent-config-__codelineno-0-354"></a><span class="w">        </span><span class="c1"># package.json parser</span>
<a id="__codelineno-0-355" name="__codelineno-0-355" href="#agent-config-__codelineno-0-355"></a><span class="w">        </span><span class="nt">package_json</span><span class="p">:</span>
<a id="__codelineno-0-356" name="__codelineno-0-356" href="#agent-config-__codelineno-0-356"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-357" name="__codelineno-0-357" href="#agent-config-__codelineno-0-357"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-358" name="__codelineno-0-358" href="#agent-config-__codelineno-0-358"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-359" name="__codelineno-0-359" href="#agent-config-__codelineno-0-359"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;package.json&quot;)</span>
<a id="__codelineno-0-360" name="__codelineno-0-360" href="#agent-config-__codelineno-0-360"></a><span class="w">        </span><span class="c1"># yarn.lock parser</span>
<a id="__codelineno-0-361" name="__codelineno-0-361" href="#agent-config-__codelineno-0-361"></a><span class="w">        </span><span class="nt">yarn_lock</span><span class="p">:</span>
<a id="__codelineno-0-362" name="__codelineno-0-362" href="#agent-config-__codelineno-0-362"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-363" name="__codelineno-0-363" href="#agent-config-__codelineno-0-363"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-364" name="__codelineno-0-364" href="#agent-config-__codelineno-0-364"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-365" name="__codelineno-0-365" href="#agent-config-__codelineno-0-365"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;yarn.lock&quot;)</span>
<a id="__codelineno-0-366" name="__codelineno-0-366" href="#agent-config-__codelineno-0-366"></a><span class="w">        </span><span class="c1"># package.json yarn environment parser</span>
<a id="__codelineno-0-367" name="__codelineno-0-367" href="#agent-config-__codelineno-0-367"></a><span class="w">        </span><span class="nt">yarn_package_json_env</span><span class="p">:</span>
<a id="__codelineno-0-368" name="__codelineno-0-368" href="#agent-config-__codelineno-0-368"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-369" name="__codelineno-0-369" href="#agent-config-__codelineno-0-369"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-370" name="__codelineno-0-370" href="#agent-config-__codelineno-0-370"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-371" name="__codelineno-0-371" href="#agent-config-__codelineno-0-371"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;package.json&quot;)</span>
<a id="__codelineno-0-372" name="__codelineno-0-372" href="#agent-config-__codelineno-0-372"></a><span class="w">          </span><span class="c1"># parser properties</span>
<a id="__codelineno-0-373" name="__codelineno-0-373" href="#agent-config-__codelineno-0-373"></a><span class="w">          </span><span class="nt">properties</span><span class="p">:</span>
<a id="__codelineno-0-374" name="__codelineno-0-374" href="#agent-config-__codelineno-0-374"></a><span class="w">            </span><span class="c1"># path to yarn for resolve</span>
<a id="__codelineno-0-375" name="__codelineno-0-375" href="#agent-config-__codelineno-0-375"></a><span class="w">            </span><span class="nt">yarn-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">yarn</span>
<a id="__codelineno-0-376" name="__codelineno-0-376" href="#agent-config-__codelineno-0-376"></a><span class="w">            </span><span class="c1"># args for yarn tool</span>
<a id="__codelineno-0-377" name="__codelineno-0-377" href="#agent-config-__codelineno-0-377"></a><span class="w">            </span><span class="nt">yarn-args</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-378" name="__codelineno-0-378" href="#agent-config-__codelineno-0-378"></a><span class="w">        </span><span class="c1"># pnpm-lock.yaml parser</span>
<a id="__codelineno-0-379" name="__codelineno-0-379" href="#agent-config-__codelineno-0-379"></a><span class="w">        </span><span class="nt">pnpm_lock_yaml</span><span class="p">:</span>
<a id="__codelineno-0-380" name="__codelineno-0-380" href="#agent-config-__codelineno-0-380"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-381" name="__codelineno-0-381" href="#agent-config-__codelineno-0-381"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-382" name="__codelineno-0-382" href="#agent-config-__codelineno-0-382"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-383" name="__codelineno-0-383" href="#agent-config-__codelineno-0-383"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;pnpm-lock.yaml&quot;)</span>
<a id="__codelineno-0-384" name="__codelineno-0-384" href="#agent-config-__codelineno-0-384"></a><span class="w">        </span><span class="c1"># package.json pnpm environment parser</span>
<a id="__codelineno-0-385" name="__codelineno-0-385" href="#agent-config-__codelineno-0-385"></a><span class="w">        </span><span class="nt">pnpm_package_json_env</span><span class="p">:</span>
<a id="__codelineno-0-386" name="__codelineno-0-386" href="#agent-config-__codelineno-0-386"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-387" name="__codelineno-0-387" href="#agent-config-__codelineno-0-387"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-388" name="__codelineno-0-388" href="#agent-config-__codelineno-0-388"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-389" name="__codelineno-0-389" href="#agent-config-__codelineno-0-389"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;package.json&quot;)</span>
<a id="__codelineno-0-390" name="__codelineno-0-390" href="#agent-config-__codelineno-0-390"></a><span class="w">          </span><span class="c1"># parser properties</span>
<a id="__codelineno-0-391" name="__codelineno-0-391" href="#agent-config-__codelineno-0-391"></a><span class="w">          </span><span class="nt">properties</span><span class="p">:</span>
<a id="__codelineno-0-392" name="__codelineno-0-392" href="#agent-config-__codelineno-0-392"></a><span class="w">            </span><span class="c1"># path to npm for resolve</span>
<a id="__codelineno-0-393" name="__codelineno-0-393" href="#agent-config-__codelineno-0-393"></a><span class="w">            </span><span class="nt">pnpm-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pnpm</span>
<a id="__codelineno-0-394" name="__codelineno-0-394" href="#agent-config-__codelineno-0-394"></a><span class="w">            </span><span class="c1"># args for pnpm tool</span>
<a id="__codelineno-0-395" name="__codelineno-0-395" href="#agent-config-__codelineno-0-395"></a><span class="w">            </span><span class="nt">pnpm-args</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-396" name="__codelineno-0-396" href="#agent-config-__codelineno-0-396"></a><span class="w">        </span><span class="c1"># bun.lock parser</span>
<a id="__codelineno-0-397" name="__codelineno-0-397" href="#agent-config-__codelineno-0-397"></a><span class="w">        </span><span class="nt">bun_lock</span><span class="p">:</span>
<a id="__codelineno-0-398" name="__codelineno-0-398" href="#agent-config-__codelineno-0-398"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-399" name="__codelineno-0-399" href="#agent-config-__codelineno-0-399"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-400" name="__codelineno-0-400" href="#agent-config-__codelineno-0-400"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-401" name="__codelineno-0-401" href="#agent-config-__codelineno-0-401"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;bun.lock&quot;)</span>
<a id="__codelineno-0-402" name="__codelineno-0-402" href="#agent-config-__codelineno-0-402"></a><span class="w">        </span><span class="c1"># package.json bun environment parser</span>
<a id="__codelineno-0-403" name="__codelineno-0-403" href="#agent-config-__codelineno-0-403"></a><span class="w">        </span><span class="nt">bun_env</span><span class="p">:</span>
<a id="__codelineno-0-404" name="__codelineno-0-404" href="#agent-config-__codelineno-0-404"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-405" name="__codelineno-0-405" href="#agent-config-__codelineno-0-405"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-406" name="__codelineno-0-406" href="#agent-config-__codelineno-0-406"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-407" name="__codelineno-0-407" href="#agent-config-__codelineno-0-407"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;package.json&quot;)</span>
<a id="__codelineno-0-408" name="__codelineno-0-408" href="#agent-config-__codelineno-0-408"></a><span class="w">          </span><span class="c1"># parser properties</span>
<a id="__codelineno-0-409" name="__codelineno-0-409" href="#agent-config-__codelineno-0-409"></a><span class="w">          </span><span class="nt">properties</span><span class="p">:</span>
<a id="__codelineno-0-410" name="__codelineno-0-410" href="#agent-config-__codelineno-0-410"></a><span class="w">            </span><span class="c1"># path to bun for resolve</span>
<a id="__codelineno-0-411" name="__codelineno-0-411" href="#agent-config-__codelineno-0-411"></a><span class="w">            </span><span class="nt">bun-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bun</span>
<a id="__codelineno-0-412" name="__codelineno-0-412" href="#agent-config-__codelineno-0-412"></a><span class="w">            </span><span class="c1"># args for bun tool</span>
<a id="__codelineno-0-413" name="__codelineno-0-413" href="#agent-config-__codelineno-0-413"></a><span class="w">            </span><span class="nt">bun-args</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-414" name="__codelineno-0-414" href="#agent-config-__codelineno-0-414"></a><span class="w">    </span><span class="c1"># Objective-C</span>
<a id="__codelineno-0-415" name="__codelineno-0-415" href="#agent-config-__codelineno-0-415"></a><span class="w">    </span><span class="nt">objective_c</span><span class="p">:</span>
<a id="__codelineno-0-416" name="__codelineno-0-416" href="#agent-config-__codelineno-0-416"></a><span class="w">      </span><span class="c1"># Use Objective-C parsers</span>
<a id="__codelineno-0-417" name="__codelineno-0-417" href="#agent-config-__codelineno-0-417"></a><span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-418" name="__codelineno-0-418" href="#agent-config-__codelineno-0-418"></a><span class="w">      </span><span class="c1"># Objective-C parsers</span>
<a id="__codelineno-0-419" name="__codelineno-0-419" href="#agent-config-__codelineno-0-419"></a><span class="w">      </span><span class="nt">parsers</span><span class="p">:</span>
<a id="__codelineno-0-420" name="__codelineno-0-420" href="#agent-config-__codelineno-0-420"></a><span class="w">        </span><span class="c1"># Podfile parser</span>
<a id="__codelineno-0-421" name="__codelineno-0-421" href="#agent-config-__codelineno-0-421"></a><span class="w">        </span><span class="nt">podfile</span><span class="p">:</span>
<a id="__codelineno-0-422" name="__codelineno-0-422" href="#agent-config-__codelineno-0-422"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-423" name="__codelineno-0-423" href="#agent-config-__codelineno-0-423"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-424" name="__codelineno-0-424" href="#agent-config-__codelineno-0-424"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-425" name="__codelineno-0-425" href="#agent-config-__codelineno-0-425"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;Podfile&quot;)</span>
<a id="__codelineno-0-426" name="__codelineno-0-426" href="#agent-config-__codelineno-0-426"></a><span class="w">        </span><span class="c1"># Podfile.lock parser</span>
<a id="__codelineno-0-427" name="__codelineno-0-427" href="#agent-config-__codelineno-0-427"></a><span class="w">        </span><span class="nt">podfile_lock</span><span class="p">:</span>
<a id="__codelineno-0-428" name="__codelineno-0-428" href="#agent-config-__codelineno-0-428"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-429" name="__codelineno-0-429" href="#agent-config-__codelineno-0-429"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-430" name="__codelineno-0-430" href="#agent-config-__codelineno-0-430"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-431" name="__codelineno-0-431" href="#agent-config-__codelineno-0-431"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;Podfile.lock&quot;)</span>
<a id="__codelineno-0-432" name="__codelineno-0-432" href="#agent-config-__codelineno-0-432"></a><span class="w">        </span><span class="c1"># .podspec parser</span>
<a id="__codelineno-0-433" name="__codelineno-0-433" href="#agent-config-__codelineno-0-433"></a><span class="w">        </span><span class="nt">podspec</span><span class="p">:</span>
<a id="__codelineno-0-434" name="__codelineno-0-434" href="#agent-config-__codelineno-0-434"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-435" name="__codelineno-0-435" href="#agent-config-__codelineno-0-435"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-436" name="__codelineno-0-436" href="#agent-config-__codelineno-0-436"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-437" name="__codelineno-0-437" href="#agent-config-__codelineno-0-437"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extension(&quot;.podspec&quot;)</span>
<a id="__codelineno-0-438" name="__codelineno-0-438" href="#agent-config-__codelineno-0-438"></a><span class="w">    </span><span class="c1"># PHP</span>
<a id="__codelineno-0-439" name="__codelineno-0-439" href="#agent-config-__codelineno-0-439"></a><span class="w">    </span><span class="nt">php</span><span class="p">:</span>
<a id="__codelineno-0-440" name="__codelineno-0-440" href="#agent-config-__codelineno-0-440"></a><span class="w">      </span><span class="c1"># Use PHP parsers</span>
<a id="__codelineno-0-441" name="__codelineno-0-441" href="#agent-config-__codelineno-0-441"></a><span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-442" name="__codelineno-0-442" href="#agent-config-__codelineno-0-442"></a><span class="w">      </span><span class="c1"># PHP parsers</span>
<a id="__codelineno-0-443" name="__codelineno-0-443" href="#agent-config-__codelineno-0-443"></a><span class="w">      </span><span class="nt">parsers</span><span class="p">:</span>
<a id="__codelineno-0-444" name="__codelineno-0-444" href="#agent-config-__codelineno-0-444"></a><span class="w">        </span><span class="c1"># composer.json parser</span>
<a id="__codelineno-0-445" name="__codelineno-0-445" href="#agent-config-__codelineno-0-445"></a><span class="w">        </span><span class="nt">composer_json</span><span class="p">:</span>
<a id="__codelineno-0-446" name="__codelineno-0-446" href="#agent-config-__codelineno-0-446"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-447" name="__codelineno-0-447" href="#agent-config-__codelineno-0-447"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-448" name="__codelineno-0-448" href="#agent-config-__codelineno-0-448"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-449" name="__codelineno-0-449" href="#agent-config-__codelineno-0-449"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;composer.json&quot;)</span>
<a id="__codelineno-0-450" name="__codelineno-0-450" href="#agent-config-__codelineno-0-450"></a><span class="w">        </span><span class="c1"># composer.lock parser</span>
<a id="__codelineno-0-451" name="__codelineno-0-451" href="#agent-config-__codelineno-0-451"></a><span class="w">        </span><span class="nt">composer_lock</span><span class="p">:</span>
<a id="__codelineno-0-452" name="__codelineno-0-452" href="#agent-config-__codelineno-0-452"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-453" name="__codelineno-0-453" href="#agent-config-__codelineno-0-453"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-454" name="__codelineno-0-454" href="#agent-config-__codelineno-0-454"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-455" name="__codelineno-0-455" href="#agent-config-__codelineno-0-455"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;composer.lock&quot;)</span>
<a id="__codelineno-0-456" name="__codelineno-0-456" href="#agent-config-__codelineno-0-456"></a><span class="w">        </span><span class="c1"># composer environment parser</span>
<a id="__codelineno-0-457" name="__codelineno-0-457" href="#agent-config-__codelineno-0-457"></a><span class="w">        </span><span class="nt">composer_env</span><span class="p">:</span>
<a id="__codelineno-0-458" name="__codelineno-0-458" href="#agent-config-__codelineno-0-458"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-459" name="__codelineno-0-459" href="#agent-config-__codelineno-0-459"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-460" name="__codelineno-0-460" href="#agent-config-__codelineno-0-460"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-461" name="__codelineno-0-461" href="#agent-config-__codelineno-0-461"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;composer.json&quot;)</span>
<a id="__codelineno-0-462" name="__codelineno-0-462" href="#agent-config-__codelineno-0-462"></a><span class="w">          </span><span class="c1"># parser properties</span>
<a id="__codelineno-0-463" name="__codelineno-0-463" href="#agent-config-__codelineno-0-463"></a><span class="w">          </span><span class="nt">properties</span><span class="p">:</span>
<a id="__codelineno-0-464" name="__codelineno-0-464" href="#agent-config-__codelineno-0-464"></a><span class="w">            </span><span class="c1"># path to composer for resolve</span>
<a id="__codelineno-0-465" name="__codelineno-0-465" href="#agent-config-__codelineno-0-465"></a><span class="w">            </span><span class="nt">composer-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">composer</span>
<a id="__codelineno-0-466" name="__codelineno-0-466" href="#agent-config-__codelineno-0-466"></a><span class="w">            </span><span class="c1"># pass args to composer tool</span>
<a id="__codelineno-0-467" name="__codelineno-0-467" href="#agent-config-__codelineno-0-467"></a><span class="w">            </span><span class="nt">composer-args</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-468" name="__codelineno-0-468" href="#agent-config-__codelineno-0-468"></a><span class="w">    </span><span class="c1"># Python</span>
<a id="__codelineno-0-469" name="__codelineno-0-469" href="#agent-config-__codelineno-0-469"></a><span class="w">    </span><span class="nt">python</span><span class="p">:</span>
<a id="__codelineno-0-470" name="__codelineno-0-470" href="#agent-config-__codelineno-0-470"></a><span class="w">      </span><span class="c1"># Use Python parsers</span>
<a id="__codelineno-0-471" name="__codelineno-0-471" href="#agent-config-__codelineno-0-471"></a><span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-472" name="__codelineno-0-472" href="#agent-config-__codelineno-0-472"></a><span class="w">      </span><span class="c1"># Python parsers</span>
<a id="__codelineno-0-473" name="__codelineno-0-473" href="#agent-config-__codelineno-0-473"></a><span class="w">      </span><span class="nt">parsers</span><span class="p">:</span>
<a id="__codelineno-0-474" name="__codelineno-0-474" href="#agent-config-__codelineno-0-474"></a><span class="w">        </span><span class="c1"># pip-resolved-dependencies.txt parser</span>
<a id="__codelineno-0-475" name="__codelineno-0-475" href="#agent-config-__codelineno-0-475"></a><span class="w">        </span><span class="nt">pip-resolved-dependencies_txt</span><span class="p">:</span>
<a id="__codelineno-0-476" name="__codelineno-0-476" href="#agent-config-__codelineno-0-476"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-477" name="__codelineno-0-477" href="#agent-config-__codelineno-0-477"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-478" name="__codelineno-0-478" href="#agent-config-__codelineno-0-478"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-479" name="__codelineno-0-479" href="#agent-config-__codelineno-0-479"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;pip-resolved-dependencies.txt&quot;)</span>
<a id="__codelineno-0-480" name="__codelineno-0-480" href="#agent-config-__codelineno-0-480"></a><span class="w">        </span><span class="c1"># pip environment parser</span>
<a id="__codelineno-0-481" name="__codelineno-0-481" href="#agent-config-__codelineno-0-481"></a><span class="w">        </span><span class="nt">pip_env</span><span class="p">:</span>
<a id="__codelineno-0-482" name="__codelineno-0-482" href="#agent-config-__codelineno-0-482"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-483" name="__codelineno-0-483" href="#agent-config-__codelineno-0-483"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-484" name="__codelineno-0-484" href="#agent-config-__codelineno-0-484"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-485" name="__codelineno-0-485" href="#agent-config-__codelineno-0-485"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;codescoring_pip_for_freeze&quot;)</span>
<a id="__codelineno-0-486" name="__codelineno-0-486" href="#agent-config-__codelineno-0-486"></a><span class="w">          </span><span class="c1"># parser properties</span>
<a id="__codelineno-0-487" name="__codelineno-0-487" href="#agent-config-__codelineno-0-487"></a><span class="w">          </span><span class="nt">properties</span><span class="p">:</span>
<a id="__codelineno-0-488" name="__codelineno-0-488" href="#agent-config-__codelineno-0-488"></a><span class="w">            </span><span class="c1"># path to pip for resolve</span>
<a id="__codelineno-0-489" name="__codelineno-0-489" href="#agent-config-__codelineno-0-489"></a><span class="w">            </span><span class="nt">pip-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pip</span>
<a id="__codelineno-0-490" name="__codelineno-0-490" href="#agent-config-__codelineno-0-490"></a><span class="w">            </span><span class="c1"># args for pip tool</span>
<a id="__codelineno-0-491" name="__codelineno-0-491" href="#agent-config-__codelineno-0-491"></a><span class="w">            </span><span class="nt">pip-args</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-492" name="__codelineno-0-492" href="#agent-config-__codelineno-0-492"></a><span class="w">        </span><span class="c1"># pipdeptree parser</span>
<a id="__codelineno-0-493" name="__codelineno-0-493" href="#agent-config-__codelineno-0-493"></a><span class="w">        </span><span class="nt">pipdeptree</span><span class="p">:</span>
<a id="__codelineno-0-494" name="__codelineno-0-494" href="#agent-config-__codelineno-0-494"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-495" name="__codelineno-0-495" href="#agent-config-__codelineno-0-495"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-496" name="__codelineno-0-496" href="#agent-config-__codelineno-0-496"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-497" name="__codelineno-0-497" href="#agent-config-__codelineno-0-497"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;pipdeptree.txt&quot;)</span>
<a id="__codelineno-0-498" name="__codelineno-0-498" href="#agent-config-__codelineno-0-498"></a><span class="w">        </span><span class="c1"># pipdeptree environment parser</span>
<a id="__codelineno-0-499" name="__codelineno-0-499" href="#agent-config-__codelineno-0-499"></a><span class="w">        </span><span class="nt">pipdeptree_env</span><span class="p">:</span>
<a id="__codelineno-0-500" name="__codelineno-0-500" href="#agent-config-__codelineno-0-500"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-501" name="__codelineno-0-501" href="#agent-config-__codelineno-0-501"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-502" name="__codelineno-0-502" href="#agent-config-__codelineno-0-502"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-503" name="__codelineno-0-503" href="#agent-config-__codelineno-0-503"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;codescoring_pipdeptree&quot;)</span>
<a id="__codelineno-0-504" name="__codelineno-0-504" href="#agent-config-__codelineno-0-504"></a><span class="w">          </span><span class="c1"># parser properties</span>
<a id="__codelineno-0-505" name="__codelineno-0-505" href="#agent-config-__codelineno-0-505"></a><span class="w">          </span><span class="nt">properties</span><span class="p">:</span>
<a id="__codelineno-0-506" name="__codelineno-0-506" href="#agent-config-__codelineno-0-506"></a><span class="w">            </span><span class="c1"># path to pipdeptree for resolve</span>
<a id="__codelineno-0-507" name="__codelineno-0-507" href="#agent-config-__codelineno-0-507"></a><span class="w">            </span><span class="nt">pipdeptree-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pip</span>
<a id="__codelineno-0-508" name="__codelineno-0-508" href="#agent-config-__codelineno-0-508"></a><span class="w">            </span><span class="c1"># args for pipdeptree tool</span>
<a id="__codelineno-0-509" name="__codelineno-0-509" href="#agent-config-__codelineno-0-509"></a><span class="w">            </span><span class="nt">pipdeptree-args</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-510" name="__codelineno-0-510" href="#agent-config-__codelineno-0-510"></a><span class="w">        </span><span class="c1"># Pipfile parser</span>
<a id="__codelineno-0-511" name="__codelineno-0-511" href="#agent-config-__codelineno-0-511"></a><span class="w">        </span><span class="nt">pipfile</span><span class="p">:</span>
<a id="__codelineno-0-512" name="__codelineno-0-512" href="#agent-config-__codelineno-0-512"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-513" name="__codelineno-0-513" href="#agent-config-__codelineno-0-513"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-514" name="__codelineno-0-514" href="#agent-config-__codelineno-0-514"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-515" name="__codelineno-0-515" href="#agent-config-__codelineno-0-515"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;Pipfile&quot;)</span>
<a id="__codelineno-0-516" name="__codelineno-0-516" href="#agent-config-__codelineno-0-516"></a><span class="w">        </span><span class="c1"># Pipfile.lock parser</span>
<a id="__codelineno-0-517" name="__codelineno-0-517" href="#agent-config-__codelineno-0-517"></a><span class="w">        </span><span class="nt">pipfile_lock</span><span class="p">:</span>
<a id="__codelineno-0-518" name="__codelineno-0-518" href="#agent-config-__codelineno-0-518"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-519" name="__codelineno-0-519" href="#agent-config-__codelineno-0-519"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-520" name="__codelineno-0-520" href="#agent-config-__codelineno-0-520"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-521" name="__codelineno-0-521" href="#agent-config-__codelineno-0-521"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;Pipfile.lock&quot;)</span>
<a id="__codelineno-0-522" name="__codelineno-0-522" href="#agent-config-__codelineno-0-522"></a><span class="w">        </span><span class="c1"># poetry.lock parser</span>
<a id="__codelineno-0-523" name="__codelineno-0-523" href="#agent-config-__codelineno-0-523"></a><span class="w">        </span><span class="nt">poetry_lock</span><span class="p">:</span>
<a id="__codelineno-0-524" name="__codelineno-0-524" href="#agent-config-__codelineno-0-524"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-525" name="__codelineno-0-525" href="#agent-config-__codelineno-0-525"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-526" name="__codelineno-0-526" href="#agent-config-__codelineno-0-526"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-527" name="__codelineno-0-527" href="#agent-config-__codelineno-0-527"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;poetry.lock&quot;)</span>
<a id="__codelineno-0-528" name="__codelineno-0-528" href="#agent-config-__codelineno-0-528"></a><span class="w">        </span><span class="c1"># pyproject.toml poetry environment parser</span>
<a id="__codelineno-0-529" name="__codelineno-0-529" href="#agent-config-__codelineno-0-529"></a><span class="w">        </span><span class="nt">poetry_pyproject_toml_env</span><span class="p">:</span>
<a id="__codelineno-0-530" name="__codelineno-0-530" href="#agent-config-__codelineno-0-530"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-531" name="__codelineno-0-531" href="#agent-config-__codelineno-0-531"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-532" name="__codelineno-0-532" href="#agent-config-__codelineno-0-532"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-533" name="__codelineno-0-533" href="#agent-config-__codelineno-0-533"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;pyproject.toml&quot;)</span>
<a id="__codelineno-0-534" name="__codelineno-0-534" href="#agent-config-__codelineno-0-534"></a><span class="w">          </span><span class="c1"># parser properties</span>
<a id="__codelineno-0-535" name="__codelineno-0-535" href="#agent-config-__codelineno-0-535"></a><span class="w">          </span><span class="nt">properties</span><span class="p">:</span>
<a id="__codelineno-0-536" name="__codelineno-0-536" href="#agent-config-__codelineno-0-536"></a><span class="w">            </span><span class="c1"># path to poetry for resolve</span>
<a id="__codelineno-0-537" name="__codelineno-0-537" href="#agent-config-__codelineno-0-537"></a><span class="w">            </span><span class="nt">poetry-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">poetry</span>
<a id="__codelineno-0-538" name="__codelineno-0-538" href="#agent-config-__codelineno-0-538"></a><span class="w">            </span><span class="c1"># args for poetry tool</span>
<a id="__codelineno-0-539" name="__codelineno-0-539" href="#agent-config-__codelineno-0-539"></a><span class="w">            </span><span class="nt">poetry-args</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-540" name="__codelineno-0-540" href="#agent-config-__codelineno-0-540"></a><span class="w">        </span><span class="c1"># uv.lock parser</span>
<a id="__codelineno-0-541" name="__codelineno-0-541" href="#agent-config-__codelineno-0-541"></a><span class="w">        </span><span class="nt">uv_lock</span><span class="p">:</span>
<a id="__codelineno-0-542" name="__codelineno-0-542" href="#agent-config-__codelineno-0-542"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-543" name="__codelineno-0-543" href="#agent-config-__codelineno-0-543"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-544" name="__codelineno-0-544" href="#agent-config-__codelineno-0-544"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-545" name="__codelineno-0-545" href="#agent-config-__codelineno-0-545"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;uv.lock&quot;)</span>
<a id="__codelineno-0-546" name="__codelineno-0-546" href="#agent-config-__codelineno-0-546"></a><span class="w">        </span><span class="c1"># pyproject.toml uv environment parser</span>
<a id="__codelineno-0-547" name="__codelineno-0-547" href="#agent-config-__codelineno-0-547"></a><span class="w">        </span><span class="nt">uv_env</span><span class="p">:</span>
<a id="__codelineno-0-548" name="__codelineno-0-548" href="#agent-config-__codelineno-0-548"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-549" name="__codelineno-0-549" href="#agent-config-__codelineno-0-549"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-550" name="__codelineno-0-550" href="#agent-config-__codelineno-0-550"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-551" name="__codelineno-0-551" href="#agent-config-__codelineno-0-551"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;pyproject.toml&quot;)</span>
<a id="__codelineno-0-552" name="__codelineno-0-552" href="#agent-config-__codelineno-0-552"></a><span class="w">          </span><span class="c1"># parser properties</span>
<a id="__codelineno-0-553" name="__codelineno-0-553" href="#agent-config-__codelineno-0-553"></a><span class="w">          </span><span class="nt">properties</span><span class="p">:</span>
<a id="__codelineno-0-554" name="__codelineno-0-554" href="#agent-config-__codelineno-0-554"></a><span class="w">            </span><span class="c1"># path to uv for resolve</span>
<a id="__codelineno-0-555" name="__codelineno-0-555" href="#agent-config-__codelineno-0-555"></a><span class="w">            </span><span class="nt">uv-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uv</span>
<a id="__codelineno-0-556" name="__codelineno-0-556" href="#agent-config-__codelineno-0-556"></a><span class="w">            </span><span class="c1"># args for uv tool</span>
<a id="__codelineno-0-557" name="__codelineno-0-557" href="#agent-config-__codelineno-0-557"></a><span class="w">            </span><span class="nt">uv-args</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-558" name="__codelineno-0-558" href="#agent-config-__codelineno-0-558"></a><span class="w">        </span><span class="c1"># pyproject.toml parser</span>
<a id="__codelineno-0-559" name="__codelineno-0-559" href="#agent-config-__codelineno-0-559"></a><span class="w">        </span><span class="nt">pyproject_toml</span><span class="p">:</span>
<a id="__codelineno-0-560" name="__codelineno-0-560" href="#agent-config-__codelineno-0-560"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-561" name="__codelineno-0-561" href="#agent-config-__codelineno-0-561"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-562" name="__codelineno-0-562" href="#agent-config-__codelineno-0-562"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-563" name="__codelineno-0-563" href="#agent-config-__codelineno-0-563"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;pyproject.toml&quot;)</span>
<a id="__codelineno-0-564" name="__codelineno-0-564" href="#agent-config-__codelineno-0-564"></a><span class="w">        </span><span class="c1"># requirements.txt parser</span>
<a id="__codelineno-0-565" name="__codelineno-0-565" href="#agent-config-__codelineno-0-565"></a><span class="w">        </span><span class="nt">requirements_txt</span><span class="p">:</span>
<a id="__codelineno-0-566" name="__codelineno-0-566" href="#agent-config-__codelineno-0-566"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-567" name="__codelineno-0-567" href="#agent-config-__codelineno-0-567"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-568" name="__codelineno-0-568" href="#agent-config-__codelineno-0-568"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-569" name="__codelineno-0-569" href="#agent-config-__codelineno-0-569"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">match(&quot;.*require[^/]*(/)?[^/]*.(txt|pip)$&quot;)</span>
<a id="__codelineno-0-570" name="__codelineno-0-570" href="#agent-config-__codelineno-0-570"></a><span class="w">        </span><span class="c1"># setup.py parser</span>
<a id="__codelineno-0-571" name="__codelineno-0-571" href="#agent-config-__codelineno-0-571"></a><span class="w">        </span><span class="nt">setup_py</span><span class="p">:</span>
<a id="__codelineno-0-572" name="__codelineno-0-572" href="#agent-config-__codelineno-0-572"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-573" name="__codelineno-0-573" href="#agent-config-__codelineno-0-573"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-574" name="__codelineno-0-574" href="#agent-config-__codelineno-0-574"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-575" name="__codelineno-0-575" href="#agent-config-__codelineno-0-575"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;setup.py&quot;)</span>
<a id="__codelineno-0-576" name="__codelineno-0-576" href="#agent-config-__codelineno-0-576"></a><span class="w">      </span><span class="c1"># technology properties</span>
<a id="__codelineno-0-577" name="__codelineno-0-577" href="#agent-config-__codelineno-0-577"></a><span class="w">      </span><span class="nt">properties</span><span class="p">:</span>
<a id="__codelineno-0-578" name="__codelineno-0-578" href="#agent-config-__codelineno-0-578"></a><span class="w">        </span><span class="c1"># python version</span>
<a id="__codelineno-0-579" name="__codelineno-0-579" href="#agent-config-__codelineno-0-579"></a><span class="w">        </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-580" name="__codelineno-0-580" href="#agent-config-__codelineno-0-580"></a><span class="w">    </span><span class="c1"># Ruby</span>
<a id="__codelineno-0-581" name="__codelineno-0-581" href="#agent-config-__codelineno-0-581"></a><span class="w">    </span><span class="nt">ruby</span><span class="p">:</span>
<a id="__codelineno-0-582" name="__codelineno-0-582" href="#agent-config-__codelineno-0-582"></a><span class="w">      </span><span class="c1"># Use Ruby parsers</span>
<a id="__codelineno-0-583" name="__codelineno-0-583" href="#agent-config-__codelineno-0-583"></a><span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-584" name="__codelineno-0-584" href="#agent-config-__codelineno-0-584"></a><span class="w">      </span><span class="c1"># Ruby parsers</span>
<a id="__codelineno-0-585" name="__codelineno-0-585" href="#agent-config-__codelineno-0-585"></a><span class="w">      </span><span class="nt">parsers</span><span class="p">:</span>
<a id="__codelineno-0-586" name="__codelineno-0-586" href="#agent-config-__codelineno-0-586"></a><span class="w">        </span><span class="c1"># Gemfile parser</span>
<a id="__codelineno-0-587" name="__codelineno-0-587" href="#agent-config-__codelineno-0-587"></a><span class="w">        </span><span class="nt">gemfile</span><span class="p">:</span>
<a id="__codelineno-0-588" name="__codelineno-0-588" href="#agent-config-__codelineno-0-588"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-589" name="__codelineno-0-589" href="#agent-config-__codelineno-0-589"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-590" name="__codelineno-0-590" href="#agent-config-__codelineno-0-590"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-591" name="__codelineno-0-591" href="#agent-config-__codelineno-0-591"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;Gemfile&quot;) || equal(&quot;gems.rb&quot;)</span>
<a id="__codelineno-0-592" name="__codelineno-0-592" href="#agent-config-__codelineno-0-592"></a><span class="w">        </span><span class="c1"># Gemfile.lock parser</span>
<a id="__codelineno-0-593" name="__codelineno-0-593" href="#agent-config-__codelineno-0-593"></a><span class="w">        </span><span class="nt">gemfile_lock</span><span class="p">:</span>
<a id="__codelineno-0-594" name="__codelineno-0-594" href="#agent-config-__codelineno-0-594"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-595" name="__codelineno-0-595" href="#agent-config-__codelineno-0-595"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-596" name="__codelineno-0-596" href="#agent-config-__codelineno-0-596"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-597" name="__codelineno-0-597" href="#agent-config-__codelineno-0-597"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;Gemfile.lock&quot;) || equal(&quot;gems.locked&quot;)</span>
<a id="__codelineno-0-598" name="__codelineno-0-598" href="#agent-config-__codelineno-0-598"></a><span class="w">        </span><span class="c1"># .gemspec parser</span>
<a id="__codelineno-0-599" name="__codelineno-0-599" href="#agent-config-__codelineno-0-599"></a><span class="w">        </span><span class="nt">gemspec</span><span class="p">:</span>
<a id="__codelineno-0-600" name="__codelineno-0-600" href="#agent-config-__codelineno-0-600"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-601" name="__codelineno-0-601" href="#agent-config-__codelineno-0-601"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-602" name="__codelineno-0-602" href="#agent-config-__codelineno-0-602"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-603" name="__codelineno-0-603" href="#agent-config-__codelineno-0-603"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extension(&quot;.gemspec&quot;)</span>
<a id="__codelineno-0-604" name="__codelineno-0-604" href="#agent-config-__codelineno-0-604"></a><span class="w">    </span><span class="c1"># Rust</span>
<a id="__codelineno-0-605" name="__codelineno-0-605" href="#agent-config-__codelineno-0-605"></a><span class="w">    </span><span class="nt">rust</span><span class="p">:</span>
<a id="__codelineno-0-606" name="__codelineno-0-606" href="#agent-config-__codelineno-0-606"></a><span class="w">      </span><span class="c1"># Use Rust parsers</span>
<a id="__codelineno-0-607" name="__codelineno-0-607" href="#agent-config-__codelineno-0-607"></a><span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-608" name="__codelineno-0-608" href="#agent-config-__codelineno-0-608"></a><span class="w">      </span><span class="c1"># Rust parsers</span>
<a id="__codelineno-0-609" name="__codelineno-0-609" href="#agent-config-__codelineno-0-609"></a><span class="w">      </span><span class="nt">parsers</span><span class="p">:</span>
<a id="__codelineno-0-610" name="__codelineno-0-610" href="#agent-config-__codelineno-0-610"></a><span class="w">        </span><span class="c1"># cargo.lock parser</span>
<a id="__codelineno-0-611" name="__codelineno-0-611" href="#agent-config-__codelineno-0-611"></a><span class="w">        </span><span class="nt">cargo_lock</span><span class="p">:</span>
<a id="__codelineno-0-612" name="__codelineno-0-612" href="#agent-config-__codelineno-0-612"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-613" name="__codelineno-0-613" href="#agent-config-__codelineno-0-613"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-614" name="__codelineno-0-614" href="#agent-config-__codelineno-0-614"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-615" name="__codelineno-0-615" href="#agent-config-__codelineno-0-615"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;cargo.lock&quot;)</span>
<a id="__codelineno-0-616" name="__codelineno-0-616" href="#agent-config-__codelineno-0-616"></a><span class="w">        </span><span class="c1"># cargo.toml parser</span>
<a id="__codelineno-0-617" name="__codelineno-0-617" href="#agent-config-__codelineno-0-617"></a><span class="w">        </span><span class="nt">cargo_toml</span><span class="p">:</span>
<a id="__codelineno-0-618" name="__codelineno-0-618" href="#agent-config-__codelineno-0-618"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-619" name="__codelineno-0-619" href="#agent-config-__codelineno-0-619"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-620" name="__codelineno-0-620" href="#agent-config-__codelineno-0-620"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-621" name="__codelineno-0-621" href="#agent-config-__codelineno-0-621"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;cargo.toml&quot;)</span>
<a id="__codelineno-0-622" name="__codelineno-0-622" href="#agent-config-__codelineno-0-622"></a><span class="w">    </span><span class="c1"># conda</span>
<a id="__codelineno-0-623" name="__codelineno-0-623" href="#agent-config-__codelineno-0-623"></a><span class="w">    </span><span class="nt">conda</span><span class="p">:</span>
<a id="__codelineno-0-624" name="__codelineno-0-624" href="#agent-config-__codelineno-0-624"></a><span class="w">      </span><span class="c1"># Use Conda parsers</span>
<a id="__codelineno-0-625" name="__codelineno-0-625" href="#agent-config-__codelineno-0-625"></a><span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-626" name="__codelineno-0-626" href="#agent-config-__codelineno-0-626"></a><span class="w">      </span><span class="c1"># Conda parsers</span>
<a id="__codelineno-0-627" name="__codelineno-0-627" href="#agent-config-__codelineno-0-627"></a><span class="w">      </span><span class="nt">parsers</span><span class="p">:</span>
<a id="__codelineno-0-628" name="__codelineno-0-628" href="#agent-config-__codelineno-0-628"></a><span class="w">        </span><span class="c1"># Conda-lock parser</span>
<a id="__codelineno-0-629" name="__codelineno-0-629" href="#agent-config-__codelineno-0-629"></a><span class="w">        </span><span class="nt">conda-lock_yml</span><span class="p">:</span>
<a id="__codelineno-0-630" name="__codelineno-0-630" href="#agent-config-__codelineno-0-630"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-631" name="__codelineno-0-631" href="#agent-config-__codelineno-0-631"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-632" name="__codelineno-0-632" href="#agent-config-__codelineno-0-632"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-633" name="__codelineno-0-633" href="#agent-config-__codelineno-0-633"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;conda-lock.yml&quot;)</span>
<a id="__codelineno-0-634" name="__codelineno-0-634" href="#agent-config-__codelineno-0-634"></a><span class="w">        </span><span class="c1"># Conda env parser</span>
<a id="__codelineno-0-635" name="__codelineno-0-635" href="#agent-config-__codelineno-0-635"></a><span class="w">        </span><span class="nt">conda_yml_env</span><span class="p">:</span>
<a id="__codelineno-0-636" name="__codelineno-0-636" href="#agent-config-__codelineno-0-636"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-637" name="__codelineno-0-637" href="#agent-config-__codelineno-0-637"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-638" name="__codelineno-0-638" href="#agent-config-__codelineno-0-638"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-639" name="__codelineno-0-639" href="#agent-config-__codelineno-0-639"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;environment.yml&quot;) || equal(&quot;environment.yaml&quot;) || equal(&quot;meta.yml&quot;) || equal(&quot;meta.yaml&quot;)</span>
<a id="__codelineno-0-640" name="__codelineno-0-640" href="#agent-config-__codelineno-0-640"></a><span class="w">          </span><span class="c1"># parser properties</span>
<a id="__codelineno-0-641" name="__codelineno-0-641" href="#agent-config-__codelineno-0-641"></a><span class="w">          </span><span class="nt">properties</span><span class="p">:</span>
<a id="__codelineno-0-642" name="__codelineno-0-642" href="#agent-config-__codelineno-0-642"></a><span class="w">            </span><span class="c1"># path to conda-lock for resolve</span>
<a id="__codelineno-0-643" name="__codelineno-0-643" href="#agent-config-__codelineno-0-643"></a><span class="w">            </span><span class="nt">conda-lock-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">conda-lock</span>
<a id="__codelineno-0-644" name="__codelineno-0-644" href="#agent-config-__codelineno-0-644"></a><span class="w">            </span><span class="c1"># args for conda tool</span>
<a id="__codelineno-0-645" name="__codelineno-0-645" href="#agent-config-__codelineno-0-645"></a><span class="w">            </span><span class="nt">conda-args</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-646" name="__codelineno-0-646" href="#agent-config-__codelineno-0-646"></a><span class="w">    </span><span class="c1"># swift</span>
<a id="__codelineno-0-647" name="__codelineno-0-647" href="#agent-config-__codelineno-0-647"></a><span class="w">    </span><span class="nt">swift</span><span class="p">:</span>
<a id="__codelineno-0-648" name="__codelineno-0-648" href="#agent-config-__codelineno-0-648"></a><span class="w">      </span><span class="c1"># Use swift parsers</span>
<a id="__codelineno-0-649" name="__codelineno-0-649" href="#agent-config-__codelineno-0-649"></a><span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-650" name="__codelineno-0-650" href="#agent-config-__codelineno-0-650"></a><span class="w">      </span><span class="c1"># swift parsers</span>
<a id="__codelineno-0-651" name="__codelineno-0-651" href="#agent-config-__codelineno-0-651"></a><span class="w">      </span><span class="nt">parsers</span><span class="p">:</span>
<a id="__codelineno-0-652" name="__codelineno-0-652" href="#agent-config-__codelineno-0-652"></a><span class="w">        </span><span class="c1"># Package.resolved parser</span>
<a id="__codelineno-0-653" name="__codelineno-0-653" href="#agent-config-__codelineno-0-653"></a><span class="w">        </span><span class="nt">package_resolved</span><span class="p">:</span>
<a id="__codelineno-0-654" name="__codelineno-0-654" href="#agent-config-__codelineno-0-654"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-655" name="__codelineno-0-655" href="#agent-config-__codelineno-0-655"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-656" name="__codelineno-0-656" href="#agent-config-__codelineno-0-656"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-657" name="__codelineno-0-657" href="#agent-config-__codelineno-0-657"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;Package.resolved&quot;)</span>
<a id="__codelineno-0-658" name="__codelineno-0-658" href="#agent-config-__codelineno-0-658"></a><span class="w">        </span><span class="c1"># Package.swift parser</span>
<a id="__codelineno-0-659" name="__codelineno-0-659" href="#agent-config-__codelineno-0-659"></a><span class="w">        </span><span class="nt">package_swift</span><span class="p">:</span>
<a id="__codelineno-0-660" name="__codelineno-0-660" href="#agent-config-__codelineno-0-660"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-661" name="__codelineno-0-661" href="#agent-config-__codelineno-0-661"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-662" name="__codelineno-0-662" href="#agent-config-__codelineno-0-662"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-663" name="__codelineno-0-663" href="#agent-config-__codelineno-0-663"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;Package.swift&quot;)</span>
<a id="__codelineno-0-664" name="__codelineno-0-664" href="#agent-config-__codelineno-0-664"></a><span class="w">        </span><span class="c1"># Package.swift env parser</span>
<a id="__codelineno-0-665" name="__codelineno-0-665" href="#agent-config-__codelineno-0-665"></a><span class="w">        </span><span class="nt">package_swift_env</span><span class="p">:</span>
<a id="__codelineno-0-666" name="__codelineno-0-666" href="#agent-config-__codelineno-0-666"></a><span class="w">          </span><span class="c1"># use parser</span>
<a id="__codelineno-0-667" name="__codelineno-0-667" href="#agent-config-__codelineno-0-667"></a><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-668" name="__codelineno-0-668" href="#agent-config-__codelineno-0-668"></a><span class="w">          </span><span class="c1"># matching criteria</span>
<a id="__codelineno-0-669" name="__codelineno-0-669" href="#agent-config-__codelineno-0-669"></a><span class="w">          </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">equal(&quot;Package.swift&quot;)</span>
<a id="__codelineno-0-670" name="__codelineno-0-670" href="#agent-config-__codelineno-0-670"></a><span class="w">          </span><span class="c1"># parser properties</span>
<a id="__codelineno-0-671" name="__codelineno-0-671" href="#agent-config-__codelineno-0-671"></a><span class="w">          </span><span class="nt">properties</span><span class="p">:</span>
<a id="__codelineno-0-672" name="__codelineno-0-672" href="#agent-config-__codelineno-0-672"></a><span class="w">            </span><span class="c1"># path to swift for resolve</span>
<a id="__codelineno-0-673" name="__codelineno-0-673" href="#agent-config-__codelineno-0-673"></a><span class="w">            </span><span class="nt">swift-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">swift</span>
<a id="__codelineno-0-674" name="__codelineno-0-674" href="#agent-config-__codelineno-0-674"></a><span class="w">            </span><span class="c1"># args for swift tool</span>
<a id="__codelineno-0-675" name="__codelineno-0-675" href="#agent-config-__codelineno-0-675"></a><span class="w">            </span><span class="nt">swift-args</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-676" name="__codelineno-0-676" href="#agent-config-__codelineno-0-676"></a><span class="w">  </span><span class="c1"># scan secrets</span>
<a id="__codelineno-0-677" name="__codelineno-0-677" href="#agent-config-__codelineno-0-677"></a><span class="w">  </span><span class="nt">secrets</span><span class="p">:</span>
<a id="__codelineno-0-678" name="__codelineno-0-678" href="#agent-config-__codelineno-0-678"></a><span class="w">    </span><span class="c1"># gitleaks options</span>
<a id="__codelineno-0-679" name="__codelineno-0-679" href="#agent-config-__codelineno-0-679"></a><span class="w">    </span><span class="nt">gitleaks</span><span class="p">:</span>
<a id="__codelineno-0-680" name="__codelineno-0-680" href="#agent-config-__codelineno-0-680"></a><span class="w">      </span><span class="c1"># path to baseline with issues that can be ignored</span>
<a id="__codelineno-0-681" name="__codelineno-0-681" href="#agent-config-__codelineno-0-681"></a><span class="w">      </span><span class="nt">baseline-path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-682" name="__codelineno-0-682" href="#agent-config-__codelineno-0-682"></a><span class="w">      </span><span class="c1"># only enable specific rules by id</span>
<a id="__codelineno-0-683" name="__codelineno-0-683" href="#agent-config-__codelineno-0-683"></a><span class="w">      </span><span class="nt">enable-rule</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="p p-Indicator">]</span>
<a id="__codelineno-0-684" name="__codelineno-0-684" href="#agent-config-__codelineno-0-684"></a><span class="w">      </span><span class="c1"># path to .gitleaksignore file or folder containing one</span>
<a id="__codelineno-0-685" name="__codelineno-0-685" href="#agent-config-__codelineno-0-685"></a><span class="w">      </span><span class="nt">gitleaks-ignore-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">.</span>
<a id="__codelineno-0-686" name="__codelineno-0-686" href="#agent-config-__codelineno-0-686"></a><span class="w">      </span><span class="c1"># path to gitleaks binary to be used during scanning</span>
<a id="__codelineno-0-687" name="__codelineno-0-687" href="#agent-config-__codelineno-0-687"></a><span class="w">      </span><span class="nt">gitleaks-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gitleaks</span>
<a id="__codelineno-0-688" name="__codelineno-0-688" href="#agent-config-__codelineno-0-688"></a><span class="w">      </span><span class="c1"># path to gitleaks config</span>
<a id="__codelineno-0-689" name="__codelineno-0-689" href="#agent-config-__codelineno-0-689"></a><span class="w">      </span><span class="nt">gitleaks-config</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-0-690" name="__codelineno-0-690" href="#agent-config-__codelineno-0-690"></a><span class="w">      </span><span class="c1"># ignore gitleaks:allow comments</span>
<a id="__codelineno-0-691" name="__codelineno-0-691" href="#agent-config-__codelineno-0-691"></a><span class="w">      </span><span class="nt">ignore-gitleaks-allow</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-692" name="__codelineno-0-692" href="#agent-config-__codelineno-0-692"></a><span class="w">      </span><span class="c1"># log level (trace, debug, info, warn, error, fatal)</span>
<a id="__codelineno-0-693" name="__codelineno-0-693" href="#agent-config-__codelineno-0-693"></a><span class="w">      </span><span class="nt">log-level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">info</span>
<a id="__codelineno-0-694" name="__codelineno-0-694" href="#agent-config-__codelineno-0-694"></a><span class="w">      </span><span class="c1"># allow recursive decoding up to this depth (default \&quot;0\&quot;, no decoding is done)</span>
<a id="__codelineno-0-695" name="__codelineno-0-695" href="#agent-config-__codelineno-0-695"></a><span class="w">      </span><span class="nt">max-decode-depth</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<a id="__codelineno-0-696" name="__codelineno-0-696" href="#agent-config-__codelineno-0-696"></a><span class="w">      </span><span class="c1"># files larger than this will be skipped</span>
<a id="__codelineno-0-697" name="__codelineno-0-697" href="#agent-config-__codelineno-0-697"></a><span class="w">      </span><span class="nt">max-target-megabytes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<a id="__codelineno-0-698" name="__codelineno-0-698" href="#agent-config-__codelineno-0-698"></a><span class="w">      </span><span class="c1"># suppress banner</span>
<a id="__codelineno-0-699" name="__codelineno-0-699" href="#agent-config-__codelineno-0-699"></a><span class="w">      </span><span class="nt">no-banner</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-700" name="__codelineno-0-700" href="#agent-config-__codelineno-0-700"></a><span class="w">      </span><span class="c1"># turn off color for verbose output</span>
<a id="__codelineno-0-701" name="__codelineno-0-701" href="#agent-config-__codelineno-0-701"></a><span class="w">      </span><span class="nt">no-color</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-702" name="__codelineno-0-702" href="#agent-config-__codelineno-0-702"></a><span class="w">      </span><span class="c1"># redact secrets from logs and stdout. To redact only parts of the secret just apply a percent value from 0..100. For example --redact=20 (default 100%)</span>
<a id="__codelineno-0-703" name="__codelineno-0-703" href="#agent-config-__codelineno-0-703"></a><span class="w">      </span><span class="nt">redact</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;0&quot;</span>
<a id="__codelineno-0-704" name="__codelineno-0-704" href="#agent-config-__codelineno-0-704"></a><span class="w">      </span><span class="c1"># show verbose output from scan</span>
<a id="__codelineno-0-705" name="__codelineno-0-705" href="#agent-config-__codelineno-0-705"></a><span class="w">      </span><span class="nt">verbose</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-706" name="__codelineno-0-706" href="#agent-config-__codelineno-0-706"></a><span class="w">    </span><span class="c1"># output report in gitlab format</span>
<a id="__codelineno-0-707" name="__codelineno-0-707" href="#agent-config-__codelineno-0-707"></a><span class="w">    </span><span class="nt">gl-secrets-report</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-708" name="__codelineno-0-708" href="#agent-config-__codelineno-0-708"></a><span class="w">    </span><span class="c1"># output file for report in gitlab format</span>
<a id="__codelineno-0-709" name="__codelineno-0-709" href="#agent-config-__codelineno-0-709"></a><span class="w">    </span><span class="nt">gl-secrets-report-filename</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gl-secrets-report.json</span>
<a id="__codelineno-0-710" name="__codelineno-0-710" href="#agent-config-__codelineno-0-710"></a><span class="w">  </span><span class="c1"># scan archives options</span>
<a id="__codelineno-0-711" name="__codelineno-0-711" href="#agent-config-__codelineno-0-711"></a><span class="w">  </span><span class="nt">scan-archives</span><span class="p">:</span>
<a id="__codelineno-0-712" name="__codelineno-0-712" href="#agent-config-__codelineno-0-712"></a><span class="w">    </span><span class="c1"># scan archives</span>
<a id="__codelineno-0-713" name="__codelineno-0-713" href="#agent-config-__codelineno-0-713"></a><span class="w">    </span><span class="nt">scan</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-0-714" name="__codelineno-0-714" href="#agent-config-__codelineno-0-714"></a><span class="w">    </span><span class="c1"># archive scanning depth</span>
<a id="__codelineno-0-715" name="__codelineno-0-715" href="#agent-config-__codelineno-0-715"></a><span class="w">    </span><span class="nt">depth</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="__codelineno-0-716" name="__codelineno-0-716" href="#agent-config-__codelineno-0-716"></a><span class="c1"># stats options</span>
<a id="__codelineno-0-717" name="__codelineno-0-717" href="#agent-config-__codelineno-0-717"></a><span class="nt">stats</span><span class="p">:</span>
<a id="__codelineno-0-718" name="__codelineno-0-718" href="#agent-config-__codelineno-0-718"></a><span class="w">  </span><span class="c1"># Report format. Supported formats: coloredtable, table, text, junit, sarif, csv. Default output coloredtable to console.</span>
<a id="__codelineno-0-719" name="__codelineno-0-719" href="#agent-config-__codelineno-0-719"></a><span class="w">  </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">coloredtable,junit&gt;&gt;junit.xml</span>
<a id="__codelineno-0-720" name="__codelineno-0-720" href="#agent-config-__codelineno-0-720"></a><span class="w">  </span><span class="c1"># Policy alerts report format. Supported formats: coloredtable, table, text, json, csv. Default output coloredtable to console.</span>
<a id="__codelineno-0-721" name="__codelineno-0-721" href="#agent-config-__codelineno-0-721"></a><span class="w">  </span><span class="nt">alerts-format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">coloredtable</span>
<a id="__codelineno-0-722" name="__codelineno-0-722" href="#agent-config-__codelineno-0-722"></a><span class="w">  </span><span class="c1"># Group vulnerabilities by field</span>
<a id="__codelineno-0-723" name="__codelineno-0-723" href="#agent-config-__codelineno-0-723"></a><span class="w">  </span><span class="nt">group-vulnerabilities-by</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">vulnerability</span>
<a id="__codelineno-0-724" name="__codelineno-0-724" href="#agent-config-__codelineno-0-724"></a><span class="w">  </span><span class="c1"># Sort vulnerabilities by fields</span>
<a id="__codelineno-0-725" name="__codelineno-0-725" href="#agent-config-__codelineno-0-725"></a><span class="w">  </span><span class="nt">sort-vulnerabilities-by</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-cvss3,-cvss2,fixedversion,vulnerability,cwes,links,affect</span>
<a id="__codelineno-0-726" name="__codelineno-0-726" href="#agent-config-__codelineno-0-726"></a><span class="c1"># cli options</span>
<a id="__codelineno-0-727" name="__codelineno-0-727" href="#agent-config-__codelineno-0-727"></a><span class="nt">cli</span><span class="p">:</span>
<a id="__codelineno-0-728" name="__codelineno-0-728" href="#agent-config-__codelineno-0-728"></a><span class="w">  </span><span class="c1"># CodeScoring server url</span>
<a id="__codelineno-0-729" name="__codelineno-0-729" href="#agent-config-__codelineno-0-729"></a><span class="w">  </span><span class="nt">api_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://example_url</span>
<a id="__codelineno-0-730" name="__codelineno-0-730" href="#agent-config-__codelineno-0-730"></a><span class="w">  </span><span class="c1"># API token for integration with CodeScoring server</span>
<a id="__codelineno-0-731" name="__codelineno-0-731" href="#agent-config-__codelineno-0-731"></a><span class="w">  </span><span class="nt">api_token</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example_token</span>
<a id="__codelineno-0-732" name="__codelineno-0-732" href="#agent-config-__codelineno-0-732"></a><span class="w">  </span><span class="c1"># Localization language (en|ru). Default: en</span>
<a id="__codelineno-0-733" name="__codelineno-0-733" href="#agent-config-__codelineno-0-733"></a><span class="w">  </span><span class="nt">localization</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">en</span>
</code></pre></div>
<h3 id="agent-config-_13">Приоритет настроек<a class="headerlink" href="#agent-config-_13" title="Permanent link">&para;</a></h3>
<p>Поскольку параметры запуска агента можно настроить несколькими способами, при одновременном использовании двух и более способов агент будет принимать параметры в следующем порядке приоритетов:</p>
<ol>
<li>Значение команды <a href="#agent-scan-technology">scan-technology</a> (если она используется);</li>
<li>Значение флага команды;</li>
<li>Значение <a href="#agent-env-variables">переменной окружения</a>;</li>
<li>Значение из <a href="#agent-config">конфиг-файла</a>.</li>
</ol></section><section class="print-page" id="agent-env-variables" heading-number="4.4.3.3"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-env-variables.en">English</a></li>
</ul>
<h1 id="agent-env-variables-_1">Настройка через переменные окружения<a class="headerlink" href="#agent-env-variables-_1" title="Permanent link">&para;</a></h1>
<p>Параметры запуска консольного агента можно настроить через переменные окружения. Для настройки через переменные окружения используется структура <a href="#agent-config">конфигурационного файла</a>. </p>
<h2 id="agent-env-variables-_2">Формирование переменных окружения<a class="headerlink" href="#agent-env-variables-_2" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>Префикс переменной</strong>: Все переменные окружения начинаются с префикса <code>JOHNNY_</code>.</li>
<li><strong>Путь секций</strong>: Переменная формируется на основе пути секций в конфигурационном файле. Разделители секций заменяются символом <code>_</code>.</li>
<li><strong>Замена символов</strong>: Символы <code>"."</code> и <code>"-"</code> в именах секций также преобразуются в символ <code>_</code>.</li>
</ol>
<h3 id="agent-env-variables-_3">Пример<a class="headerlink" href="#agent-env-variables-_3" title="Permanent link">&para;</a></h3>
<p>Рассмотрим пример настройки флага <code>block-on-empty-result</code> для блокирования сборки при получении пустого результата:</p>
<ul>
<li><strong>Путь в конфигурационном файле</strong>: <code>scan.general.block-on-empty-result</code>;</li>
<li><strong>Переменная окружения</strong>: <code>JOHNNY_SCAN_GENERAL_BLOCK_ON_EMPTY_RESULT</code>;</li>
</ul>
<p>Таким образом, для изменения значения этого параметра через переменные окружения, необходимо задать переменную <code>JOHNNY_SCAN_GENERAL_BLOCK_ON_EMPTY_RESULT</code> с нужным значением.</p>
<h3 id="agent-env-variables-_4">Приоритет настроек<a class="headerlink" href="#agent-env-variables-_4" title="Permanent link">&para;</a></h3>
<p>Поскольку параметры запуска агента можно настроить несколькими способами, при одновременном использовании двух и более способов агент будет принимать параметры в следующем порядке приоритетов:</p>
<ol>
<li>Значение команды <a href="#agent-scan-technology">scan-technology</a> (если она используется);</li>
<li>Значение флага команды;</li>
<li>Значение <a href="#agent-env-variables">переменной окружения</a>;</li>
<li>Значение из <a href="#agent-config">конфиг-файла</a>.</li>
</ol></section><section class="print-page" id="agent-scan" heading-number="4.4.3.4"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-scan.en">English</a></li>
</ul>
<h1 id="agent-scan-_1">Команда сканирования<a class="headerlink" href="#agent-scan-_1" title="Permanent link">&para;</a></h1>
<p>Запуск агента производится при помощи команды <code>scan</code> с возможными вариантами сканирования:</p>
<ul>
<li><code>scan dir</code> – <a href="#agent-scan-dir">сканирование директории</a>;</li>
<li><code>scan file</code> – <a href="#agent-scan-file">сканирование файла</a>;</li>
<li><code>scan image</code> – <a href="#agent-scan-docker">сканирование контейнерного образа</a>;</li>
<li><code>scan bom</code> – <a href="#agent-scan-bom">сканирование SBOM</a>;</li>
<li><code>scan &lt;technology&gt;</code> - <a href="#agent-scan-technology">сканирование директории с применением настроек для указанной технологии</a>;</li>
<li><code>scan build</code> – <a href="#agent-scan-agent-scan-build">сканирование сборки</a>.</li>
</ul>
<h2 id="agent-scan-_2">Опции запуска<a class="headerlink" href="#agent-scan-_2" title="Permanent link">&para;</a></h2>
<p>Доступные и необходимые опции запуска агента для сканирования можно посмотреть при помощи флага <code>help</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-scan-__codelineno-0-1"></a>$ ./johnny scan --help
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-scan-__codelineno-0-2"></a>johnny - CLI tool for dependency analysis for vulnerabilities and license compliance issues. Works in connection with CodeScoring SCA.
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-scan-__codelineno-0-3"></a>CodeScoring website: https://codescoring.ru
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#agent-scan-__codelineno-0-4"></a>Documentation: https://docs.codescoring.ru
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#agent-scan-__codelineno-0-5"></a>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#agent-scan-__codelineno-0-6"></a>Exit codes:
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#agent-scan-__codelineno-0-7"></a><span class="k">-</span><span class="w"> </span>0: successful run, no issues
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#agent-scan-__codelineno-0-8"></a><span class="k">-</span><span class="w"> </span>1: some issues found, action required
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#agent-scan-__codelineno-0-9"></a><span class="k">-</span><span class="w"> </span>2: run failure
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#agent-scan-__codelineno-0-10"></a><span class="k">-</span><span class="w"> </span>3: successful run, no result
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#agent-scan-__codelineno-0-11"></a><span class="k">-</span><span class="w"> </span>4: signing or verification failure
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#agent-scan-__codelineno-0-12"></a><span class="k">-</span><span class="w"> </span>5: BOM validation error
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#agent-scan-__codelineno-0-13"></a>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#agent-scan-__codelineno-0-14"></a>Version: 2026.3.1
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#agent-scan-__codelineno-0-15"></a>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#agent-scan-__codelineno-0-16"></a>Usage:
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#agent-scan-__codelineno-0-17"></a>   scan [command]
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#agent-scan-__codelineno-0-18"></a>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#agent-scan-__codelineno-0-19"></a>Scan Technologies Commands:
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#agent-scan-__codelineno-0-20"></a>  clang       Scan clang
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#agent-scan-__codelineno-0-21"></a>  conda       Scan conda
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#agent-scan-__codelineno-0-22"></a>  csharp      Scan csharp
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#agent-scan-__codelineno-0-23"></a>  go          Scan go
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#agent-scan-__codelineno-0-24"></a>  java        Scan java
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#agent-scan-__codelineno-0-25"></a>  js          Scan js
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#agent-scan-__codelineno-0-26"></a>  objective_c Scan objective_c
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#agent-scan-__codelineno-0-27"></a>  php         Scan php
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#agent-scan-__codelineno-0-28"></a>  python      Scan python
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#agent-scan-__codelineno-0-29"></a>  ruby        Scan ruby
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#agent-scan-__codelineno-0-30"></a>  rust        Scan rust
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#agent-scan-__codelineno-0-31"></a>  swift       Scan swift
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#agent-scan-__codelineno-0-32"></a>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#agent-scan-__codelineno-0-33"></a>Additional Commands:
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#agent-scan-__codelineno-0-34"></a>  bom         Scan bom
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#agent-scan-__codelineno-0-35"></a>  dir         Scan directory
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#agent-scan-__codelineno-0-36"></a>  file        Scan file
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#agent-scan-__codelineno-0-37"></a>  image       Scan image
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#agent-scan-__codelineno-0-38"></a>
<a id="__codelineno-0-39" name="__codelineno-0-39" href="#agent-scan-__codelineno-0-39"></a>Flags:
<a id="__codelineno-0-40" name="__codelineno-0-40" href="#agent-scan-__codelineno-0-40"></a>  -h, --help      help for scan
<a id="__codelineno-0-41" name="__codelineno-0-41" href="#agent-scan-__codelineno-0-41"></a>  -v, --version   version for scan
<a id="__codelineno-0-42" name="__codelineno-0-42" href="#agent-scan-__codelineno-0-42"></a>
<a id="__codelineno-0-43" name="__codelineno-0-43" href="#agent-scan-__codelineno-0-43"></a>Global Flags:
<a id="__codelineno-0-44" name="__codelineno-0-44" href="#agent-scan-__codelineno-0-44"></a>      --alerts-format string              Alerts format. Supported formats: coloredtable, table, text, csv, json. Default output to console. Supports multiformat. Example: &#39;coloredtable,csv&gt;&gt;csv.csv&#39;  (default &quot;coloredtable&quot;)
<a id="__codelineno-0-45" name="__codelineno-0-45" href="#agent-scan-__codelineno-0-45"></a>      --api_token string                  API token for integration with CodeScoring server (required if api_url is set)
<a id="__codelineno-0-46" name="__codelineno-0-46" href="#agent-scan-__codelineno-0-46"></a>      --api_url string                    CodeScoring server url (e.g. https://codescoring.mycompany.com) (required if api_token is set)
<a id="__codelineno-0-47" name="__codelineno-0-47" href="#agent-scan-__codelineno-0-47"></a>      --block-on-empty-result             Block on empty result
<a id="__codelineno-0-48" name="__codelineno-0-48" href="#agent-scan-__codelineno-0-48"></a>      --bom                               save result to bom
<a id="__codelineno-0-49" name="__codelineno-0-49" href="#agent-scan-__codelineno-0-49"></a>      --bom-format string                 Bom format. Supported formats: cyclonedx_v1_4_json,cyclonedx_v1_5_json,cyclonedx_v1_6_ext_json,cyclonedx_v1_6_json,cyclonedx_v1_7_json (default &quot;cyclonedx_v1_6_json&quot;)
<a id="__codelineno-0-50" name="__codelineno-0-50" href="#agent-scan-__codelineno-0-50"></a>      --bom-path string                   Path for save bom file (default &quot;bom.json&quot;)
<a id="__codelineno-0-51" name="__codelineno-0-51" href="#agent-scan-__codelineno-0-51"></a>      --bun-args string                   pass flags to &#39;bun install --lockfile-only&#39;
<a id="__codelineno-0-52" name="__codelineno-0-52" href="#agent-scan-__codelineno-0-52"></a>      --bun-path string                   Path to bun for resolve (default &quot;bun&quot;)
<a id="__codelineno-0-53" name="__codelineno-0-53" href="#agent-scan-__codelineno-0-53"></a>      --bun-resolve                       Enable resolve using bun
<a id="__codelineno-0-54" name="__codelineno-0-54" href="#agent-scan-__codelineno-0-54"></a>      --cg-lang string                    Language to parse call graph with. Supported languages: go,java,kotlin,python
<a id="__codelineno-0-55" name="__codelineno-0-55" href="#agent-scan-__codelineno-0-55"></a>      --cg-path string                    Path to call graph for vulnerability reachability analysis
<a id="__codelineno-0-56" name="__codelineno-0-56" href="#agent-scan-__codelineno-0-56"></a>      --cloud-resolve                     Activate cloud resolve
<a id="__codelineno-0-57" name="__codelineno-0-57" href="#agent-scan-__codelineno-0-57"></a>      --composer-args string              pass flags to &#39;composer install&#39;
<a id="__codelineno-0-58" name="__codelineno-0-58" href="#agent-scan-__codelineno-0-58"></a>      --composer-path string              Path to composer for resolve (default &quot;composer&quot;)
<a id="__codelineno-0-59" name="__codelineno-0-59" href="#agent-scan-__codelineno-0-59"></a>      --composer-resolve                  Enable resolve using composer
<a id="__codelineno-0-60" name="__codelineno-0-60" href="#agent-scan-__codelineno-0-60"></a>      --conda-args string                 pass flags to conda
<a id="__codelineno-0-61" name="__codelineno-0-61" href="#agent-scan-__codelineno-0-61"></a>      --conda-lock-path string            Path to conda-lock for resolve (default &quot;conda-lock&quot;)
<a id="__codelineno-0-62" name="__codelineno-0-62" href="#agent-scan-__codelineno-0-62"></a>      --conda-resolve                     Enable resolve using conda-lock
<a id="__codelineno-0-63" name="__codelineno-0-63" href="#agent-scan-__codelineno-0-63"></a>      --config string                     Config file (default &quot;codescoring-johnny-config.yaml&quot;)
<a id="__codelineno-0-64" name="__codelineno-0-64" href="#agent-scan-__codelineno-0-64"></a>      --create-project                    Create project in CodeScoring if not exists
<a id="__codelineno-0-65" name="__codelineno-0-65" href="#agent-scan-__codelineno-0-65"></a>      --create-project-group              Create group in CodeScoring if not exists
<a id="__codelineno-0-66" name="__codelineno-0-66" href="#agent-scan-__codelineno-0-66"></a>      --debug                             Output detailed log
<a id="__codelineno-0-67" name="__codelineno-0-67" href="#agent-scan-__codelineno-0-67"></a>      --dotnet-args string                pass flags to &#39;dotnet restore&#39;
<a id="__codelineno-0-68" name="__codelineno-0-68" href="#agent-scan-__codelineno-0-68"></a>      --dotnet-path string                Path to dotnet for resolve (default &quot;dotnet&quot;)
<a id="__codelineno-0-69" name="__codelineno-0-69" href="#agent-scan-__codelineno-0-69"></a>      --dotnet-resolve                    Enable resolve using dotnet
<a id="__codelineno-0-70" name="__codelineno-0-70" href="#agent-scan-__codelineno-0-70"></a>  -f, --format string                     Report format. Supported formats: coloredtable, table, text, junit, sarif, csv, gl-dependency-scanning-report, gl-code-quality-report. Default output to console. Supports multiformat. Example: &#39;coloredtable,junit&gt;&gt;junit.xml&#39;  (default &quot;coloredtable&quot;)
<a id="__codelineno-0-71" name="__codelineno-0-71" href="#agent-scan-__codelineno-0-71"></a>      --gdt-match string                  Section in gradle dependency tree for scan. By default - parse all sections
<a id="__codelineno-0-72" name="__codelineno-0-72" href="#agent-scan-__codelineno-0-72"></a>      --go-path string                    Path to go for resolve (default &quot;go&quot;)
<a id="__codelineno-0-73" name="__codelineno-0-73" href="#agent-scan-__codelineno-0-73"></a>      --go-resolve                        Enable resolve using go
<a id="__codelineno-0-74" name="__codelineno-0-74" href="#agent-scan-__codelineno-0-74"></a>      --gradle-args string                pass flags to &#39;gradle dependencies&#39;
<a id="__codelineno-0-75" name="__codelineno-0-75" href="#agent-scan-__codelineno-0-75"></a>      --gradle-path string                Path to gradle for resolve (default &quot;./gradlew&quot;)
<a id="__codelineno-0-76" name="__codelineno-0-76" href="#agent-scan-__codelineno-0-76"></a>      --gradle-resolve                    Enable resolve using gradle
<a id="__codelineno-0-77" name="__codelineno-0-77" href="#agent-scan-__codelineno-0-77"></a>  -g, --group-vulnerabilities-by string   Group vulnerabilities by. Supported kinds &#39;vulnerability&#39;, &#39;affect&#39; (default &quot;vulnerability&quot;)
<a id="__codelineno-0-78" name="__codelineno-0-78" href="#agent-scan-__codelineno-0-78"></a>      --ignore stringArray                Ignore paths (--ignore first --ignore &quot;/**/onem?re&quot;)
<a id="__codelineno-0-79" name="__codelineno-0-79" href="#agent-scan-__codelineno-0-79"></a>      --ignores-format string             Displays the ignores of the specified project with formatting. Supported formats: coloredtable, table, text, csv, json. Default output to console. Supports multiformat. Example: &#39;coloredtable,csv&gt;&gt;csv.csv&#39;  (default &quot;coloredtable&quot;)
<a id="__codelineno-0-80" name="__codelineno-0-80" href="#agent-scan-__codelineno-0-80"></a>      --license string                    Project license code
<a id="__codelineno-0-81" name="__codelineno-0-81" href="#agent-scan-__codelineno-0-81"></a>      --localization string               Localization language (en|ru) (default &quot;en&quot;)
<a id="__codelineno-0-82" name="__codelineno-0-82" href="#agent-scan-__codelineno-0-82"></a>      --maven-args string                 pass flags to &#39;mvn dependency:tree&#39;
<a id="__codelineno-0-83" name="__codelineno-0-83" href="#agent-scan-__codelineno-0-83"></a>      --maven-path string                 Path to mvn for resolve (default &quot;mvn&quot;)
<a id="__codelineno-0-84" name="__codelineno-0-84" href="#agent-scan-__codelineno-0-84"></a>      --maven-resolve                     Enable resolve using mvn
<a id="__codelineno-0-85" name="__codelineno-0-85" href="#agent-scan-__codelineno-0-85"></a>      --no-summary                        Do not print summary
<a id="__codelineno-0-86" name="__codelineno-0-86" href="#agent-scan-__codelineno-0-86"></a>      --no-wait                           No wait analysis results
<a id="__codelineno-0-87" name="__codelineno-0-87" href="#agent-scan-__codelineno-0-87"></a>      --npm-args string                   pass flags to &#39;npm install&#39;
<a id="__codelineno-0-88" name="__codelineno-0-88" href="#agent-scan-__codelineno-0-88"></a>      --npm-path string                   Path to npm for resolve (default &quot;npm&quot;)
<a id="__codelineno-0-89" name="__codelineno-0-89" href="#agent-scan-__codelineno-0-89"></a>      --npm-resolve                       Enable resolve using npm
<a id="__codelineno-0-90" name="__codelineno-0-90" href="#agent-scan-__codelineno-0-90"></a>      --only-hashes                       Search only for direct inclusion of dependencies using file hashes
<a id="__codelineno-0-91" name="__codelineno-0-91" href="#agent-scan-__codelineno-0-91"></a>      --pip-args string                   pass flags to &#39;pip freeze&#39;
<a id="__codelineno-0-92" name="__codelineno-0-92" href="#agent-scan-__codelineno-0-92"></a>      --pip-path string                   Path to pip for resolve (default &quot;pip&quot;)
<a id="__codelineno-0-93" name="__codelineno-0-93" href="#agent-scan-__codelineno-0-93"></a>      --pip-resolve                       Enable resolve using pip
<a id="__codelineno-0-94" name="__codelineno-0-94" href="#agent-scan-__codelineno-0-94"></a>      --pipdeptree-args string            pass flags to &#39;pipdeptree&#39;
<a id="__codelineno-0-95" name="__codelineno-0-95" href="#agent-scan-__codelineno-0-95"></a>      --pipdeptree-path string            Path to pipdeptree for resolve (default &quot;pipdeptree&quot;)
<a id="__codelineno-0-96" name="__codelineno-0-96" href="#agent-scan-__codelineno-0-96"></a>      --pipdeptree-resolve                Enable resolve using pipdeptree
<a id="__codelineno-0-97" name="__codelineno-0-97" href="#agent-scan-__codelineno-0-97"></a>      --pnpm-args string                  pass flags to &#39;pnpm install&#39;
<a id="__codelineno-0-98" name="__codelineno-0-98" href="#agent-scan-__codelineno-0-98"></a>      --pnpm-path string                  Path to pnpm for resolve (default &quot;pnpm&quot;)
<a id="__codelineno-0-99" name="__codelineno-0-99" href="#agent-scan-__codelineno-0-99"></a>      --pnpm-resolve                      Enable resolve using pnpm
<a id="__codelineno-0-100" name="__codelineno-0-100" href="#agent-scan-__codelineno-0-100"></a>      --poetry-args string                pass flags to &#39;poetry debug resolve&#39;
<a id="__codelineno-0-101" name="__codelineno-0-101" href="#agent-scan-__codelineno-0-101"></a>      --poetry-path string                Path to poetry for resolve (default &quot;poetry&quot;)
<a id="__codelineno-0-102" name="__codelineno-0-102" href="#agent-scan-__codelineno-0-102"></a>      --poetry-resolve                    Enable resolve using poetry
<a id="__codelineno-0-103" name="__codelineno-0-103" href="#agent-scan-__codelineno-0-103"></a>      --policy-ignores                    Displays the ignores
<a id="__codelineno-0-104" name="__codelineno-0-104" href="#agent-scan-__codelineno-0-104"></a>      --progress-bar string               Progress bar formats: spinner,text
<a id="__codelineno-0-105" name="__codelineno-0-105" href="#agent-scan-__codelineno-0-105"></a>      --project string                    Project name in CodeScoring
<a id="__codelineno-0-106" name="__codelineno-0-106" href="#agent-scan-__codelineno-0-106"></a>      --project-categories string         Category names for created project in CodeScoring (comma-separated list)
<a id="__codelineno-0-107" name="__codelineno-0-107" href="#agent-scan-__codelineno-0-107"></a>      --project-group string              Project group for created or added project in CodeScoring
<a id="__codelineno-0-108" name="__codelineno-0-108" href="#agent-scan-__codelineno-0-108"></a>      --project-proprietor string         Proprietor for created project in CodeScoring
<a id="__codelineno-0-109" name="__codelineno-0-109" href="#agent-scan-__codelineno-0-109"></a>      --python-version string             Python version
<a id="__codelineno-0-110" name="__codelineno-0-110" href="#agent-scan-__codelineno-0-110"></a>      --save-results                      Save results to CodeScoring. Used just together with project name
<a id="__codelineno-0-111" name="__codelineno-0-111" href="#agent-scan-__codelineno-0-111"></a>      --sbt-args string                   pass flags to &#39;sbt dependencyTree&#39;
<a id="__codelineno-0-112" name="__codelineno-0-112" href="#agent-scan-__codelineno-0-112"></a>      --sbt-path string                   Path to sbt for resolve (default &quot;sbt&quot;)
<a id="__codelineno-0-113" name="__codelineno-0-113" href="#agent-scan-__codelineno-0-113"></a>      --sbt-resolve                       Enable resolve using sbt
<a id="__codelineno-0-114" name="__codelineno-0-114" href="#agent-scan-__codelineno-0-114"></a>      --scan-archives                     Scan archives. Supported types: &#39;.jar&#39;, &#39;.rar&#39;, &#39;.tar&#39;, &#39;.tar.bz2&#39;, &#39;.tbz2&#39;, &#39;.tar.gz&#39;, &#39;.tgz&#39;, &#39;.tar.xz&#39;, &#39;.txz&#39;, &#39;.war&#39;, &#39;.zip&#39;, &#39;.aar&#39;, &#39;.egg&#39;, &#39;.hpi&#39;, &#39;.nupkg&#39;, &#39;.whl&#39;
<a id="__codelineno-0-115" name="__codelineno-0-115" href="#agent-scan-__codelineno-0-115"></a>      --scan-depth int                    Archive scanning depth (default 1)
<a id="__codelineno-0-116" name="__codelineno-0-116" href="#agent-scan-__codelineno-0-116"></a>  -s, --sort-vulnerabilities-by string    Sort vulnerabilities by. Comma separated field names. For DESC - write field name with prefix &#39;-&#39;.
<a id="__codelineno-0-117" name="__codelineno-0-117" href="#agent-scan-__codelineno-0-117"></a>                                          FieldNames: &#39;vulnerability&#39;, &#39;fixedversion&#39;, &#39;cvss2&#39;, &#39;cvss3&#39;, &#39;cwes&#39;, &#39;links&#39;, &#39;affect&#39; (default &quot;-cvss3,-cvss2,fixedversion,vulnerability,cwes,links,affect&quot;)
<a id="__codelineno-0-118" name="__codelineno-0-118" href="#agent-scan-__codelineno-0-118"></a>      --stage string                      Policy stage (build, dev, source, stage, test, prod, proxy) (default &quot;build&quot;)
<a id="__codelineno-0-119" name="__codelineno-0-119" href="#agent-scan-__codelineno-0-119"></a>      --swift-args string                 pass flags to &#39;swift build
<a id="__codelineno-0-120" name="__codelineno-0-120" href="#agent-scan-__codelineno-0-120"></a>      --swift-path string                 Path to swift for resolve (default &quot;swift&quot;)
<a id="__codelineno-0-121" name="__codelineno-0-121" href="#agent-scan-__codelineno-0-121"></a>      --swift-resolve                     Enable resolve using swift
<a id="__codelineno-0-122" name="__codelineno-0-122" href="#agent-scan-__codelineno-0-122"></a>  -t, --timeout uint16                    Timeout of analysis results waiting in seconds (default 3600)
<a id="__codelineno-0-123" name="__codelineno-0-123" href="#agent-scan-__codelineno-0-123"></a>      --uv-args string                    pass flags to &#39;uv lock&#39;
<a id="__codelineno-0-124" name="__codelineno-0-124" href="#agent-scan-__codelineno-0-124"></a>      --uv-path string                    Path to uv for resolve (default &quot;uv&quot;)
<a id="__codelineno-0-125" name="__codelineno-0-125" href="#agent-scan-__codelineno-0-125"></a>      --uv-resolve                        Enable resolve using uv
<a id="__codelineno-0-126" name="__codelineno-0-126" href="#agent-scan-__codelineno-0-126"></a>      --with-hashes                       Search for direct inclusion of dependencies using file hashes
<a id="__codelineno-0-127" name="__codelineno-0-127" href="#agent-scan-__codelineno-0-127"></a>      --yarn-args string                  pass flags to &#39;yarn install&#39;
<a id="__codelineno-0-128" name="__codelineno-0-128" href="#agent-scan-__codelineno-0-128"></a>      --yarn-path string                  Path to yarn for resolve (default &quot;yarn&quot;)
<a id="__codelineno-0-129" name="__codelineno-0-129" href="#agent-scan-__codelineno-0-129"></a>      --yarn-resolve                      Enable resolve using yarn
<a id="__codelineno-0-130" name="__codelineno-0-130" href="#agent-scan-__codelineno-0-130"></a>
<a id="__codelineno-0-131" name="__codelineno-0-131" href="#agent-scan-__codelineno-0-131"></a>Use &quot; scan [command] --help&quot; for more information about a command.
</code></pre></div>
<p>В параметре <code>--api_url</code> должен быть указан полный адрес on-premise платформе. Значение для <code>--api_token</code> можно взять в профиле пользователя платформе.</p>
<p>Указание параметра <code>--project</code> позволит при сканировании применить политики, относящиеся к выбранному проекту.</p>
<p>Для указания пути к файлу сохранения SBOM необходимо добавить параметр <code>--bom-path</code> в запрос или назначить переменную <code>bom-path</code> в config-файле. По умолчанию SBOM сохраняется в директории запуска в файл <code>bom.json</code>.</p>
<h2 id="agent-scan-_3">Результаты работы<a class="headerlink" href="#agent-scan-_3" title="Permanent link">&para;</a></h2>
<p>В зависимости от результата работы и параметров запуска агент возвращает соответствующий exit code:</p>
<ul>
<li><strong>0</strong> – успешное сканирование, проблемы не были выявлены;</li>
<li><strong>1</strong> – в результате сканирования найдены проблемы, соответствующие настроенным <a href="#on-premise-how-to-policies">политикам безопасности</a>, необходимо действие пользователя;</li>
<li><strong>2</strong> – ошибка сканирования;</li>
<li><strong>3</strong> – пустой результат, не были найдены артефакты для анализа. Возвращается только если параметр <code>--block-on-empty-result</code> имеет значение <code>true</code>.</li>
</ul>
<h2 id="agent-scan-_4">Приоритет настроек<a class="headerlink" href="#agent-scan-_4" title="Permanent link">&para;</a></h2>
<p>Поскольку параметры запуска агента можно настроить несколькими способами, при одновременном использовании двух и более способов агент будет принимать параметры в следующем порядке приоритетов:</p>
<ol>
<li>Значение команды <a href="#agent-scan-technology">scan-technology</a> (если она используется);</li>
<li>Значение флага команды;</li>
<li>Значение <a href="#agent-env-variables">переменной окружения</a>;</li>
<li>Значение из <a href="#agent-config">конфиг-файла</a>.</li>
</ol>
<h2 id="agent-scan-_5">Запуск без участия платформе<a class="headerlink" href="#agent-scan-_5" title="Permanent link">&para;</a></h2>
<p>Если параметры <code>--api_url</code> и <code>--api_token</code> не заданы, запуск сканирования будет производиться без взаимодействия с платформой CodeScoring. В результате сканирования будет сгенерирован файл SBOM, содержащий только список компонентов и их версий без обогащения дополнительной информацией.</p></section><section class="print-page" id="agent-scan-dir" heading-number="4.4.3.5"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-scan-dir.en">English</a></li>
</ul>
<h1 id="agent-scan-dir-_1">Сканирование директории<a class="headerlink" href="#agent-scan-dir-_1" title="Permanent link">&para;</a></h1>
<p>Сканирование директории производится при помощи субкоманды <code>scan dir</code>.</p>
<p>При запуске агент:</p>
<ol>
<li>Рекурсивно проходит по всему содержимому указанной директории (если указан конкретный манифест, обрабатывает только его)</li>
<li>Идентифицирует файлы манифестов и разбирает их</li>
<li>Хеширует каждый файл (при запуске с <code>--with-hashes</code>)</li>
<li>Формирует запрос к платформе</li>
<li>После получения результата показывает суммарную информацию по найденным манифестам, зависимостям, уязвимостям, сработавшим политикам и более подробную информацию по каждой уязвимости и сработавшей политике</li>
<li>Дополнительно в текущей директории формируется файл <code>bom.json</code>, содержащий полный Software Bill of Materials в формате <strong>CycloneDX</strong>.</li>
</ol>
<p>В зависимости от результата работы и параметров запуска агент возвращает соответствующий exit code.</p>
<p>По умолчанию агент проходит по содержимому директории рекурсивно (включая вложенные директории). Для нерекурсивного сканирования необходимо добавить параметр <code>--no-recursion</code> к команде <code>scan dir</code>.</p>
<h2 id="agent-scan-dir-_2">Пример запуска команды<a class="headerlink" href="#agent-scan-dir-_2" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-scan-dir-__codelineno-0-1"></a>./johnny<span class="w"> </span>scan<span class="w"> </span>dir<span class="w"> </span>.<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-scan-dir-__codelineno-0-2"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-scan-dir-__codelineno-0-3"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#agent-scan-dir-__codelineno-0-4"></a>--ignore<span class="w"> </span>.tmp<span class="w"> </span>--ignore<span class="w"> </span>fixtures<span class="w"> </span>--ignore<span class="w"> </span>.git
</code></pre></div>
<h2 id="agent-scan-dir-_3">Параметры команды<a class="headerlink" href="#agent-scan-dir-_3" title="Permanent link">&para;</a></h2>
<p>Команда <strong>scan dir</strong> имеет три уникальных параметра, помимо <a href="#agent-scan-_2">общих настроек команды сканирования</a>:</p>
<ul>
<li><code>--branch-or-tag</code>  – ссылка на ветку или тег репозитория в формате <code>^refs/(heads|tags)/.+</code> (например, <code>refs/tags/v1.0</code>);</li>
<li><code>--commit</code> – указание хэша коммита;</li>
<li><code>--no-recursion</code>  – отключение рекурсивного сканирования каталогов.</li>
</ul>
<p>Для сводки доступных параметров команды и инструкции по использованию можно вызвать команду с флагом <code>-h, --help</code>.</p></section><section class="print-page" id="agent-scan-file" heading-number="4.4.3.6"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-scan-file.en">English</a></li>
</ul>
<h1 id="agent-scan-file-_1">Сканирование файла<a class="headerlink" href="#agent-scan-file-_1" title="Permanent link">&para;</a></h1>
<p>При необходимости сканирования отдельного манифеста внутри директории можно использовать команду <code>scan file</code>.</p>
<p>При запуске агент:</p>
<ol>
<li>Идентифицирует формат указанного файла и производит разбор содержимого.</li>
<li>Формирует запрос к платформе для анализа содержимого.</li>
<li>После получения результатов отображает общую информацию о найденных манифестах, зависимостях, уязвимостях и сработавших политиках.</li>
<li>Дополнительно в текущей директории создается файл <code>bom.json</code>, содержащий полный Software Bill of Materials в формате <strong>CycloneDX</strong>.</li>
</ol>
<p>В зависимости от параметров запуска агент возвращает соответствующий exit code:</p>
<ul>
<li><strong>0</strong> – успешное сканирование, проблемы не были выявлены;</li>
<li><strong>1</strong> – в результате сканирования найдены проблемы, соответствующие настроенным <a href="#on-premise-how-to-policies">политикам безопасности</a>, необходимо действие пользователя;</li>
<li><strong>2</strong> – ошибка сканирования;</li>
<li><strong>3</strong> – пустой результат, не были найдены артефакты для анализа. Возвращается только если параметр <code>--block-on-empty-result</code> имеет значение <code>true</code>.</li>
</ul>
<h2 id="agent-scan-file-_2">Пример запуска команды<a class="headerlink" href="#agent-scan-file-_2" title="Permanent link">&para;</a></h2>
<p>Для сканирования только одного файла без обработки вложенных директорий или других манифестов, необходимо указать путь к файлу при запуске команды.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-scan-file-__codelineno-0-1"></a>./johnny<span class="w"> </span>scan<span class="w"> </span>file<span class="w"> </span>path/to/file<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-scan-file-__codelineno-0-2"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-scan-file-__codelineno-0-3"></a>--api_url<span class="w"> </span>&lt;api_url&gt;
</code></pre></div>
<h2 id="agent-scan-file-_3">Параметры команды<a class="headerlink" href="#agent-scan-file-_3" title="Permanent link">&para;</a></h2>
<p>Команда <strong>scan file</strong> имеет три уникальных параметра, помимо <a href="#agent-scan-_2">общих настроек команды сканирования</a>:</p>
<ul>
<li><code>--branch-or-tag</code>  – ссылка на ветку или тег репозитория в формате <code>^refs/(heads|tags)/.+</code> (например, <code>refs/tags/v1.0</code>);</li>
<li><code>--commit</code> – указание хэша коммита;</li>
<li><code>--parser</code>  – используемый парсер.</li>
</ul>
<p>Для сводки доступных параметров команды и инструкции по использованию можно вызвать команду с флагом <code>-h, --help</code>.</p>
<h2 id="agent-scan-file-_4">Доступные парсеры<a class="headerlink" href="#agent-scan-file-_4" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Технология</th>
<th>Парсеры</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Conda</strong></td>
<td><code>conda.conda-lock_yml</code>, <code>conda.conda_yml_env</code></td>
</tr>
<tr>
<td><strong>Ruby</strong></td>
<td><code>ruby.gemfile</code>, <code>ruby.gemfile_lock</code>, <code>ruby.gemspec</code></td>
</tr>
<tr>
<td><strong>С#</strong></td>
<td><code>csharp.packages_lock_json</code>, <code>csharp.project_json</code>, <code>csharp.project_lock_json</code>, <code>csharp.dependencyreport_json</code>, <code>csharp.paket_dependencies</code>, <code>csharp.nuspec</code>, <code>csharp.csproj</code>, <code>csharp.packages_config</code>, <code>csharp.dotnet_csproj_env</code>, <code>csharp.project_assets_json</code>, <code>csharp.paket_lock</code></td>
</tr>
<tr>
<td><strong>PHP</strong></td>
<td><code>php.composer_json</code>, <code>php.composer_lock</code>, <code>php.composer_env</code></td>
</tr>
<tr>
<td><strong>Python</strong></td>
<td><code>python.poetry_pyproject_toml_env</code>, <code>python.requirements_txt</code>, <code>python.pipfile</code>, <code>python.poetry_lock</code>, <code>python.pip-resolved-dependencies_txt</code>, <code>python.setup_py</code>, <code>python.pipfile_lock</code>, <code>python.pyproject_toml</code>, <code>python.pip_env</code>, <code>python.pipdeptree</code>, <code>python.uv_lock</code></td>
</tr>
<tr>
<td><strong>C</strong></td>
<td><code>clang.conan_lock</code>, <code>clang.conanfile_txt</code>, <code>clang.conanfile_py</code></td>
</tr>
<tr>
<td><strong>Go</strong></td>
<td><code>go.go_mod</code>, <code>go.go_sum</code>, <code>go.go_mod_env</code></td>
</tr>
<tr>
<td><strong>Objective-C</strong></td>
<td><code>objective_c.podfile</code>, <code>objective_c.podfile_lock</code>, <code>objective_c.podspec</code></td>
</tr>
<tr>
<td><strong>Rust</strong></td>
<td><code>rust.cargo_toml</code>, <code>rust.cargo_lock</code></td>
</tr>
<tr>
<td><strong>Java</strong></td>
<td><code>java.pom_xml</code>, <code>java.ivy_xml</code>, <code>java.maven-dependency-tree_txt</code>, <code>java.build_gradle_env</code>, <code>java.gradle-dependency-tree_txt</code>, <code>java.gradle_kts</code>, <code>java.gradle_lockfile</code>, <code>java.maven_pom_xml_env</code>, <code>java.jar</code>, <code>java.gradle</code>, <code>java.scala_build_sbt_env</code>, <code>java.scala-dependency-tree_txt</code></td>
</tr>
<tr>
<td><strong>JS</strong></td>
<td><code>js.package_json</code>, <code>js.yarn_package_json_env</code>, <code>js.yarn_lock</code>, <code>js.pnpm_package_json_env</code>, <code>js.pnpm_lock_yaml</code>, <code>js.npm_package_json_env</code>, <code>js.package-lock_json</code>, <code>js.npm-shrinkwrap_json</code></td>
</tr>
</tbody>
</table></section><section class="print-page" id="agent-scan-archive" heading-number="4.4.3.7"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-scan-archive.en">English</a></li>
</ul>
<h1 id="agent-scan-archive-_1">Сканирование архивов<a class="headerlink" href="#agent-scan-archive-_1" title="Permanent link">&para;</a></h1>
<p>Для сканирования архивов на предмет наличия манифестов используется флаг <code>--scan-archives</code>.</p>
<p>По умолчанию сканирование архивов работает только на один уровень вложенности. Для указания глубины сканирования необходимо добавить в команду параметр <code>--scan-depth</code> или указать в config-файле переменную <code>depth</code> в секции <code>scan-archives</code>.</p>
<p>Пример команды для сканирования архивов:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-scan-archive-__codelineno-0-1"></a>./johnny<span class="w"> </span>scan<span class="w"> </span>dir<span class="w"> </span>.<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-scan-archive-__codelineno-0-2"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-scan-archive-__codelineno-0-3"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#agent-scan-archive-__codelineno-0-4"></a>--ignore<span class="w"> </span>.tmp<span class="w"> </span>--ignore<span class="w"> </span>fixtures<span class="w"> </span>--ignore<span class="w"> </span>.git<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#agent-scan-archive-__codelineno-0-5"></a>--scan-archives<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#agent-scan-archive-__codelineno-0-6"></a>--scan-depth<span class="w"> </span><span class="m">2</span>
</code></pre></div>
<p>Поддерживаемые форматы архивов:</p>
<ul>
<li><code>.jar</code></li>
<li><code>.rar</code></li>
<li><code>.tar</code></li>
<li><code>.tar.bz2</code></li>
<li><code>.tbz2</code></li>
<li><code>.tar.gz</code></li>
<li><code>.tgz</code></li>
<li><code>.tar.xz</code></li>
<li><code>.txz</code></li>
<li><code>.war</code></li>
<li><code>.zip</code></li>
<li><code>.aar</code></li>
<li><code>.egg</code></li>
<li><code>.hpi</code></li>
<li><code>.nupkg</code></li>
<li><code>.whl</code></li>
</ul></section><section class="print-page" id="agent-scan-docker" heading-number="4.4.3.8"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-scan-docker.en">English</a></li>
</ul>
<h1 id="agent-scan-docker-_1">Сканирование контейнерных образов<a class="headerlink" href="#agent-scan-docker-_1" title="Permanent link">&para;</a></h1>
<p>Агент поддерживает функциональность сканирования образов в стандартах OCI и Docker и может быть запущен одним из перечисленных способов с указанием:</p>
<ul>
<li>пути до <strong>tar</strong>-архива созданного с использованием <strong>docker save</strong>:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-scan-docker-__codelineno-0-1"></a>./johnny<span class="w"> </span>scan<span class="w"> </span>image<span class="w"> </span>./my_own.tar<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-scan-docker-__codelineno-0-2"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-scan-docker-__codelineno-0-3"></a>--api_token<span class="w"> </span>&lt;api_token&gt;
</code></pre></div>
<ul>
<li>названия образа находящегося в демоне <strong>Docker</strong>, <strong>Podman</strong>:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#agent-scan-docker-__codelineno-1-1"></a>./johnny<span class="w"> </span>scan<span class="w"> </span>image<span class="w"> </span>docker:python:3.9<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#agent-scan-docker-__codelineno-1-2"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#agent-scan-docker-__codelineno-1-3"></a>--api_token<span class="w"> </span>&lt;api_token&gt;
</code></pre></div>
<ul>
<li>названия образа из публичного <strong>Docker HUB</strong>:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#agent-scan-docker-__codelineno-2-1"></a>./johnny<span class="w"> </span>scan<span class="w"> </span>image<span class="w"> </span>python:3.9<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#agent-scan-docker-__codelineno-2-2"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#agent-scan-docker-__codelineno-2-3"></a>--api_token<span class="w"> </span>&lt;api_token&gt;
</code></pre></div>
<ul>
<li>названия образа из приватного <strong>registry</strong>:</li>
</ul>
<p>Перед работой с приватным репозиторием нужно выполнить команду <code>docker login</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#agent-scan-docker-__codelineno-3-1"></a>./johnny<span class="w"> </span>scan<span class="w"> </span>image<span class="w"> </span>pvt_registry/johnny-depp:&lt;version&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#agent-scan-docker-__codelineno-3-2"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#agent-scan-docker-__codelineno-3-3"></a>--api_token<span class="w"> </span>&lt;api_token&gt;
</code></pre></div>
<p>Альтернативно можно авторизоваться в приватном registry с помощью переменных окружения:</p>
<ul>
<li><code>JOHNNY_REGISTRY_AUTH_AUTHORITY</code> - URL на registry (к примеру "docker.io", "localhost:5000" и т.д.);</li>
<li><code>JOHNNY_REGISTRY_AUTH_LOGIN</code> - логин;</li>
<li><code>JOHNNY_REGISTRY_AUTH_PASSWORD</code> - пароль;</li>
<li><code>JOHNNY_REGISTRY_AUTH_TOKEN</code> - токен;</li>
</ul>
<p>или через аналогичные переменные в config-файле:</p>
<ul>
<li><code>authority</code>;</li>
<li><code>login</code>;</li>
<li><code>password</code>;</li>
<li><code>token</code>.</li>
</ul>
<p><strong>Примечание</strong>: токен и логин с паролем взаимозаменяемы.</p>
<h2 id="agent-scan-docker-_2">Сканирование файловой системы внутри образа<a class="headerlink" href="#agent-scan-docker-_2" title="Permanent link">&para;</a></h2>
<p>Для выполнения сканирования файлов внутри образа необходимо добавить в команду параметр <code>--scan-files</code> или указать в config-файле переменную <code>scan-files</code> в секции <code>image</code>.</p>
<p>При сканировании файловой системы можно использовать параметр <code>--ignore</code> для исключения определенных файлов из анализа. Например:</p>
<p><code>bash
  ./johnny scan image ./my_own.tar \
  --api_url &lt;api_url&gt; \
  --api_token &lt;api_token&gt; \
  --scan-files \
  --ignore "**/node_modules"</code></p>
<h2 id="agent-scan-docker-_3">Параметры команды<a class="headerlink" href="#agent-scan-docker-_3" title="Permanent link">&para;</a></h2>
<p>Команда <strong>scan image</strong> имеет четыре уникальных параметра, помимо <a href="#agent-scan-_2">общих настроек команды сканирования</a>:</p>
<ul>
<li><code>--hash</code>  – указание хэша образа;</li>
<li><code>--scan-files</code>  – сканирование файлов в образе.</li>
<li><code>--branch-or-tag</code>  – ссылка на ветку или тег репозитория в формате <code>^refs/(heads|tags)/.+</code> (например, <code>refs/tags/v1.0</code>);</li>
<li><code>--commit</code> – указание хэша коммита;</li>
</ul>
<p>Для сводки доступных параметров команды и инструкции по использованию можно вызвать команду с флагом <code>-h, --help</code>.</p></section><section class="print-page" id="agent-scan-build" heading-number="4.4.3.9"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-scan-build.en">English</a></li>
</ul>
<h1 id="agent-scan-build-c-c">Сканирование сборки для языков C и C++<a class="headerlink" href="#agent-scan-build-c-c" title="Permanent link">&para;</a></h1>
<p>В случае, если для сборки C/С++ проекта не используется пакетный менеджер Conan и соответствующие манифесты, для получения списка используемых библиотек Johnny можно запустить в специальном режиме для анализа вывода процесса сборки.</p>
<p>Johnny анализирует процесс сборки, используя флаги компилятора и выявляя использованные библиотеки. Далее с помощью системного кэша определяется местоположение библиотек и их источник.</p>
<p>Версия используемой библиотеки может быть найдена, если библиотека была подключена статически. В таком случае агент анализирует <code>.pc</code> файл, содержащий метаданные о компоненте.</p>
<h2 id="agent-scan-build-_1">Пример работы<a class="headerlink" href="#agent-scan-build-_1" title="Permanent link">&para;</a></h2>
<p>В проект добавляется JSON-файл <code>buildConfig</code>, описывающий последовательность команд для сборки. Например:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-scan-build-__codelineno-0-1"></a><span class="p">{</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-scan-build-__codelineno-0-2"></a><span class="w"> </span><span class="c1">//  Commands for execution</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-scan-build-__codelineno-0-3"></a><span class="w"> </span><span class="nt">&quot;commands&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#agent-scan-build-__codelineno-0-4"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#agent-scan-build-__codelineno-0-5"></a><span class="w">   </span><span class="c1">// Command</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#agent-scan-build-__codelineno-0-6"></a><span class="w">   </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;make&quot;</span><span class="p">,</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#agent-scan-build-__codelineno-0-7"></a><span class="w">   </span><span class="c1">// Command execute parameters</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#agent-scan-build-__codelineno-0-8"></a><span class="w">   </span><span class="nt">&quot;flags_and_args&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;clean&quot;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#agent-scan-build-__codelineno-0-9"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#agent-scan-build-__codelineno-0-10"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#agent-scan-build-__codelineno-0-11"></a><span class="w">   </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./configure&quot;</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#agent-scan-build-__codelineno-0-12"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#agent-scan-build-__codelineno-0-13"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#agent-scan-build-__codelineno-0-14"></a><span class="w">   </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;make&quot;</span><span class="p">,</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#agent-scan-build-__codelineno-0-15"></a><span class="w">   </span><span class="c1">// analyze this command</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#agent-scan-build-__codelineno-0-16"></a><span class="w">   </span><span class="nt">&quot;do_analyze&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#agent-scan-build-__codelineno-0-17"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#agent-scan-build-__codelineno-0-18"></a><span class="w"> </span><span class="p">]</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#agent-scan-build-__codelineno-0-19"></a><span class="p">}</span>
</code></pre></div>
<p>Далее вызывается команда анализа сборки и указывается путь до конфиг-файла:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#agent-scan-build-__codelineno-1-1"></a>./johnny<span class="w"> </span>scan<span class="w"> </span>build<span class="w"> </span>./buildConfig.json
</code></pre></div>
<p>В результате работы агент отображает один из кодов:</p>
<ul>
<li><strong>0</strong> – успешный анализ, не было выявлено проблем в сборке;</li>
<li><strong>1</strong> – в результате сканирования найдены проблемы, соответствующие настроенным <a href="#on-premise-how-to-policies">политикам безопасности</a>, необходимо действие пользователя;</li>
<li><strong>2</strong> – анализ не удался;</li>
<li><strong>3</strong> – пустой результат, не были найдены артефакты для анализа. Возвращается только если параметр <code>--block-on-empty-result</code> имеет значение <code>true</code>.</li>
</ul>
<p><strong>Важно</strong>: на данный момент команда поддерживает только Debian-based и RPM-based дистрибутивы Linux.</p>
<h2 id="agent-scan-build-_2">Параметры команды<a class="headerlink" href="#agent-scan-build-_2" title="Permanent link">&para;</a></h2>
<p>Команда <strong>scan build</strong> имеет шесть уникальных параметров, помимо <a href="#agent-scan-_2">общих настроек команды сканирования</a>:</p>
<ul>
<li><code>--build-result</code> – вводные данные представляют собой результат предыдущего процесса сборки, включая скомпилированные артефакты;</li>
<li><code>--lib-versions</code> – путь к JSON-файлу со списком версий анализируемых библиотек;</li>
<li><code>--output</code> – путь к файлу, в котором будут сохранены результаты сканирования;</li>
<li><code>--unresolved-file</code> – путь к файлу, где будут сохранены сведения о библиотеках с неразрешенными версиями.</li>
<li><code>--branch-or-tag</code>  – ссылка на ветку или тег репозитория в формате <code>^refs/(heads|tags)/.+</code> (например, <code>refs/tags/v1.0</code>);</li>
<li><code>--commit</code> – указание хэша коммита.</li>
</ul>
<p>Для сводки доступных параметров команды и инструкции по использованию можно вызвать команду с флагом <code>-h, --help</code>.</p>
<h2 id="agent-scan-build-ebpf">Сканирование с использованием eBPF<a class="headerlink" href="#agent-scan-build-ebpf" title="Permanent link">&para;</a></h2>
<p><strong>eBPF</strong> (extended Berkeley Packet Filter) – это технология в ядре Linux, которая позволяет безопасно запускать пользовательский код в ответ на события в системе, такие как сетевой трафик, системные вызовы или действия процессов.</p>
<p>Особенность команды <code>scan build ebpf</code> состоит в том, что анализ выполняется не по протоколу сборочного инструмента, а путем мониторинга запускаемых процессов и их параметров через механизм eBPF.</p>
<p><strong>Важно</strong>: для обеспечения работы с механизмом eBPF, запуск команды должен выполняться с правами <strong>root-пользователя</strong>.</p>
<h3 id="agent-scan-build-_3">Пример работы<a class="headerlink" href="#agent-scan-build-_3" title="Permanent link">&para;</a></h3>
<p>Параметры и результаты работы команды аналогичны команде <code>scan build</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#agent-scan-build-__codelineno-2-1"></a>./johnny<span class="w"> </span>scan<span class="w"> </span>build<span class="w"> </span>ebpf<span class="w"> </span>./buildConfig.json
</code></pre></div></section><section class="print-page" id="agent-scan-bom" heading-number="4.4.3.10"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-scan-bom.en">English</a></li>
</ul>
<h1 id="agent-scan-bom-sbom">Сканирование SBOM<a class="headerlink" href="#agent-scan-bom-sbom" title="Permanent link">&para;</a></h1>
<p>При необходимости сканирования существующего перечня программных компонентов (Software Bill of Materials, SBOM) в формате <strong>CycloneDX</strong> можно использовать команду <code>scan bom</code>.</p>
<p>При запуске агент:</p>
<ol>
<li>Валидирует передаваемый SBOM на соответствие схеме указанной версии.</li>
<li>Производит разбор указанного SBOM.</li>
<li>Формирует запрос к платформе для анализа содержимого.</li>
<li>После завершения анализа отображает в консоли сводную информацию о результатах, а также таблицы с найденными уязвимостях и сработавшими политиками.</li>
<li>Дополнительно в текущей директории создается файл <code>bom.json</code>, содержащий дополненный SBOM.</li>
</ol>
<p>В зависимости от параметров запуска агент возвращает соответствующий exit code:</p>
<ul>
<li><strong>0</strong> – успешное сканирование, проблемы не были выявлены;</li>
<li><strong>1</strong> – в результате сканирования найдены проблемы, соответствующие настроенным <a href="#on-premise-how-to-policies">политикам безопасности</a>, необходимо действие пользователя;</li>
<li><strong>2</strong> – ошибка сканирования;</li>
<li><strong>3</strong> – пустой результат, не были найдены артефакты для анализа. Возвращается только если параметр <code>--block-on-empty-result</code> имеет значение <code>true</code>.</li>
<li><strong>5</strong> - ошибка валидации SBOM.</li>
</ul>
<h2 id="agent-scan-bom-_1">Пример запуска команды<a class="headerlink" href="#agent-scan-bom-_1" title="Permanent link">&para;</a></h2>
<p>Для сканирования SBOM необходимо указать путь к нему при запуске команды.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-scan-bom-__codelineno-0-1"></a>./johnny<span class="w"> </span>scan<span class="w"> </span>bom<span class="w"> </span>path/to/bom<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-scan-bom-__codelineno-0-2"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-scan-bom-__codelineno-0-3"></a>--api_url<span class="w"> </span>&lt;api_url&gt;
</code></pre></div>
<h2 id="agent-scan-bom-_2">Параметры команды<a class="headerlink" href="#agent-scan-bom-_2" title="Permanent link">&para;</a></h2>
<p>Команда <strong>scan bom</strong> имеет два уникальных параметра, помимо <a href="#agent-scan-_2">общих настроек команды сканирования</a>:</p>
<ul>
<li><code>--branch-or-tag</code>  – ссылка на ветку или тег репозитория в формате <code>^refs/(heads|tags)/.+</code> (например, <code>refs/tags/v1.0</code>);</li>
<li><code>--commit</code> – указание хэша коммита.</li>
</ul></section><section class="print-page" id="agent-scan-technology" heading-number="4.4.3.11"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-scan-technology.en">English</a></li>
</ul>
<h1 id="agent-scan-technology-_1">Сканирование технологии<a class="headerlink" href="#agent-scan-technology-_1" title="Permanent link">&para;</a></h1>
<p>Для более удобной работы с различными экосистемами агент позволяет сканировать отдельные технологии с набором предварительно заданных настроек. Сканирование в таком случае производится при помощи субкоманды <code>scan &lt;technology&gt;</code>.</p>
<p>Поведение агента при сканировании аналогично поведению при выполнении команды <code>scan dir</code>, однако имеет следующие отличия:</p>
<ol>
<li>Обход директории всегда выполняется нерекурсивно (как при использовании флага <code>--no-recursion</code> в команде <code>scan dir</code>);</li>
<li>Обрабатываются только манифесты, принадлежащие к выбранной технологии;</li>
<li>Используются все парсеры выбранной технологии, включая разрешение зависимостей в окружении. Прочие настройки при этом игнорируются;</li>
</ol>
<h2 id="agent-scan-technology-_2">Список поддерживаемых технологий<a class="headerlink" href="#agent-scan-technology-_2" title="Permanent link">&para;</a></h2>
<p>Технологии указаны так же, как они используются в команде <code>scan &lt;technology&gt;</code>:</p>
<ul>
<li>clang</li>
<li>conda</li>
<li>csharp</li>
<li>go</li>
<li>java</li>
<li>js  </li>
<li>objective_c</li>
<li>php</li>
<li>python</li>
<li>ruby</li>
<li>rust</li>
</ul>
<h2 id="agent-scan-technology-_3">Пример запуска команды<a class="headerlink" href="#agent-scan-technology-_3" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-scan-technology-__codelineno-0-1"></a>./johnny<span class="w"> </span>scan<span class="w"> </span>java<span class="w"> </span>.<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-scan-technology-__codelineno-0-2"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-scan-technology-__codelineno-0-3"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span>
</code></pre></div>
<p>Для сводки доступных параметров команды и инструкции по использованию можно вызвать команду с флагом <code>-h, --help</code>.</p></section><section class="print-page" id="agent-scan-secrets" heading-number="4.4.3.12"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-scan-secrets.en">English</a></li>
</ul>
<h1 id="agent-scan-secrets-_1">Сканирование на наличие секретов<a class="headerlink" href="#agent-scan-secrets-_1" title="Permanent link">&para;</a></h1>
<div class="admonition note">
<p class="admonition-title">Важно</p>
<p>Для использования данного функционала платформа должна иметь активный модуль CodeScoring.Secrets.</p>
</div>
<p>Сканирование на наличие секретов выполняется с помощью команды <code>johnny secrets gitleaks dir</code>.</p>
<p><strong>Важно</strong>: агент работает только с версией Gitleaks 8.19.0 и выше.</p>
<p>При запуске агент:</p>
<ol>
<li>Анализирует файлы в указанной директории на наличие секретов (пароли, токены, ключи доступа и т. д.).</li>
<li>исключает файлы и каталоги, указанные в <code>.gitleaksignore</code>;</li>
<li>игнорирует секреты, зафиксированные в отчете Gitleaks, если задан <code>baseline-path</code>.</li>
<li>Формирует результаты по найденным секретами, при необходимости сохраняет их на платформе CodeScoring и создает отчет в формате GitLab.</li>
</ol>
<h2 id="agent-scan-secrets-gitleaks">Пример конфига для Gitleaks<a class="headerlink" href="#agent-scan-secrets-gitleaks" title="Permanent link">&para;</a></h2>
<p>Пример конфига, который расширяет стандартную конфигурацию, добавляя новое правило со своим регулярным выражением</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-scan-secrets-__codelineno-0-1"></a><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">“Custom gitleaks config”</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-scan-secrets-__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-scan-secrets-__codelineno-0-3"></a><span class="k">[extend]</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#agent-scan-secrets-__codelineno-0-4"></a><span class="n">useDefault</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#agent-scan-secrets-__codelineno-0-5"></a>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#agent-scan-secrets-__codelineno-0-6"></a><span class="k">[[rules]]</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#agent-scan-secrets-__codelineno-0-7"></a><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">“custom-generic-password”</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#agent-scan-secrets-__codelineno-0-8"></a><span class="n">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">“Detected a Generic password”</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#agent-scan-secrets-__codelineno-0-9"></a><span class="n">regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">‘’‘passw(?:or)d.+’‘’</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#agent-scan-secrets-__codelineno-0-10"></a><span class="n">entropy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
</code></pre></div>
<h2 id="agent-scan-secrets-_2">Пример запуска команды<a class="headerlink" href="#agent-scan-secrets-_2" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#agent-scan-secrets-__codelineno-1-1"></a>johnny<span class="w"> </span>secrets<span class="w"> </span>gitleaks<span class="w"> </span>dir<span class="w"> </span>.<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#agent-scan-secrets-__codelineno-1-2"></a>--gitleaks-path<span class="w"> </span>&lt;path-to-gitleaks&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#agent-scan-secrets-__codelineno-1-3"></a>--gitleaks-config<span class="w"> </span>&lt;path-to-gitleaks-config&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#agent-scan-secrets-__codelineno-1-4"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#agent-scan-secrets-__codelineno-1-5"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#agent-scan-secrets-__codelineno-1-6"></a>--save-results<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#agent-scan-secrets-__codelineno-1-7"></a>--create-project<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#agent-scan-secrets-__codelineno-1-8"></a>--project<span class="w"> </span>&lt;project-name&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#agent-scan-secrets-__codelineno-1-9"></a>--gitleaks-ignore-path<span class="w"> </span>.gitleaksignore<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#agent-scan-secrets-__codelineno-1-10"></a>--gl-secrets-report<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#agent-scan-secrets-__codelineno-1-11"></a>--gl-secrets-report-filename<span class="w"> </span>secrets-report.json
</code></pre></div>
<p>Данная команда запускает сканирование секретов в текущей директории, игнорируя файлы, перечисленные в <code>.gitleaksignore</code>, отправляет результаты в платформу CodeScoring, и формирует отчет в формате GitLab, записывая его в <code>secrets-report.json</code>.</p>
<h2 id="agent-scan-secrets-_3">Параметры команды<a class="headerlink" href="#agent-scan-secrets-_3" title="Permanent link">&para;</a></h2>
<p>Команда <strong>johnny secrets gitleaks dir</strong> имеет следующие уникальные параметры, помимо <a href="#agent-scan-_2">общих настроек команды сканирования</a>:</p>
<h3 id="agent-scan-secrets-_4">Параметры запуска поиска секретов<a class="headerlink" href="#agent-scan-secrets-_4" title="Permanent link">&para;</a></h3>
<ul>
<li><code>--gitleaks-path</code> – путь к исполняемому файлу Gitleaks, который будет использоваться при сканировании. Если не задан, будет выполняться вызов системной команды <code>gitleaks</code>;</li>
<li><code>--gl-secrets-report</code> – включение формирования отчета о найденных секретах в формате GitLab;</li>
<li><code>--gl-secrets-report-filename</code> – имя выходного файла для отчета в формате GitLab (по умолчанию <code>gl-secrets-report.json</code>).</li>
</ul>
<h4 id="agent-scan-secrets-gitleaks_1">Параметры Gitleaks<a class="headerlink" href="#agent-scan-secrets-gitleaks_1" title="Permanent link">&para;</a></h4>
<ul>
<li><code>--gitleaks-config</code> - путь к <a href="https://github.com/gitleaks/gitleaks?tab=readme-ov-file#configuration">конфигурационному файлу Gitleaks</a>;</li>
<li><code>--baseline-path</code> – путь к файлу отчета Gitleaks, который используется в качестве базовой линии для игнорирования ранее найденных секретов;</li>
<li><code>--enable-rule</code> – список ID правил, которые будут <strong>включены</strong> при сканировании;</li>
<li><code>--gitleaks-ignore-path</code> – путь к файлу <code>.gitleaksignore</code> или директории, содержащей его, для добавления fingerprint найденных ранее секретов;</li>
<li><code>--ignore-gitleaks-allow</code> – игнорирование комментариев <code>gitleaks:allow</code>, которые помечают строки как безопасные для игнорирования;</li>
<li><code>--log-level</code> – уровень логирования, который контролирует подробность выводимых сообщений. Возможные значения: <code>trace</code>, <code>debug</code>, <code>info</code>, <code>warn</code>, <code>error</code>, <code>fatal</code>;</li>
<li><code>--max-decode-depth</code> – максимальная глубина рекурсивного декодирования при поиске секретов. Значение <code>0</code> отключает декодирование;</li>
<li><code>--max-target-megabytes</code> – максимальный размер анализируемых файлов в мегабайтах. Файлы, превышающие этот размер, будут пропущены;</li>
<li><code>--no-banner</code> – отключение баннера Gitleaks, который отображается при запуске инструмента;</li>
<li><code>--no-color</code> – отключение цветного вывода для подробного режима (<code>verbose</code>);</li>
<li><code>--redact</code> – маскирование найденных секретов в логах. Можно задать промежуточные значения (например, <code>20</code> для скрытия 20% секрета);</li>
<li><code>--verbose</code> – включение подробного (<code>verbose</code>) вывода, предоставляющего больше информации о процессе сканирования.</li>
</ul>
<p>Для сводки доступных параметров команды и инструкции по использованию можно вызвать команду с флагом <code>-h, --help</code>.</p></section><section class="print-page" id="agent-reachability" heading-number="4.4.3.13"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-reachability.en">English</a></li>
</ul>
<h1 id="agent-reachability-_1">Анализ достижимости уязвимостей<a class="headerlink" href="#agent-reachability-_1" title="Permanent link">&para;</a></h1>
<div class="admonition info">
<p class="admonition-title">Что такое достижимость</p>
<p>Достижимость уязвимости — это проверка того, действительно ли потенциально уязвимый участок кода может быть выполнен при использовании приложения.
Такой анализ позволяет отфильтровать «шум» и сосредоточиться на реально эксплуатируемых проблемах.</p>
</div>
<p>Консольный агент Johnny умеет анализировать уязвимости на достижимость из исходного кода. Для использования данной функции необходимо задать два параметра:</p>
<ul>
<li><code>cg-path</code> — путь к графу вызовов формата Svace;</li>
<li><code>cg-lang</code> — язык программирования, для которого был построен граф вызовов. На данный момент поддерживаются значения <code>java</code>, <code>python</code>, <code>go</code> и <code>kotlin</code>.</li>
</ul>
<h2 id="agent-reachability-_2">Построение графа вызовов<a class="headerlink" href="#agent-reachability-_2" title="Permanent link">&para;</a></h2>
<h3 id="agent-reachability-svace">С использованием инструмента Svace<a class="headerlink" href="#agent-reachability-svace" title="Permanent link">&para;</a></h3>
<ol>
<li>Скачать модуль Svace <code>https://REGISTRY_USERNAME:REGISTRY_PASSWORD@REGISTRY_URL/#browse/browse:files:codescoring%2Fsvace-callgraph</code></li>
<li>Получить токен пользователя в CodeScoring (по ссылке<code>{platform-url}/cabinet/profile</code>)</li>
<li>Запустить Svace на исходном коде проекта. Этот этап лучше делать в рамках или после шага сборки в конвейере.</li>
<li>Инициализация
      <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-reachability-__codelineno-0-1"></a>svace<span class="w"> </span>init
</code></pre></div></li>
<li>Контролируемая сборка
      <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#agent-reachability-__codelineno-1-1"></a>svace<span class="w"> </span>build<span class="w"> </span>&lt;build<span class="w"> </span>command&gt;
</code></pre></div>
      Пример для проектов на языке Java:
      <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#agent-reachability-__codelineno-2-1"></a>svace<span class="w"> </span>build<span class="w"> </span>mvn<span class="w"> </span>clean<span class="w"> </span>package
</code></pre></div>
      Пример на языке Go:
      <div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#agent-reachability-__codelineno-3-1"></a>svace<span class="w"> </span>build<span class="w"> </span>go<span class="w"> </span>build<span class="w"> </span>-a<span class="w"> </span>main.go
</code></pre></div>
      Пример на языке Python:
      <div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#agent-reachability-__codelineno-4-1"></a>svace<span class="w"> </span>build<span class="w"> </span>--python<span class="w"> </span>.
</code></pre></div>
      Пример на языке Kotlin:
      <div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#agent-reachability-__codelineno-5-1"></a>svace<span class="w"> </span>build<span class="w"> </span>./gradlew<span class="w"> </span>clean<span class="w"> </span>build
</code></pre></div></li>
<li>Анализ результатов и построение графа вызовов
      <div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#agent-reachability-__codelineno-6-1"></a>svace<span class="w"> </span>analyze<span class="w"> </span>--build-call-graph-only<span class="w"> </span>--license-server-url<span class="w"> </span><span class="s2">&quot;http(s)://&lt;codescoring_host&gt;&quot;</span><span class="w"> </span>--license-server-token<span class="w"> </span><span class="s2">&quot;&lt;токен из п.1&gt;&quot;</span>
</code></pre></div></li>
<li>В случае успешного выполнения всех шагов в директории проекта появится файл <code>.svace-dir/analyze-res/call-graph/&lt;project_name&gt;-graph-order.json</code>, содержащий граф вызовов.</li>
<li>Запустить сканирования с помощью Johnny, например:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#agent-reachability-__codelineno-7-1"></a>johnny-linux-amd64<span class="w"> </span>scan<span class="w"> </span>dir<span class="w"> </span>.<span class="w"> </span>--api_url<span class="w"> </span><span class="s2">&quot;http(s)://&lt;codescoring_host&gt;&quot;</span><span class="w"> </span>--api_token<span class="w"> </span><span class="s2">&quot;&lt;токен из п.1&gt;&quot;</span><span class="w">  </span>--cg-path<span class="w"> </span>.svace-dir/analyze-res/call-graph/&lt;project_name&gt;-graph-order.json<span class="w">  </span>--cg-lang<span class="w"> </span>java
</code></pre></div></li>
</ol>
<h2 id="agent-reachability-_3">Получение результатов<a class="headerlink" href="#agent-reachability-_3" title="Permanent link">&para;</a></h2>
<p>В таблице уязвимостей с найденными достижимыми вызовами будет проставлена отметка в соответствующем столбце:</p>
<p><img alt="Таблица уязвимостей с колонкой Reachable" src="/assets/img/reachability/json-bug-vulnerabilities-table.png" /></p>
<p>В конце будет доступна ещё одна таблица с перечислением деревьев вызовов для уязвимостей:</p>
<p><img alt="Таблица путей достижимости уязвимостей json-bug" src="/assets/img/reachability/json-bug-paths.png" /></p>
<p>Пример для более крупного проекта:</p>
<p><img alt="Таблица путей достижимости уязвимостей dep-track" src="/assets/img/reachability/dep-track-paths.png" /></p>
<p>Если был указан флаг <code>--save-results</code>, то результаты достижимости будут в колонке "Достижимо" таблицы уязвимостей:</p>
<p><img alt="Таблица уязвимостей json-bug" src="/assets/img/reachability/json-bug-ui-reachable-column.png" /></p></section><section class="print-page" id="agent-sign-verify-bom" heading-number="4.4.3.14"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-sign-verify-bom.en">English</a></li>
</ul>
<h1 id="agent-sign-verify-bom-sbom">Подпись и верификация SBOM<a class="headerlink" href="#agent-sign-verify-bom-sbom" title="Permanent link">&para;</a></h1>
<p>Для подтверждения целостности и подлинности SBOM-файлов поддерживается подпись и верификация с использованием цифровых подписей RSA SHA256. Функциональность доступна начиная с версии консольного агента <strong>2025.29.0</strong>.</p>
<p>Обе команды доступны без необходимости задания параметров <code>--api_url</code> и <code>--api_token</code>.</p>
<p><strong>Важно</strong>: поддерживаются только RSA ключи, и они должны быть в формате PEM.</p>
<h2 id="agent-sign-verify-bom-sbom_1">Подпись SBOM файла<a class="headerlink" href="#agent-sign-verify-bom-sbom_1" title="Permanent link">&para;</a></h2>
<p>Для создания цифровой подписи SBOM файла используется команда <code>sign bom</code>. Она имеет следующие параметры:</p>
<ul>
<li><code>--private-key &lt;путь&gt;</code> - путь к приватному ключу RSA в формате PEM (<strong>обязательно</strong>);</li>
<li><code>--include-public-key</code> - включить публичный ключ в SBOM файл (опционально).</li>
</ul>
<h3 id="agent-sign-verify-bom-_1">Примеры запуска<a class="headerlink" href="#agent-sign-verify-bom-_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-sign-verify-bom-__codelineno-0-1"></a><span class="c1"># Подпись файла с указанием приватного ключа</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-sign-verify-bom-__codelineno-0-2"></a>./johnny<span class="w"> </span>sign<span class="w"> </span>bom<span class="w"> </span>&lt;bom_json&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-sign-verify-bom-__codelineno-0-3"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#agent-sign-verify-bom-__codelineno-0-4"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#agent-sign-verify-bom-__codelineno-0-5"></a>--private-key<span class="w"> </span>&lt;private_key_pem&gt;
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#agent-sign-verify-bom-__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#agent-sign-verify-bom-__codelineno-0-7"></a><span class="c1"># Подпись файла с включением публичного ключа в SBOM</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#agent-sign-verify-bom-__codelineno-0-8"></a>./johnny<span class="w"> </span>sign<span class="w"> </span>bom<span class="w"> </span>&lt;bom_json&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#agent-sign-verify-bom-__codelineno-0-9"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#agent-sign-verify-bom-__codelineno-0-10"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#agent-sign-verify-bom-__codelineno-0-11"></a>--private-key<span class="w"> </span>&lt;private_key_pem&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#agent-sign-verify-bom-__codelineno-0-12"></a>--include-public-key<span class="w"> </span>
</code></pre></div>
<h2 id="agent-sign-verify-bom-sbom_2">Верификация подписи SBOM файла<a class="headerlink" href="#agent-sign-verify-bom-sbom_2" title="Permanent link">&para;</a></h2>
<p>Для проверки подписи SBOM файла используется команда <code>verify bom</code>. Она имеет следующие параметры:</p>
<ul>
<li><code>--public-key &lt;путь&gt;</code> - путь к публичному ключу RSA в формате PEM (опционально). Если этот параметр задан и файл SBOM содержит публичный ключ, будет использован ключ из файла SBOM.  </li>
</ul>
<h3 id="agent-sign-verify-bom-_2">Примеры запуска<a class="headerlink" href="#agent-sign-verify-bom-_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#agent-sign-verify-bom-__codelineno-1-1"></a><span class="c1"># Верификация с использованием публичного ключа из файла</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#agent-sign-verify-bom-__codelineno-1-2"></a>./johnny<span class="w"> </span>verify<span class="w"> </span>bom<span class="w"> </span>&lt;bom_json&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#agent-sign-verify-bom-__codelineno-1-3"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#agent-sign-verify-bom-__codelineno-1-4"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#agent-sign-verify-bom-__codelineno-1-5"></a>--public-key<span class="w"> </span>&lt;public_key_pem&gt;
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#agent-sign-verify-bom-__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#agent-sign-verify-bom-__codelineno-1-7"></a><span class="c1"># Верификация с использованием ключа из SBOM файла</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#agent-sign-verify-bom-__codelineno-1-8"></a>./johnny<span class="w"> </span>verify<span class="w"> </span>bom<span class="w"> </span>&lt;bom_json&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#agent-sign-verify-bom-__codelineno-1-9"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#agent-sign-verify-bom-__codelineno-1-10"></a>--api_url<span class="w"> </span>&lt;api_url&gt;
</code></pre></div>
<h2 id="agent-sign-verify-bom-_3">Результаты работы<a class="headerlink" href="#agent-sign-verify-bom-_3" title="Permanent link">&para;</a></h2>
<p>Агент возвращает следующие exit code:</p>
<ul>
<li>0: успешное выполнение;</li>
<li>4: ошибка верификации подписи.</li>
</ul></section><section class="print-page" id="agent-launch-docker" heading-number="4.4.3.15"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-launch-docker.en">English</a></li>
</ul>
<h1 id="agent-launch-docker-docker">Запуск с помощью Docker<a class="headerlink" href="#agent-launch-docker-docker" title="Permanent link">&para;</a></h1>
<p>Для работы запуска через Docker в данный момент нужна активная <a href="#on-premise-installation">авторизация в registry с образами системы</a>.</p>
<p>Пример вызова на текущей директории:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-launch-docker-__codelineno-0-1"></a>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-launch-docker-__codelineno-0-2"></a><span class="w">    </span>-v<span class="w"> </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>:/code<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-launch-docker-__codelineno-0-3"></a><span class="w">    </span>-a<span class="w"> </span>stdout<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#agent-launch-docker-__codelineno-0-4"></a><span class="w">    </span>&lt;registry-address&gt;/johnny-depp:&lt;version&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#agent-launch-docker-__codelineno-0-5"></a><span class="w">    </span>scan<span class="w"> </span>dir<span class="w"> </span>.<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#agent-launch-docker-__codelineno-0-6"></a><span class="w">    </span>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#agent-launch-docker-__codelineno-0-7"></a><span class="w">    </span>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#agent-launch-docker-__codelineno-0-8"></a><span class="w">    </span>--ignore<span class="w"> </span>.tmp<span class="w"> </span>--ignore<span class="w"> </span>fixtures<span class="w"> </span>--ignore<span class="w"> </span>.git<span class="w"> </span>
</code></pre></div>
<p>Параметр <code>-a stdout</code> необходим для корректного отображения таблиц <strong>Vulnerabilties</strong> и <strong>Policy Alerts</strong> при запуска агента через Docker.</p></section><section class="print-page" id="agent-gitlab-ci" heading-number="4.4.3.16"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-gitlab-ci.en">English</a></li>
</ul>
<h1 id="agent-gitlab-ci-gitlab-ci">Добавление в Gitlab CI<a class="headerlink" href="#agent-gitlab-ci-gitlab-ci" title="Permanent link">&para;</a></h1>
<p>Консольный агент поддерживает добавление в Gitlab CI с помощью файла <code>.gitlab-ci.yaml</code> и поставляется как в виде docker-образа, так и в виде бинарного файла.</p>
<h3 id="agent-gitlab-ci-docker-johnny">Docker-образ Johnny<a class="headerlink" href="#agent-gitlab-ci-docker-johnny" title="Permanent link">&para;</a></h3>
<p>Пример содержания файла <code>.gitlab-ci.yaml</code> при использовании docker-образа консольного агента:</p>
<p><code>&lt;version&gt;</code> необходимо заменить на версию агента. Список актуальных версий с описанием доступен на странице <a href="#changelog-johnny-changelog">Changelog</a>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-gitlab-ci-__codelineno-0-1"></a><span class="nt">stages</span><span class="p">:</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-gitlab-ci-__codelineno-0-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-gitlab-ci-__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#agent-gitlab-ci-__codelineno-0-4"></a><span class="nt">sca</span><span class="p">:</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#agent-gitlab-ci-__codelineno-0-5"></a><span class="w">  </span><span class="nt">stage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#agent-gitlab-ci-__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#agent-gitlab-ci-__codelineno-0-7"></a><span class="w">  </span><span class="nt">script</span><span class="p">:</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#agent-gitlab-ci-__codelineno-0-8"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">docker pull REGISTRY_URL/johnny-depp:&lt;version&gt;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#agent-gitlab-ci-__codelineno-0-9"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#agent-gitlab-ci-__codelineno-0-10"></a><span class="w">      </span><span class="no">docker run -v $(pwd):/code </span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#agent-gitlab-ci-__codelineno-0-11"></a><span class="w">      </span><span class="no">&lt;registry-address&gt;/johnny-depp </span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#agent-gitlab-ci-__codelineno-0-12"></a><span class="w">      </span><span class="no">--api_token $CODESCORING_API_TOKEN</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#agent-gitlab-ci-__codelineno-0-13"></a><span class="w">      </span><span class="no">--api_url $CODESCORING_API_URL </span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#agent-gitlab-ci-__codelineno-0-14"></a><span class="w">      </span><span class="no">--ignore .git </span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#agent-gitlab-ci-__codelineno-0-15"></a><span class="w">      </span><span class="no">--ignore fixtures </span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#agent-gitlab-ci-__codelineno-0-16"></a><span class="w">      </span><span class="no">--ignore parsers</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#agent-gitlab-ci-__codelineno-0-17"></a><span class="w">      </span><span class="no">.</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#agent-gitlab-ci-__codelineno-0-18"></a>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#agent-gitlab-ci-__codelineno-0-19"></a><span class="w">  </span><span class="nt">artifacts</span><span class="p">:</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#agent-gitlab-ci-__codelineno-0-20"></a><span class="w">    </span><span class="nt">paths</span><span class="p">:</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#agent-gitlab-ci-__codelineno-0-21"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bom.json</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#agent-gitlab-ci-__codelineno-0-22"></a><span class="w">    </span><span class="nt">when</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">always</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#agent-gitlab-ci-__codelineno-0-23"></a><span class="w">    </span><span class="nt">expire_in</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1 week</span>
</code></pre></div>
<h3 id="agent-gitlab-ci-johnny">Бинарный файл Johnny<a class="headerlink" href="#agent-gitlab-ci-johnny" title="Permanent link">&para;</a></h3>
<p>Для использования бинарного файла консольного агента, необходимо предварительно выполнить следующие действия на машине gitlab-runner'а:</p>
<ol>
<li>Скачать файл командой
  <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#agent-gitlab-ci-__codelineno-1-1"></a>wget<span class="w"> </span>-O<span class="w"> </span>/usr/local/bin/johnny<span class="w"> </span>https://REGISTRY_USERNAME:REGISTRY_PASSWORD@REGISTRY_URL/repository/files/codescoring/johnny-depp/JOHNNY_VERSION/johnny-linux-amd64-JOHNNY_VERSION
</code></pre></div>
  или
  <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#agent-gitlab-ci-__codelineno-2-1"></a>curl<span class="w"> </span>-o<span class="w"> </span>/usr/local/bin/johnny<span class="w"> </span>https://REGISTRY_USERNAME:REGISTRY_PASSWORD@REGISTRY_URL/repository/files/codescoring/johnny-depp/JOHNNY_VERSION/johnny-linux-amd64-JOHNNY_VERSION
</code></pre></div>
  <code>JOHNNY_VERSION</code> необходимо заменить на версию агента. Список актуальных версий с описанием доступен на странице <a href="#changelog-johnny-changelog">Changelog</a>. <code>REGISTRY_URL</code>, <code>REGISTRY_USERNAME</code> и <code>REGISTRY_PASSWORD</code> необходимо заменить на адрес, логин и пароль, полученные от вендора.</li>
<li>Разрешить исполнение файла
  <div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#agent-gitlab-ci-__codelineno-3-1"></a>chmod<span class="w"> </span>+x<span class="w"> </span>/usr/local/bin/johnny
</code></pre></div></li>
</ol>
<p>Пример вызова бинарного файла агента в <code>.gitlab-ci.yaml</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#agent-gitlab-ci-__codelineno-4-1"></a><span class="nt">stages</span><span class="p">:</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#agent-gitlab-ci-__codelineno-4-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#agent-gitlab-ci-__codelineno-4-3"></a>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#agent-gitlab-ci-__codelineno-4-4"></a><span class="nt">sca</span><span class="p">:</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#agent-gitlab-ci-__codelineno-4-5"></a><span class="w">  </span><span class="nt">stage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#agent-gitlab-ci-__codelineno-4-6"></a>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#agent-gitlab-ci-__codelineno-4-7"></a><span class="w">  </span><span class="nt">script</span><span class="p">:</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#agent-gitlab-ci-__codelineno-4-8"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#agent-gitlab-ci-__codelineno-4-9"></a><span class="w">      </span><span class="no">johnny</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#agent-gitlab-ci-__codelineno-4-10"></a><span class="w">      </span><span class="no">scan dir</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#agent-gitlab-ci-__codelineno-4-11"></a><span class="w">      </span><span class="no">--api_token $JOHNNY_API_TOKEN</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#agent-gitlab-ci-__codelineno-4-12"></a><span class="w">      </span><span class="no">--api_url $JOHNNY_API_URL</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#agent-gitlab-ci-__codelineno-4-13"></a><span class="w">      </span><span class="no">--ignore .git</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#agent-gitlab-ci-__codelineno-4-14"></a><span class="w">      </span><span class="no">--ignore fixtures</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#agent-gitlab-ci-__codelineno-4-15"></a><span class="w">      </span><span class="no">--ignore parsers</span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#agent-gitlab-ci-__codelineno-4-16"></a><span class="w">      </span><span class="no">.</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#agent-gitlab-ci-__codelineno-4-17"></a>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#agent-gitlab-ci-__codelineno-4-18"></a><span class="w">  </span><span class="nt">artifacts</span><span class="p">:</span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#agent-gitlab-ci-__codelineno-4-19"></a><span class="w">    </span><span class="nt">paths</span><span class="p">:</span>
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#agent-gitlab-ci-__codelineno-4-20"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bom.json</span>
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#agent-gitlab-ci-__codelineno-4-21"></a><span class="w">    </span><span class="nt">when</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">always</span>
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#agent-gitlab-ci-__codelineno-4-22"></a><span class="w">    </span><span class="nt">expire_in</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1 week</span>
</code></pre></div></section><section class="print-page" id="agent-jenkins-pipeline" heading-number="4.4.3.17"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-jenkins-pipeline.en">English</a></li>
</ul>
<h1 id="agent-jenkins-pipeline-jenkins">Добавление в Jenkins<a class="headerlink" href="#agent-jenkins-pipeline-jenkins" title="Permanent link">&para;</a></h1>
<p>Консольный агент поддерживает добавление в Jenkins двумя способами: через <code>Jenkinsfile</code> и специализированный плагин.</p>
<h2 id="agent-jenkins-pipeline-jenkinsfile">Добавление агента в Jenkinsfile<a class="headerlink" href="#agent-jenkins-pipeline-jenkinsfile" title="Permanent link">&para;</a></h2>
<h3 id="agent-jenkins-pipeline-docker-">Использование Docker-образа<a class="headerlink" href="#agent-jenkins-pipeline-docker-" title="Permanent link">&para;</a></h3>
<p>Пример добавления агента в <code>pipeline</code> с использованием docker-образа:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-jenkins-pipeline-__codelineno-0-1"></a><span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-jenkins-pipeline-__codelineno-0-2"></a><span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-jenkins-pipeline-__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#agent-jenkins-pipeline-__codelineno-0-4"></a><span class="w">  </span><span class="n">environment</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#agent-jenkins-pipeline-__codelineno-0-5"></a><span class="w">    </span><span class="n">CODESCORING_REGISTRY_URL</span><span class="o">=</span><span class="s1">&#39;REGISTRY_URL&#39;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#agent-jenkins-pipeline-__codelineno-0-6"></a><span class="w">    </span><span class="n">CODESCORING_AGENT_IMAGE</span><span class="o">=</span><span class="s1">&#39;REGISTRY_URL/johnny-depp:&lt;version&gt;&#39;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#agent-jenkins-pipeline-__codelineno-0-7"></a><span class="w">    </span><span class="n">CODESCORING_REGISTRY_CREDENTIALS</span><span class="o">=</span><span class="n">credentials</span><span class="o">(</span><span class="s1">&#39;cs-registry-creds&#39;</span><span class="o">)</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#agent-jenkins-pipeline-__codelineno-0-8"></a><span class="w">    </span><span class="n">CODESCORING_API_URL</span><span class="o">=</span><span class="s1">&#39;https://localhost:8080&#39;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#agent-jenkins-pipeline-__codelineno-0-9"></a><span class="w">  </span><span class="o">}</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#agent-jenkins-pipeline-__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#agent-jenkins-pipeline-__codelineno-0-11"></a><span class="w">  </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#agent-jenkins-pipeline-__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#agent-jenkins-pipeline-__codelineno-0-13"></a><span class="w">    </span><span class="n">stage</span><span class="o">(</span><span class="s2">&quot;Login to Codescoring docker registry&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#agent-jenkins-pipeline-__codelineno-0-14"></a><span class="w">      </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#agent-jenkins-pipeline-__codelineno-0-15"></a><span class="w">        </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;&quot;&quot;</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#agent-jenkins-pipeline-__codelineno-0-16"></a><span class="s2">        docker login -u &quot;$CODESCORING_REGISTRY_CREDENTIALS_USR&quot; &quot;$CODESCORING_REGISTRY_URL&quot; -p &quot;$CODESCORING_REGISTRY_CREDENTIALS_PSW&quot;</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#agent-jenkins-pipeline-__codelineno-0-17"></a><span class="s2">          &quot;&quot;&quot;</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#agent-jenkins-pipeline-__codelineno-0-18"></a><span class="w">      </span><span class="o">}</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#agent-jenkins-pipeline-__codelineno-0-19"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#agent-jenkins-pipeline-__codelineno-0-20"></a>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#agent-jenkins-pipeline-__codelineno-0-21"></a><span class="w">    </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Run CodeScoring Agent&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#agent-jenkins-pipeline-__codelineno-0-22"></a><span class="w">      </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#agent-jenkins-pipeline-__codelineno-0-23"></a><span class="w">        </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;&quot;&quot;</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#agent-jenkins-pipeline-__codelineno-0-24"></a><span class="s2">        docker run -v \$(pwd):/code --rm ${CODESCORING_AGENT_IMAGE} --api_token ${CODESCORING_API_TOKEN} --api_url ${CODESCORING_API_URL} --ignore .tmp --ignore fixtures --ignore .git .</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#agent-jenkins-pipeline-__codelineno-0-25"></a><span class="s2">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#agent-jenkins-pipeline-__codelineno-0-26"></a><span class="w">      </span><span class="o">}</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#agent-jenkins-pipeline-__codelineno-0-27"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#agent-jenkins-pipeline-__codelineno-0-28"></a><span class="w">  </span><span class="o">}</span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#agent-jenkins-pipeline-__codelineno-0-29"></a><span class="o">}</span>
</code></pre></div>
<h3 id="agent-jenkins-pipeline-_1">Использование бинарного файла<a class="headerlink" href="#agent-jenkins-pipeline-_1" title="Permanent link">&para;</a></h3>
<p>Для использования бинарного файла консольного агента, необходимо предварительно выполнить следующие действия на машине с Jenkins:</p>
<ol>
<li>
<p>Скачать файл командой</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#agent-jenkins-pipeline-__codelineno-1-1"></a>wget<span class="w"> </span>-O<span class="w"> </span>/usr/local/bin/johnny<span class="w"> </span>https://REGISTRY_USERNAME:REGISTRY_PASSWORD@REGISTRY_URL/repository/files/codescoring/johnny-depp/JOHNNY_VERSION/johnny-linux-amd64-JOHNNY_VERSION
</code></pre></div>
<p>или</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#agent-jenkins-pipeline-__codelineno-2-1"></a>curl<span class="w"> </span>-o<span class="w"> </span>/usr/local/bin/johnny<span class="w"> </span>https://REGISTRY_USERNAME:REGISTRY_PASSWORD@REGISTRY_URL/repository/files/codescoring/johnny-depp/JOHNNY_VERSION/johnny-linux-amd64-JOHNNY_VERSION
</code></pre></div>
<p>Переменную <code>JOHNNY_VERSION</code> необходимо заменить на версию агента. Список актуальных версий доступен <a href="#changelog-johnny-changelog">в разделе Changelog</a>.</p>
<p>Переменные <code>REGISTRY_URL</code>, <code>REGISTRY_USERNAME</code> и <code>REGISTRY_PASSWORD</code> необходимо заменить на адрес, логин и пароль, полученные от вендора.</p>
</li>
<li>
<p>Разрешить исполнение файла</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#agent-jenkins-pipeline-__codelineno-3-1"></a><span class="w">  </span>chmod<span class="w"> </span>+x<span class="w"> </span>/usr/local/bin/johnny
</code></pre></div>
<p>Пример вызова бинарного файла агента в <code>pipeline</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#agent-jenkins-pipeline-__codelineno-4-1"></a><span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#agent-jenkins-pipeline-__codelineno-4-2"></a><span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#agent-jenkins-pipeline-__codelineno-4-3"></a>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#agent-jenkins-pipeline-__codelineno-4-4"></a><span class="w">  </span><span class="n">environment</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#agent-jenkins-pipeline-__codelineno-4-5"></a><span class="w">    </span><span class="n">CODESCORING_API_URL</span><span class="o">=</span><span class="s1">&#39;http://localhost:8001&#39;</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#agent-jenkins-pipeline-__codelineno-4-6"></a><span class="w">    </span><span class="n">CODESCORING_API_TOKEN</span><span class="o">=</span><span class="s1">&#39;API_TOKEN&#39;</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#agent-jenkins-pipeline-__codelineno-4-7"></a><span class="w">  </span><span class="o">}</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#agent-jenkins-pipeline-__codelineno-4-8"></a>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#agent-jenkins-pipeline-__codelineno-4-9"></a><span class="w">  </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#agent-jenkins-pipeline-__codelineno-4-10"></a>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#agent-jenkins-pipeline-__codelineno-4-11"></a><span class="w">    </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Run CodeScoring Agent&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#agent-jenkins-pipeline-__codelineno-4-12"></a><span class="w">      </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#agent-jenkins-pipeline-__codelineno-4-13"></a><span class="w">        </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;&quot;&quot;</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#agent-jenkins-pipeline-__codelineno-4-14"></a><span class="s2">        johnny scan dir --api_token ${CODESCORING_API_TOKEN} --api_url ${CODESCORING_API_URL} --ignore .tmp --ignore fixtures --ignore .git .</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#agent-jenkins-pipeline-__codelineno-4-15"></a><span class="s2">        &quot;&quot;&quot;</span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#agent-jenkins-pipeline-__codelineno-4-16"></a><span class="w">      </span><span class="o">}</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#agent-jenkins-pipeline-__codelineno-4-17"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#agent-jenkins-pipeline-__codelineno-4-18"></a><span class="w">  </span><span class="o">}</span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#agent-jenkins-pipeline-__codelineno-4-19"></a><span class="o">}</span>
</code></pre></div></section><section class="print-page" id="agent-gitflic-ci" heading-number="4.4.3.18"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-gitflic-ci.en">English</a></li>
</ul>
<h1 id="agent-gitflic-ci-gitflic-ci">Добавление в Gitflic CI<a class="headerlink" href="#agent-gitflic-ci-gitflic-ci" title="Permanent link">&para;</a></h1>
<p>С помощью консольного агента johnny можно настроить сканирование компонентов в GitFlic CI. Поддерживаются типы раннера GitFlic shell и GitFlic docker.</p>
<h2 id="agent-gitflic-ci-c-gitflic-shell">Использование агента c типом раннера GitFlic shell<a class="headerlink" href="#agent-gitflic-ci-c-gitflic-shell" title="Permanent link">&para;</a></h2>
<p>Для использования консольного агента с типом раннера GitFlic Shell необходимо предварительно выполнить следующие действия:</p>
<ol>
<li>
<p>Скачать файл командой</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-gitflic-ci-__codelineno-0-1"></a>wget<span class="w"> </span>-O<span class="w"> </span>/usr/local/bin/johnny<span class="w"> </span>https://REGISTRY_USERNAME:REGISTRY_PASSWORD@REGISTRY_URL/repository/files/codescoring/johnny-depp/JOHNNY_VERSION/johnny-linux-amd64-JOHNNY_VERSION
</code></pre></div>
или
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#agent-gitflic-ci-__codelineno-1-1"></a>curl<span class="w"> </span>-o<span class="w"> </span>/usr/local/bin/johnny<span class="w"> </span>https://REGISTRY_USERNAME:REGISTRY_PASSWORD@REGISTRY_URL/repository/files/codescoring/johnny-depp/JOHNNY_VERSION/johnny-linux-amd64-JOHNNY_VERSION
</code></pre></div></p>
<p><code>JOHNNY_VERSION</code> необходимо заменить на версию агента. Список актуальных версий с описанием доступен в разделе <a href="#changelog-johnny-changelog">Changelog</a>. <code>REGISTRY_URL</code>, <code>REGISTRY_USERNAME</code> и <code>REGISTRY_PASSWORD</code> необходимо заменить на адрес, логин и пароль, полученные от вендора.</p>
</li>
<li>
<p>Разрешить исполнение файла</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#agent-gitflic-ci-__codelineno-2-1"></a>chmod<span class="w"> </span>+x<span class="w"> </span>/usr/local/bin/johnny
</code></pre></div>
<p>Пример вызова бинарного файла агента в <code>gitflic-ci.yaml</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#agent-gitflic-ci-__codelineno-3-1"></a><span class="w">  </span><span class="nt">stages</span><span class="p">:</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#agent-gitflic-ci-__codelineno-3-2"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#agent-gitflic-ci-__codelineno-3-3"></a>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#agent-gitflic-ci-__codelineno-3-4"></a><span class="w">  </span><span class="nt">sca</span><span class="p">:</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#agent-gitflic-ci-__codelineno-3-5"></a><span class="w">    </span><span class="nt">stage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#agent-gitflic-ci-__codelineno-3-6"></a>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#agent-gitflic-ci-__codelineno-3-7"></a><span class="w">  </span><span class="nt">script</span><span class="p">:</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#agent-gitflic-ci-__codelineno-3-8"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#agent-gitflic-ci-__codelineno-3-9"></a><span class="w">        </span><span class="no">johnny</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#agent-gitflic-ci-__codelineno-3-10"></a><span class="w">        </span><span class="no">scan dir</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#agent-gitflic-ci-__codelineno-3-11"></a><span class="w">        </span><span class="no">--api_token $JOHNNY_API_TOKEN</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#agent-gitflic-ci-__codelineno-3-12"></a><span class="w">        </span><span class="no">--api_url $JOHNNY_API_URL</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#agent-gitflic-ci-__codelineno-3-13"></a><span class="w">        </span><span class="no">--ignore .git</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#agent-gitflic-ci-__codelineno-3-14"></a><span class="w">        </span><span class="no">--ignore fixtures</span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#agent-gitflic-ci-__codelineno-3-15"></a><span class="w">        </span><span class="no">--ignore parsers</span>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#agent-gitflic-ci-__codelineno-3-16"></a><span class="w">        </span><span class="no">.</span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#agent-gitflic-ci-__codelineno-3-17"></a>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#agent-gitflic-ci-__codelineno-3-18"></a><span class="nt">artifacts</span><span class="p">:</span>
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#agent-gitflic-ci-__codelineno-3-19"></a><span class="w">  </span><span class="nt">reports</span><span class="p">:</span>
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#agent-gitflic-ci-__codelineno-3-20"></a><span class="w">  </span><span class="nt">paths</span><span class="p">:</span>
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#agent-gitflic-ci-__codelineno-3-21"></a><span class="w">  </span><span class="nt">dependency_scanning</span><span class="p">:</span><span class="w">  </span><span class="s">&quot;bom.json&quot;</span>
</code></pre></div>
<p>Результатами выполненного сканирования можно управлять на вкладке <strong>Безопасность</strong> в интерфейсе проекта.</p>
<h2 id="agent-gitflic-ci-gitflic-docker">Использование агента с типом раннера GitFlic docker<a class="headerlink" href="#agent-gitflic-ci-gitflic-docker" title="Permanent link">&para;</a></h2>
<p>Для использования консольного агента с типом раннера GitFlic docker необходимо предварительно выполнить следующие действия на машине с агентом:</p>
<ol>
<li>
<p>Скачать файл командой</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#agent-gitflic-ci-__codelineno-4-1"></a>wget<span class="w"> </span>-O<span class="w"> </span>/usr/local/bin/johnny<span class="w"> </span>https://REGISTRY_USERNAME:REGISTRY_PASSWORD@REGISTRY_URL/repository/files/codescoring/johnny-depp/JOHNNY_VERSION/johnny-linux-amd64-JOHNNY_VERSION
</code></pre></div>
или
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#agent-gitflic-ci-__codelineno-5-1"></a>curl<span class="w"> </span>-o<span class="w"> </span>/usr/local/bin/johnny<span class="w"> </span>https://REGISTRY_USERNAME:REGISTRY_PASSWORD@REGISTRY_URL/repository/files/codescoring/johnny-depp/JOHNNY_VERSION/johnny-linux-amd64-JOHNNY_VERSION
</code></pre></div></p>
<p><code>JOHNNY_VERSION</code> необходимо заменить на версию агента. Список актуальных версий с описанием доступен в разделе <a href="#changelog-johnny-changelog">Changelog</a>. <code>REGISTRY_URL</code>, <code>REGISTRY_USERNAME</code> и <code>REGISTRY_PASSWORD</code> необходимо заменить на адрес, логин и пароль, полученные от вендора.</p>
</li>
<li>
<p>Скопировать агента в контейнер, который планируется использовать в задаче</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#agent-gitflic-ci-__codelineno-6-1"></a>docker<span class="w"> </span>cp<span class="w"> </span>./johnny<span class="w"> </span>CONTAINER:/usr/bin
</code></pre></div>
</li>
<li>
<p>Разрешить исполнение файла</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#agent-gitflic-ci-__codelineno-7-1"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>CONTAINER<span class="w"> </span>chmod<span class="w"> </span>+x<span class="w"> </span>/usr/bin/johnny
</code></pre></div>
</li>
<li>
<p>Сохранить изменения в контейнере</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#agent-gitflic-ci-__codelineno-8-1"></a>docker<span class="w"> </span>commit<span class="w"> </span>&lt;container<span class="w"> </span>name&gt;&lt;repository&gt;:&lt;tag&gt;
</code></pre></div>
<p><strong>Важно</strong>: при необходимости сохраните контейнер в удаленном репозитории.</p>
<p>Пример вызова бинарного файла агента в <code>gitflic-ci.yaml</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#agent-gitflic-ci-__codelineno-9-1"></a><span class="w">    </span><span class="nt">stages</span><span class="p">:</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#agent-gitflic-ci-__codelineno-9-2"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#agent-gitflic-ci-__codelineno-9-3"></a>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#agent-gitflic-ci-__codelineno-9-4"></a><span class="w">    </span><span class="nt">sca</span><span class="p">:</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#agent-gitflic-ci-__codelineno-9-5"></a><span class="w">      </span><span class="nt">stage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#agent-gitflic-ci-__codelineno-9-6"></a><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;repository&gt;&lt;tag&gt;</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#agent-gitflic-ci-__codelineno-9-7"></a>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#agent-gitflic-ci-__codelineno-9-8"></a><span class="w">    </span><span class="nt">script</span><span class="p">:</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#agent-gitflic-ci-__codelineno-9-9"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#agent-gitflic-ci-__codelineno-9-10"></a><span class="w">          </span><span class="no">johnny</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#agent-gitflic-ci-__codelineno-9-11"></a><span class="w">          </span><span class="no">scan dir</span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#agent-gitflic-ci-__codelineno-9-12"></a><span class="w">          </span><span class="no">--api_token $JOHNNY_API_TOKEN</span>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#agent-gitflic-ci-__codelineno-9-13"></a><span class="w">          </span><span class="no">--api_url $JOHNNY_API_URL</span>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#agent-gitflic-ci-__codelineno-9-14"></a><span class="w">          </span><span class="no">--ignore .git</span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#agent-gitflic-ci-__codelineno-9-15"></a><span class="w">          </span><span class="no">--ignore fixtures</span>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#agent-gitflic-ci-__codelineno-9-16"></a><span class="w">          </span><span class="no">--ignore parsers</span>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#agent-gitflic-ci-__codelineno-9-17"></a><span class="w">          </span><span class="no">.</span>
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#agent-gitflic-ci-__codelineno-9-18"></a>
<a id="__codelineno-9-19" name="__codelineno-9-19" href="#agent-gitflic-ci-__codelineno-9-19"></a><span class="w"> </span><span class="w w-Error"> </span><span class="nt">artifacts</span><span class="p">:</span>
<a id="__codelineno-9-20" name="__codelineno-9-20" href="#agent-gitflic-ci-__codelineno-9-20"></a><span class="w">    </span><span class="nt">reports</span><span class="p">:</span>
<a id="__codelineno-9-21" name="__codelineno-9-21" href="#agent-gitflic-ci-__codelineno-9-21"></a><span class="w">    </span><span class="nt">paths</span><span class="p">:</span>
<a id="__codelineno-9-22" name="__codelineno-9-22" href="#agent-gitflic-ci-__codelineno-9-22"></a><span class="w">    </span><span class="nt">dependency_scanning</span><span class="p">:</span><span class="w">  </span><span class="s">&quot;bom.json&quot;</span>
</code></pre></div>
<p>Результатами выполненного сканирования можно управлять на вкладке <strong>Безопасность</strong> в интерфейсе проекта.</p>
<h2 id="agent-gitflic-ci-_1">Подключение к реестру и проверка образов<a class="headerlink" href="#agent-gitflic-ci-_1" title="Permanent link">&para;</a></h2>
<p>Пример выборочной проверки образа с помощью агента в <code>gitflic-ci.yaml</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#agent-gitflic-ci-__codelineno-10-1"></a>image: angelikade/mvn-npm-jdk:codescoring
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#agent-gitflic-ci-__codelineno-10-2"></a>stage: test-codescoring-image
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#agent-gitflic-ci-__codelineno-10-3"></a>when: manual
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#agent-gitflic-ci-__codelineno-10-4"></a>scripts:
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#agent-gitflic-ci-__codelineno-10-5"></a>  - ls -la
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#agent-gitflic-ci-__codelineno-10-6"></a>  - |
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#agent-gitflic-ci-__codelineno-10-7"></a>    /usr/bin/johnny scan image &lt;registry&gt;/&lt;repository&gt;/&lt;imagename&gt;:&lt;tag&gt; \
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#agent-gitflic-ci-__codelineno-10-8"></a>    --api_token &quot;${CS_TOKEN}&quot; \
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#agent-gitflic-ci-__codelineno-10-9"></a>    --api_url &quot;${CS_URL}&quot;
</code></pre></div>
<p><strong>Важно</strong>: доступ к файлу <code>/v2/\_catalog</code> в GitFlic выключен из соображений безопасности. На текущий момент, рекуррентный проход по всем образам в реестре невозможен.</p>
<h2 id="agent-gitflic-ci-_2">Использование политик безопасности при сканировании<a class="headerlink" href="#agent-gitflic-ci-_2" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Настройте <a href="#on-premise-how-to-policies">политики</a> на платформе CodeScoring</p>
</li>
<li>
<p>Запустите конвейер, используя стандартные настройки сканирования</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#agent-gitflic-ci-__codelineno-11-1"></a><span class="w">    </span><span class="nt">stages</span><span class="p">:</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#agent-gitflic-ci-__codelineno-11-2"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#agent-gitflic-ci-__codelineno-11-3"></a>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#agent-gitflic-ci-__codelineno-11-4"></a><span class="w">    </span><span class="nt">sca</span><span class="p">:</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#agent-gitflic-ci-__codelineno-11-5"></a><span class="w">      </span><span class="nt">stage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#agent-gitflic-ci-__codelineno-11-6"></a>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#agent-gitflic-ci-__codelineno-11-7"></a><span class="w">    </span><span class="nt">script</span><span class="p">:</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#agent-gitflic-ci-__codelineno-11-8"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#agent-gitflic-ci-__codelineno-11-9"></a><span class="w">          </span><span class="no">johnny</span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#agent-gitflic-ci-__codelineno-11-10"></a><span class="w">          </span><span class="no">scan dir</span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#agent-gitflic-ci-__codelineno-11-11"></a><span class="w">          </span><span class="no">--api_token $JOHNNY_API_TOKEN</span>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#agent-gitflic-ci-__codelineno-11-12"></a><span class="w">          </span><span class="no">--api_url $JOHNNY_API_URL</span>
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#agent-gitflic-ci-__codelineno-11-13"></a><span class="w">          </span><span class="no">--ignore .git</span>
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#agent-gitflic-ci-__codelineno-11-14"></a><span class="w">          </span><span class="no">--ignore fixtures</span>
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#agent-gitflic-ci-__codelineno-11-15"></a><span class="w">          </span><span class="no">--ignore parsers</span>
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#agent-gitflic-ci-__codelineno-11-16"></a><span class="w">          </span><span class="no">.</span>
<a id="__codelineno-11-17" name="__codelineno-11-17" href="#agent-gitflic-ci-__codelineno-11-17"></a>
<a id="__codelineno-11-18" name="__codelineno-11-18" href="#agent-gitflic-ci-__codelineno-11-18"></a><span class="w"> </span><span class="w w-Error"> </span><span class="nt">artifacts</span><span class="p">:</span>
<a id="__codelineno-11-19" name="__codelineno-11-19" href="#agent-gitflic-ci-__codelineno-11-19"></a><span class="w">    </span><span class="nt">reports</span><span class="p">:</span>
<a id="__codelineno-11-20" name="__codelineno-11-20" href="#agent-gitflic-ci-__codelineno-11-20"></a><span class="w">    </span><span class="nt">paths</span><span class="p">:</span>
<a id="__codelineno-11-21" name="__codelineno-11-21" href="#agent-gitflic-ci-__codelineno-11-21"></a><span class="w">    </span><span class="nt">dependency_scanning</span><span class="p">:</span><span class="w">  </span><span class="s">&quot;bom.json&quot;</span>
</code></pre></div>
</li>
<li>
<p>При срабатывании политик агент завершит работу с возвратом кода ошибки и раннер GitFlic автоматически остановит конвейер.</p>
</li>
</ol>
<p><strong>Важно</strong>: на текущий момент в GitFlic не реализован механизм получения артефактов при завершении задачи с ошибкой. Ввиду этого, просмотр отчета по артефакту, вызвавшему остановку конвейера, в веб-интерфейсе GitFlic невозможен.</p></section><section class="print-page" id="agent-save-results" heading-number="4.4.3.19"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-save-results.en">English</a></li>
</ul>
<h1 id="agent-save-results-_1">Сохранение результатов сканирования<a class="headerlink" href="#agent-save-results-_1" title="Permanent link">&para;</a></h1>
<p>Для сохранения результатов сканирования в on-premise платформе необходимо добавить в команду параметры <code>--save-results</code> и <code>--project</code> или указать в config-файле следующие переменные:</p>
<ul>
<li><code>project</code> — имя CLI-проекта в системе, в который будут сохраняться результаты;</li>
<li><code>save-results</code> — флаг сохранения результатов, по умолчанию стоит значение <strong>false</strong>.</li>
</ul>
<p>Если CLI-проект не создан в системе заранее, можно указать в команде вызова или в config-файле параметр <code>--create-project</code>.
Для нового проекта можно указать следующие параметры:
- <code>--project-group</code> - имя группы. В случае если группа с таким именем не существует и передан флаг <code>--create-project-group</code>, перед добавлением проекта в группу она будет создана;
- <code>--project-proprietor</code> - подразделение;
- <code>--project-categories</code> - категории.</p>
<p>Пример команды сохранения результатов сканирования в новый проект:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-save-results-__codelineno-0-1"></a>./johnny<span class="w"> </span>scan<span class="w"> </span>dir<span class="w"> </span>.<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-save-results-__codelineno-0-2"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-save-results-__codelineno-0-3"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#agent-save-results-__codelineno-0-4"></a>--save-results<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#agent-save-results-__codelineno-0-5"></a>--create-project<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#agent-save-results-__codelineno-0-6"></a>--project<span class="w"> </span><span class="s2">&quot;project-name&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#agent-save-results-__codelineno-0-7"></a>--project-group<span class="w"> </span><span class="s2">&quot;group&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#agent-save-results-__codelineno-0-8"></a>--project-proprietor<span class="w"> </span><span class="s2">&quot;proprietor&quot;</span>
</code></pre></div></section><section class="print-page" id="agent-export" heading-number="4.4.3.20"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-export.en">English</a></li>
</ul>
<h1 id="agent-export-_1">Экспорт результатов сканирования<a class="headerlink" href="#agent-export-_1" title="Permanent link">&para;</a></h1>
<p>Консольный агент Johnny поддерживает выгрузку результатов сканирования в различных форматах. Это позволяет адаптировать отчетность под разные нужды, включая интеграцию с системами управления уязвимостями.
По умолчанию отчеты отображаются на английском, для переключения на русский нужно использовать флаг <code>--localization ru</code>.</p>
<h2 id="agent-export-_2">Отчет о найденных уязвимостях<a class="headerlink" href="#agent-export-_2" title="Permanent link">&para;</a></h2>
<h3 id="agent-export-_3">Доступные форматы<a class="headerlink" href="#agent-export-_3" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>coloredtable</strong> – цветная таблица в консоли. Формат по умолчанию;</li>
<li><strong>table</strong> – простая таблица;</li>
<li><strong>text</strong> – текстовый отчет;</li>
<li><strong>junit</strong> – используется в CI/CD (Jenkins, GitLab CI, GitHub Actions);</li>
<li><strong>sarif</strong> – выгружается в DefectDojo и другие системы управления уязвимостями;</li>
<li><strong>csv</strong> – применяется в BI-системах, Excel, Pandas, SQL;</li>
<li><strong>gl-dependency-scanning-report</strong> – формат отчета для <a href="https://docs.gitlab.com/ee/user/application_security/dependency_scanning/">GitLab Dependency Scanning</a>;</li>
<li><strong>gl-code-quality-report</strong> – формат отчета для <a href="https://docs.gitlab.com/ee/ci/testing/code_quality.html">GitLab Code Quality</a>;</li>
<li><strong>gl-secrets-report</strong> – формат отчета для <a href="https://docs.gitlab.com/user/application_security/secret_detection/">GitLab Secret Detection</a>.</li>
</ul>
<h3 id="agent-export-_4">Пример использования<a class="headerlink" href="#agent-export-_4" title="Permanent link">&para;</a></h3>
<p>При необходимости можно указать несколько форматов, разделив их запятыми, например:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-export-__codelineno-0-1"></a>./johnny<span class="w"> </span>scan<span class="w"> </span>file<span class="w"> </span>path/to/file<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-export-__codelineno-0-2"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-export-__codelineno-0-3"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#agent-export-__codelineno-0-4"></a>--format<span class="w"> </span><span class="s2">&quot;coloredtable, junit&gt;&gt;junit.xml&quot;</span>
</code></pre></div>
<p>В этом примере вывод будет в формате <code>coloredtable</code> в консоль, а также сохранится в файл <code>junit.xml</code> в формате <code>junit</code>.</p>
<h2 id="agent-export-_5">Отчет о сработавших алертах<a class="headerlink" href="#agent-export-_5" title="Permanent link">&para;</a></h2>
<h3 id="agent-export-_6">Доступные форматы<a class="headerlink" href="#agent-export-_6" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>coloredtable</strong> – цветная таблица в консоли. Формат по умолчанию;</li>
<li><strong>table</strong> – простая таблица;</li>
<li><strong>text</strong> – текстовый отчет;</li>
<li><strong>json</strong> – структурированный формат на основе JavaScript Object Notation, удобен для машинной обработки данных;</li>
<li><strong>csv</strong> – текстовый формат файла, для хранения табличных данных.</li>
</ul>
<h3 id="agent-export-_7">Пример использования<a class="headerlink" href="#agent-export-_7" title="Permanent link">&para;</a></h3>
<p>При необходимости можно указать несколько форматов, разделив их запятыми, например:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#agent-export-__codelineno-1-1"></a>./johnny<span class="w"> </span>scan<span class="w"> </span>file<span class="w"> </span>path/to/file<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#agent-export-__codelineno-1-2"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#agent-export-__codelineno-1-3"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#agent-export-__codelineno-1-4"></a>--alerts-format<span class="w"> </span><span class="s2">&quot;coloredtable, json&gt;&gt;alerts.json&quot;</span>
</code></pre></div>
<p>В этом примере вывод будет в формате <code>coloredtable</code> в консоль, а также сохранится в файл <code>alerts.json</code> в формате <code>json</code>.</p>
<h2 id="agent-export-_8">Отчет об игнорах политик<a class="headerlink" href="#agent-export-_8" title="Permanent link">&para;</a></h2>
<p>Формирование отчета выполняется по флагу <code>--policy-ignores</code>. В отчет попадают игноры политик с указанным в <code>--project</code> проектом.</p>
<h3 id="agent-export-_9">Доступные форматы<a class="headerlink" href="#agent-export-_9" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>coloredtable</strong> – цветная таблица в консоли. Формат по умолчанию;</li>
<li><strong>table</strong> – простая таблица;</li>
<li><strong>text</strong> – текстовый отчет;</li>
<li><strong>json</strong> – структурированный формат на основе JavaScript Object Notation, удобен для машинной обработки данных;</li>
<li><strong>csv</strong> – текстовый формат файла, для хранения табличных данных.</li>
</ul>
<h3 id="agent-export-_10">Пример использования<a class="headerlink" href="#agent-export-_10" title="Permanent link">&para;</a></h3>
<p>При необходимости можно указать несколько форматов, разделив их запятыми, например:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#agent-export-__codelineno-2-1"></a>./johnny<span class="w"> </span>scan<span class="w"> </span>file<span class="w"> </span>path/to/file<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#agent-export-__codelineno-2-2"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#agent-export-__codelineno-2-3"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#agent-export-__codelineno-2-4"></a>--project<span class="w"> </span>&lt;project&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#agent-export-__codelineno-2-5"></a>--policy-ignores<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#agent-export-__codelineno-2-6"></a>--ignores-format<span class="w"> </span><span class="s2">&quot;coloredtable, json&gt;&gt;ignores.json&quot;</span>
</code></pre></div>
<p>В этом примере вывод будет в формате <code>coloredtable</code> в консоль, а также сохранится в файл <code>ignores.json</code> в формате <code>json</code>.</p></section><section class="print-page" id="agent-resolve" heading-number="4.4.3.21"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#agent-resolve.en">English</a></li>
</ul>
<h1 id="agent-resolve-_1">Разрешение зависимостей в окружении сборки<a class="headerlink" href="#agent-resolve-_1" title="Permanent link">&para;</a></h1>
<p>Пакетные менеджеры некоторых экосистем по умолчанию не включают транзитивные зависимости в манифесты. Для качественного проведения композиционного анализа при работе с ними рекомендуется применять механизм разрешения зависимостей в окружении сборки.</p>
<p>При разрешении зависимостей в окружении агент проверяет отсутствие lock-файла. Если lock-файл обнаружен, резолв не выполняется даже при наличии соответствующих флагов, и результаты берутся из обнаруженного lock-файла. Исключение составляют технологии, где имя и расположение lock-файла не фиксировано пакетным менеджером и может быть передано как параметр в резолв.</p>
<h2 id="agent-resolve-_2">Настройка разрешения зависимостей<a class="headerlink" href="#agent-resolve-_2" title="Permanent link">&para;</a></h2>
<p>Параметры разрешения зависимостей в окружении, пути к пакетному менеджеру и параметры выполнения регулируются следующими параметрами в команде <code>scan</code>:</p>
<ul>
<li><code>--dotnet-resolve</code> / <code>--dotnet-path</code> / <code>--dotnet-args</code></li>
<li><code>--go-resolve</code> / <code>--go-path</code></li>
<li><code>--gradle-resolve</code> / <code>--gradle-path</code> / <code>--gradle-args</code></li>
<li><code>--maven-resolve</code> / <code>--maven-path</code> / <code>--maven-args</code></li>
<li><code>--npm-resolve</code> / <code>--npm-path</code> / <code>--npm-args</code></li>
<li><code>--poetry-resolve</code> / <code>--poetry-path</code> / <code>--poetry-args</code></li>
<li><code>--sbt-resolve</code> / <code>--sbt-path</code> / <code>--sbt-args</code></li>
<li><code>--yarn-resolve</code> / <code>--yarn-path</code> / <code>--yarn-args</code></li>
<li><code>--pip-resolve</code> / <code>--pip-path</code> / <code>--pip-args</code></li>
<li><code>--composer-resolve</code> / <code>--composer-path</code> / <code>--composer-args</code></li>
<li><code>--pnpm-resolve</code> / <code>--pnpm-path</code> / <code>--pnpm-args</code></li>
<li><code>--conda-resolve</code> / <code>--conda-lock-path</code> / <code>--conda-args</code></li>
<li><code>--pipdeptree-resolve</code> / <code>--pipdeptree-path</code> / <code>--pipdeptree-args</code></li>
<li><code>--uv-resolve</code> / <code>--uv-path</code> / <code>--uv-args</code></li>
<li><code>--bun-resolve</code> / <code>--bun-path</code> / <code>--bun-args</code></li>
</ul>
<p>Пример команды:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#agent-resolve-__codelineno-0-1"></a>./johnny<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#agent-resolve-__codelineno-0-2"></a>scan<span class="w"> </span>dir<span class="w"> </span>.<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#agent-resolve-__codelineno-0-3"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#agent-resolve-__codelineno-0-4"></a>--api_url<span class="w"> </span>&lt;api_url&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#agent-resolve-__codelineno-0-5"></a>--dotnet-resolve<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#agent-resolve-__codelineno-0-6"></a>--dotnet-path<span class="w"> </span>&lt;path/to/dotnet&gt;
</code></pre></div>
<p>При необходимости перечисленные параметры можно добавить в <a href="#agent-config">конфигурационный файл агента</a>.</p>
<h2 id="agent-resolve-_3">Поддерживаемые экосистемы<a class="headerlink" href="#agent-resolve-_3" title="Permanent link">&para;</a></h2>
<h3 id="agent-resolve-net">.NET<a class="headerlink" href="#agent-resolve-net" title="Permanent link">&para;</a></h3>
<p>Базовый манифест, который берется за основу при разрешении зависимостей: <code>.csproj</code>.</p>
<p>Для проектов .NET агент выполняет команду:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#agent-resolve-__codelineno-1-1"></a>dotnet<span class="w"> </span>restore
</code></pre></div>
<p>После чего анализируется файл <code>obj/project.assets.json</code>, содержащий полную информацию о зависимостях и их версиях. Выполняется в каталоге, в котором расположен <code>.csproj</code> файл.</p>
<p>В случае обнаружения <code>.sln</code> манифеста, разрешение зависимостей будет выполнено в его контексте. Условием для запуска команды разрешения является отсутствие <code>obj/project.assets.json</code> файла для одного и более компонентов решения.</p>
<h3 id="agent-resolve-go">Go<a class="headerlink" href="#agent-resolve-go" title="Permanent link">&para;</a></h3>
<p>Базовые манифесты, которые берутся за основу при разрешении зависимостей: <code>go.mod</code>, <code>go.sum</code>.</p>
<p>Агент использует данные из файлов <code>go.mod</code> и <code>go.sum</code>, добавляя записи из <code>go.sum</code>, которые отсутствуют в <code>go.mod</code> (только строки без постфикса <code>/go.mod</code>). Затем выполняется:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#agent-resolve-__codelineno-2-1"></a>go<span class="w"> </span>mod<span class="w"> </span>graph
</code></pre></div>
<p>Полученный список пар <code>parent → child</code> используется для построения дерева зависимостей. При отсутствии указания родителя используется команда:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#agent-resolve-__codelineno-3-1"></a>go<span class="w"> </span>mod<span class="w"> </span>why<span class="w"> </span>&lt;package&gt;
</code></pre></div>
<p>Если родительская связь не установлена, зависимость исключается с предупреждением.</p>
<h3 id="agent-resolve-gradle">Gradle<a class="headerlink" href="#agent-resolve-gradle" title="Permanent link">&para;</a></h3>
<p>Базовые манифесты, которые берутся за основу при разрешении зависимостей: <code>build.gradle</code>, <code>build.gradle.kts</code>.</p>
<p>Для разрешения зависимостей в Gradle по умолчанию необходимо задать следующее значение:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#agent-resolve-__codelineno-4-1"></a>--gradle-path<span class="w"> </span>./gradlew
</code></pre></div>
<p>С заданным значением сначала выполняется пользовательская задача:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#agent-resolve-__codelineno-5-1"></a>./gradlew<span class="w"> </span>CodeScoring_All_Dependencies<span class="w"> </span>--configuration<span class="w"> </span>&lt;конфигурация&gt;
</code></pre></div>
<p>Если задача отсутствует, используется стандартная команда:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#agent-resolve-__codelineno-6-1"></a>./gradlew<span class="w"> </span>dependencies<span class="w"> </span>--configuration<span class="w"> </span>&lt;конфигурация&gt;
</code></pre></div>
<p>Агент анализирует консольный вывод и формирует граф зависимостей.</p>
<h4 id="agent-resolve-_4">Дополнительная информация<a class="headerlink" href="#agent-resolve-_4" title="Permanent link">&para;</a></h4>
<p>При наличии в директории файла gradle-dependency-tree.txt будет использоваться существующий файл, новый создан не будет.</p>
<h3 id="agent-resolve-maven">Maven<a class="headerlink" href="#agent-resolve-maven" title="Permanent link">&para;</a></h3>
<p>Базовый манифест, который берется за основу при разрешении зависимостей: <code>pom.xml</code>.</p>
<p>Для проектов Maven используется команда:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#agent-resolve-__codelineno-7-1"></a>mvn<span class="w"> </span>dependency:tree<span class="w"> </span>-f<span class="w"> </span>&lt;pom.xml&gt;<span class="w"> </span>-DoutputFile<span class="o">=</span>&lt;tmpdir/mdt.json&gt;
</code></pre></div>
<p>Агент парсит файл <code>mdt.json</code>, содержащий полную структуру зависимостей. При наличии файла <code>maven-dependency-tree.txt</code> он будет обработан как самостоятельный lock-файл, и резолв не будет выполняться.</p>
<h3 id="agent-resolve-npm">npm<a class="headerlink" href="#agent-resolve-npm" title="Permanent link">&para;</a></h3>
<p>Базовый манифест, который берется за основу при разрешении зависимостей: <code>package.json</code>.</p>
<p>Агент выполняет:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#agent-resolve-__codelineno-8-1"></a>npm<span class="w"> </span>install
</code></pre></div>
<p>Далее анализируется сформированный файл <code>package-lock.json</code>, фиксирующий дерево зависимостей и используемые версии.</p>
<h3 id="agent-resolve-pnpm">pnpm<a class="headerlink" href="#agent-resolve-pnpm" title="Permanent link">&para;</a></h3>
<p>Базовый манифест, который берется за основу при разрешении зависимостей: <code>package.json</code>.</p>
<p>Выполняется команда:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#agent-resolve-__codelineno-9-1"></a>pnpm<span class="w"> </span>install
</code></pre></div>
<p>Анализируется lock-файл <code>pnpm-lock.yaml</code>, в котором содержатся данные обо всех зависимостях.</p>
<h3 id="agent-resolve-yarn">yarn<a class="headerlink" href="#agent-resolve-yarn" title="Permanent link">&para;</a></h3>
<p>Базовый манифест, который берется за основу при разрешении зависимостей: <code>package.json</code>.</p>
<p>Выполняется команда:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#agent-resolve-__codelineno-10-1"></a>yarn<span class="w"> </span>install
</code></pre></div>
<p>Агент парсит файл <code>yarn.lock</code>, содержащий информацию о зависимостях и их версиях.</p>
<h3 id="agent-resolve-bun">bun<a class="headerlink" href="#agent-resolve-bun" title="Permanent link">&para;</a></h3>
<p>Базовый манифест, который берется за основу при разрешении зависимостей: <code>package.json</code>.</p>
<p>Выполняется команда:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#agent-resolve-__codelineno-11-1"></a>bun<span class="w"> </span>install<span class="w"> </span>--lockfile-only
</code></pre></div>
<p>Агент парсит файл <code>bun.lock</code>, содержащий информацию о зависимостях и их версиях.</p>
<div class="admonition info">
<p class="admonition-title">Наличие bun.lockb файла</p>
<p>Для того чтобы разрешить зависимости в проекте в котором есть <code>bun.lockb</code> агенту необходимо передать следующий флаг: <code>--bun-args '--save-text-lockfile --frozen-lockfile'</code></p>
</div>
<div class="admonition warning">
<p class="admonition-title">Особенность работы пакетного менеджера</p>
<p>В связи с особенностями реализации механизма создания файла <code>bun.lock</code> пакетным менеджером <code>bun</code> между двумя запусками набор глубоких транзитивных зависимостей может меняться</p>
</div>
<h3 id="agent-resolve-pip">pip<a class="headerlink" href="#agent-resolve-pip" title="Permanent link">&para;</a></h3>
<p>Для Python-проектов используется команда:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#agent-resolve-__codelineno-12-1"></a>pip<span class="w"> </span>freeze
</code></pre></div>
<p>Результат команды фиксирует список установленных зависимостей и их версии. В результатах указывается фиктивный файл <code>codescoring_pip_for_freeze</code>.</p>
<h3 id="agent-resolve-pipdeptree">pipdeptree<a class="headerlink" href="#agent-resolve-pipdeptree" title="Permanent link">&para;</a></h3>
<p>Для Python-проектов используется команда:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#agent-resolve-__codelineno-13-1"></a>pipdeptree
</code></pre></div>
<p>Результат команды фиксирует список установленных зависимостей и их версии в дереве зависимостей проекта.
Для проектов, использующих <code>requirements.txt</code> или <code>Pipfile</code>, зависимости будут ограничены только теми пакетами, которые перечислены в этих манифестах — остальные пакеты из среды, обнаруженные pipdeptree, в отображение не попадут.
Для проектов с <code>pyproject.toml</code> фильтрация будет проведена по <code>project.name</code>.
В результатах указывается фиктивный файл <code>codescoring_pipdeptree</code>.</p>
<div class="admonition взаимодействие с другими манифестами">
<p class="admonition-title">Взаимодействие</p>
<p>Для того чтобы зависимости основного манифеста проекта (например, <code>requirements.txt</code>) не отображались в результатах анализа вместе с результатом анализа pipdeptree рекомендуется исключить этот манифест из сканирования:
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#agent-resolve-__codelineno-14-1"></a><span class="w">    </span>johnny<span class="w"> </span>scan<span class="w"> </span>python<span class="w"> </span>.<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#agent-resolve-__codelineno-14-2"></a><span class="w">      </span>--pipdeptree-resolve<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#agent-resolve-__codelineno-14-3"></a><span class="w">      </span>--ignore<span class="w"> </span><span class="s2">&quot;requirements.txt&quot;</span>
</code></pre></div></p>
</div>
<h3 id="agent-resolve-poetry">Poetry<a class="headerlink" href="#agent-resolve-poetry" title="Permanent link">&para;</a></h3>
<p>Базовый манифест, который берется за основу при разрешении зависимостей: <code>pyproject.toml</code>.</p>
<p>Выполняются две команды:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#agent-resolve-__codelineno-15-1"></a>poetry<span class="w"> </span>debug<span class="w"> </span>resolve<span class="w"> </span>--tree
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#agent-resolve-__codelineno-15-2"></a>poetry<span class="w"> </span>debug<span class="w"> </span>resolve
</code></pre></div>
<p>Первый вывод содержит дерево с констрейнтами, второй — конкретные версии. Агент сопоставляет данные и формирует итоговый граф.</p>
<h3 id="agent-resolve-sbt-scala">sbt (Scala)<a class="headerlink" href="#agent-resolve-sbt-scala" title="Permanent link">&para;</a></h3>
<p>Базовый манифест, который берется за основу при разрешении зависимостей: <code>build.sbt</code>.</p>
<p>Для Scala используется команда:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#agent-resolve-__codelineno-16-1"></a>sbt<span class="w"> </span>dependencyTree
</code></pre></div>
<p>Анализируется консольный вывод, содержащий структуру зависимостей проекта.</p>
<h3 id="agent-resolve-swift">Swift<a class="headerlink" href="#agent-resolve-swift" title="Permanent link">&para;</a></h3>
<p>Базовый манифест, который берется за основу при разрешении зависимостей: <code>Package.swift</code>.</p>
<p>Для Swift-экосистемы агент выполняет:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#agent-resolve-__codelineno-17-1"></a>swift<span class="w"> </span>build<span class="w"> </span>--package-path<span class="w"> </span>&lt;путь_к_Package.swift&gt;
</code></pre></div>
<p>Далее парсится файл <code>Package.resolved</code>, содержащий зафиксированные версии пакетов.</p>
<h3 id="agent-resolve-composer-php">Composer (PHP)<a class="headerlink" href="#agent-resolve-composer-php" title="Permanent link">&para;</a></h3>
<p>Базовый манифест, который берется за основу при разрешении зависимостей: <code>composer.json</code>.</p>
<p>Выполняется команда:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#agent-resolve-__codelineno-18-1"></a>composer<span class="w"> </span>install
</code></pre></div>
<p>Агент анализирует файл <code>composer.lock</code>, в котором зафиксировано состояние зависимостей.</p>
<h3 id="agent-resolve-conda">Conda<a class="headerlink" href="#agent-resolve-conda" title="Permanent link">&para;</a></h3>
<p>Базовые манифесты, которые берутся за основу при разрешении зависимостей: <code>environment.yml</code>, <code>environment.yaml</code>, <code>meta.yml</code>, <code>meta.yaml</code>.</p>
<p>Для проектов, использующих Conda, агент выполняет:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#agent-resolve-__codelineno-19-1"></a>conda-lock<span class="w"> </span>-f<span class="w"> </span>&lt;environment.yml&gt;<span class="w"> </span>--filename<span class="w"> </span>&lt;tmpdir/conda-lock.yml&gt;
</code></pre></div>
<p>После этого анализируется файл <code>conda-lock.yml</code>, в котором зафиксированы все зависимости проекта.</p></section></section>
                    <section class='print-page md-section' id='section-4-4-4' heading-number='4.4.4'>
                        <h1>Интеграция с IDE<a class='headerlink' href='#section-4-4-4' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="ide" heading-number="4.4.4.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#ide-index.en">English</a></li>
</ul>
<h1 id="ide-codescoring">Интеграция CodeScoring в среду разработки<a class="headerlink" href="#ide-codescoring" title="Permanent link">&para;</a></h1>
<h2 id="ide-_1">Общее описание<a class="headerlink" href="#ide-_1" title="Permanent link">&para;</a></h2>
<p><strong>CodeScoring</strong> предоставляет анализ состава программного обеспечения (SCA) непосредственно в вашей среде разработки через специализированные плагины для IDE. Эти интеграции позволяют разработчикам выявлять и исправлять уязвимые зависимости, перенося безопасность на ранние этапы жизненного цикла разработки.</p>
<p>Интегрируя обнаружение уязвимых компонентов в IDE, разработчики могут:</p>
<ul>
<li>Обнаруживать проблемы безопасности при написании кода, а не после аудита</li>
<li>Получать быструю и актуальную обратную связь об уязвимостях зависимостей</li>
<li>Узнавать о более безопасных версиях и применять их в среде разработки</li>
<li>Поддерживать безопасный код с самых ранних этапов разработки</li>
<li>Следить за составом компонентов</li>
<li>Просматривать список алертов для сработавших политик</li>
</ul>
<h2 id="ide-_2">Доступные интеграции<a class="headerlink" href="#ide-_2" title="Permanent link">&para;</a></h2>
<p><strong>CodeScoring</strong> предлагает плагины для самых популярных сред разработки:</p>
<ul>
<li><a href="#ide-vscode-sca">Расширение для Visual Studio Code</a></li>
<li><a href="#ide-intellij-sca">Плагин для IntelliJ-based IDEs</a></li>
</ul>
<p>Обе интеграции обеспечивают сканирование уязвимостей из среды, визуальные индикаторы в коде и возможности обновления уязвимых зависимостей в один клик, позволяя разработчикам поддерживать безопасные зависимости без нарушения их рабочего процесса.</p></section><section class="print-page" id="ide-vscode-sca" heading-number="4.4.4.2"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#ide-vscode-sca.en">English</a></li>
</ul>
<h1 id="ide-vscode-sca-codescoringsca-visual-studio-code">Расширение CodeScoring.SCA для Visual Studio Code<a class="headerlink" href="#ide-vscode-sca-codescoringsca-visual-studio-code" title="Permanent link">&para;</a></h1>
<p>Расширение предоставляет возможности анализа состава программного обеспечения (SCA) для VS Code, подсвечивая уязвимые
зависимости в файлах Вашего проекта и предоставляя подробную информацию об уязвимостях через интеграцию с Johnny CLI.</p>
<p>Расширение <strong>CodeScoring.SCA</strong> поддерживает версии Visual Studio Code <strong>1.95.0</strong> и выше.</p>
<h2 id="ide-vscode-sca-_1">Поддерживаемые экосистемы<a class="headerlink" href="#ide-vscode-sca-_1" title="Permanent link">&para;</a></h2>
<h3 id="ide-vscode-sca-_2">Языки и менеджеры пакетов<a class="headerlink" href="#ide-vscode-sca-_2" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Экосистема</th>
<th>Файлы манифестов</th>
<th>Сгенерированные файлы версий</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>JavaScript/Node</strong></td>
<td>package.json</td>
<td>package-lock.json, npm-shrinkwrap.json, yarn.lock, pnpm-lock.yaml, npm-lock.yaml</td>
</tr>
<tr>
<td><strong>Python</strong></td>
<td>setup.py, pyproject.toml, Pipfile, <em>require</em>.txt, <em>require</em>.pip</td>
<td>Pipfile.lock, poetry.lock</td>
</tr>
<tr>
<td><strong>Java</strong></td>
<td>pom.xml, ivy.xml, <em>.gradle, </em>.gradle.kts</td>
<td>gradle.lockfile, maven-dependency-tree.txt, gradle-dependency-tree.txt</td>
</tr>
<tr>
<td><strong>Ruby</strong></td>
<td>Gemfile, gems.rb, *.gemspec</td>
<td>Gemfile.lock, gems.locked</td>
</tr>
<tr>
<td><strong>Go</strong></td>
<td>go.mod</td>
<td>go.sum</td>
</tr>
<tr>
<td><strong>Rust</strong></td>
<td>Cargo.toml</td>
<td>Cargo.lock</td>
</tr>
<tr>
<td><strong>PHP</strong></td>
<td>composer.json</td>
<td>composer.lock</td>
</tr>
<tr>
<td><strong>C#/.NET</strong></td>
<td><em>.csproj, packages.config, Project.json, paket.dependencies, </em>.nuspec</td>
<td>packages.lock.json, Project.lock.json, paket.lock, project.assets.json, dependencyReport.json</td>
</tr>
<tr>
<td><strong>Swift</strong></td>
<td>Package.swift</td>
<td>Package.resolved</td>
</tr>
<tr>
<td><strong>Objective-C</strong></td>
<td>Podfile, *.podspec</td>
<td>Podfile.lock</td>
</tr>
<tr>
<td><strong>Conda</strong></td>
<td>environment.yml, environment.yaml, meta.yml, meta.yaml</td>
<td>conda-lock.yml</td>
</tr>
<tr>
<td><strong>Conan (C/C++)</strong></td>
<td>conanfile.txt, conanfile.py</td>
<td>conan.lock</td>
</tr>
</tbody>
</table>
<h3 id="ide-vscode-sca-_3">Обнаружение файлов по умолчанию<a class="headerlink" href="#ide-vscode-sca-_3" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Автоматическое</strong>: Сканирует все поддерживаемые файлы</li>
<li><strong>Рекурсивное</strong>: Ищет в подкаталогах</li>
</ul>
<p>Точная настройка сканирования производится с помощью модификации config.yaml файла</p>
<h2 id="ide-vscode-sca-_4">Начало работы<a class="headerlink" href="#ide-vscode-sca-_4" title="Permanent link">&para;</a></h2>
<h3 id="ide-vscode-sca-_5">Предварительные требования<a class="headerlink" href="#ide-vscode-sca-_5" title="Permanent link">&para;</a></h3>
<p>Перед началом убедитесь, что у Вас есть:</p>
<ul>
<li>Visual Studio Code, установленный в Вашей системе</li>
<li>Доступ к установке CodeScoring с активными учетными данными</li>
<li>Дистрибутив codescoring-sca расширения для vscode (.vsix)</li>
</ul>
<h3 id="ide-vscode-sca-_6">Требуемые разрешения<a class="headerlink" href="#ide-vscode-sca-_6" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Файловая система</strong>: Чтение файлов проекта, запись файлов .codescoring, загрузка исполняемого файла, выполнение
  загруженного CLI</li>
<li><strong>Сеть</strong>: Связь с CodeScoring API</li>
<li><strong>API VS Code</strong>: Интеграция с редактором</li>
</ul>
<h3 id="ide-vscode-sca-1">Шаг 1: Загрузите расширение<a class="headerlink" href="#ide-vscode-sca-1" title="Permanent link">&para;</a></h3>
<p>Расширение поставляется в виде платформенно-независимого файла <code>codescoring-sca-&lt;version&gt;.vsix</code>.</p>
<h3 id="ide-vscode-sca-2-vsix">Шаг 2: Установите расширение из файла VSIX<a class="headerlink" href="#ide-vscode-sca-2-vsix" title="Permanent link">&para;</a></h3>
<ol>
<li>Откройте Visual Studio Code</li>
<li>Перейдите в <strong>Файл</strong> → <strong>Настройки</strong> → <strong>Расширения</strong> (или нажмите <code>Ctrl+Shift+X</code> или <code>Cmd+Shift+X</code> на MacOS)</li>
<li>Нажмите на меню с <strong>тремя точками (...)</strong> в правом верхнем углу панели расширений</li>
<li>Выберите <strong>"Установить из VSIX..."</strong> из выпадающего меню
   <img alt="Снимок экрана панели расширений VS Code с открытым меню с тремя точками и выделенным пунктом &quot;Установить из VSIX...&quot;" src="/assets/img/ide/vscode/step2-1-install-vsix.png" /></li>
<li>Перейдите к месту, куда вы сохранили файл <code>.vsix</code></li>
<li>Выберите файл и нажмите <strong>"Установить"</strong></li>
<li>Дождитесь завершения установки</li>
</ol>
<h3 id="ide-vscode-sca-3-codescoring">Шаг 3: Найдите расширение CodeScoring<a class="headerlink" href="#ide-vscode-sca-3-codescoring" title="Permanent link">&para;</a></h3>
<p>После установки вы должны увидеть логотип CodeScoring в панели действий VS Code (боковая панель слева).</p>
<p><img alt="Снимок экрана VS Code с видимой иконкой CodeScoring в панели действий" src="/assets/img/ide/vscode/step3-1-vscode-icon.png" /></p>
<ol>
<li>Нажмите на <strong>иконку CodeScoring</strong> в панели действий</li>
<li>Откроется боковая панель <strong>"CODESCORING: CODESCORING SCA"</strong></li>
</ol>
<p><img alt="Снимок экрана боковой панели CodeScoring SCA со всеми доступными кнопками" src="/assets/img/ide/vscode/step3-2-side-panel.png" /></p>
<h3 id="ide-vscode-sca-4">Шаг 4: Настройте расширение<a class="headerlink" href="#ide-vscode-sca-4" title="Permanent link">&para;</a></h3>
<ol>
<li>В боковой панели CodeScoring SCA нажмите кнопку <strong>"Configure Extension"</strong></li>
<li>Откроется страница настроек CodeScoring SCA</li>
</ol>
<p><img alt="Снимок экрана кнопки Configure Extension в боковой панели" src="/assets/img/ide/vscode/step4-1-configure-button.png" /></p>
<h4 id="ide-vscode-sca-41-url-api">4.1 Проверьте URL API<a class="headerlink" href="#ide-vscode-sca-41-url-api" title="Permanent link">&para;</a></h4>
<ol>
<li>В настройках найдите поле <strong>API URL</strong></li>
<li>Вам необходимо использовать URL CodeScoring, установленного в Вашей организации. При необходимости, обратитесь к
   администратору.</li>
</ol>
<p><img alt="Снимок экрана страницы настроек с полем API URL" src="/assets/img/ide/vscode/step4-2-api-url.png" /></p>
<h4 id="ide-vscode-sca-42-api">4.2 Сгенерируйте и установите токен API<a class="headerlink" href="#ide-vscode-sca-42-api" title="Permanent link">&para;</a></h4>
<ol>
<li>Откройте веб-браузер и перейдите по адресу: <code>&lt;API URL&gt;/cabinet/profile</code></li>
<li>Войдите в свою учетную запись CodeScoring</li>
<li>Убедитесь, что вы находитесь на странице своего профиля</li>
<li>Найдите поле <strong>"API token"</strong></li>
<li>Нажмите кнопку <strong>"Generate"</strong> рядом с полем токена API
   <img alt="Снимок экрана веб-интерфейса CodeScoring со страницей профиля с полем токена API и кнопкой Generate" src="/assets/img/ide/step4-3-generate-token.png" /></li>
<li>Скопируйте значение сгенерированного токена API</li>
<li>Вернитесь к настройкам VS Code</li>
<li>Нажмите на ссылку <strong>"Set API Token"</strong> в настройках плагина</li>
<li>Вставьте скопированный токен при появлении запроса
   <img alt="Снимок экрана настроек VS Code со ссылкой действия &quot;Set API Token&quot;" src="/assets/img/ide/vscode/step4-4-set-api-token.png" /></li>
<li>Плагин должен отобразить подтверждение, что токен действителен
    <img alt="Снимок экрана уведомления о валидности токена" src="/assets/img/ide/vscode/step4-4-token-validated.png" /></li>
</ol>
<h4 id="ide-vscode-sca-43-johnny-cli">4.3 Загрузите Johnny CLI<a class="headerlink" href="#ide-vscode-sca-43-johnny-cli" title="Permanent link">&para;</a></h4>
<ol>
<li>Перейдите на страницу релизов: <code>&lt;API URL&gt;/download/</code> (обратите внимание на завершающую косую черту)</li>
<li>Загрузите последний релиз исполняемого файла в зависимости от Вашей операционной системы</li>
</ol>
<p><img alt="Снимок экрана страницы релизов GitLab со ссылками для загрузки исполняемых файлов Johnny CLI" src="/assets/img/ide/vscode/step4-5-johnny-download.png" /></p>
<h4 id="ide-vscode-sca-44-johnny-cli">4.4 Настройте Johnny CLI<a class="headerlink" href="#ide-vscode-sca-44-johnny-cli" title="Permanent link">&para;</a></h4>
<p>Существует три способа получить Johnny CLI для анализа Ваших зависимостей с помощью нашего сервиса.</p>
<p><strong>4.4.1 Локальная установка</strong></p>
<p><strong>Предварительные требования:</strong></p>
<ul>
<li>Файл запуска Johnny CLI должен быть загружен и сделан исполняемым в системе</li>
<li>Операционная система должна разрешать запуск исполняемого файла (для проверки запустите один раз файл в консоли с
  параметром --help вручную)</li>
</ul>
<p><strong>Шаги настройки:</strong></p>
<ol>
<li>
<p>Установите тип установки на Local</p>
</li>
<li>
<p>В настройках VS Code измените <code>platformType</code> на <code>local</code></p>
</li>
<li>Или в settings.json:</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#ide-vscode-sca-__codelineno-0-1"></a><span class="nt">&quot;codescoringSca.platformType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;local&quot;</span>
</code></pre></div>
<ol>
<li>В настройках найдите поле <code>Codescoring Sca: Johnny Cli Path</code>, помеченное <strong>[LOCAL platform ONLY]</strong></li>
<li>Нажмите на ссылку действия <strong>"Browse..."</strong></li>
<li>Перейдите к месту, где вы ранее загрузили Johnny CLI</li>
<li>Выберите исполняемый файл Johnny CLI</li>
</ol>
<p><strong>Примечание:</strong> Если плагин спросит об изменении прав доступа к файлу (chmod +x), нажмите <strong>"Yes"</strong>, чтобы разрешить
плагину сделать файл исполняемым.</p>
<p><img alt="Снимок экрана браузера файлов для выбора исполняемого файла Johnny CLI" src="/assets/img/ide/vscode/step4-5-file-selection.png" /></p>
<p><strong>4.4.2 Автоматическая загрузка клиента</strong></p>
<p><strong>Предварительные требования:</strong></p>
<ul>
<li>Должен быть настроен API URL</li>
<li>Должен быть настроен токен API и валидация должна пройти успешно</li>
</ul>
<p><strong>Шаги настройки:</strong></p>
<ol>
<li>
<p>Установите тип установки на Local</p>
</li>
<li>
<p>В настройках VS Code измените <code>installationType</code> на <code>local</code></p>
</li>
<li>
<p>Или в settings.json:
  <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#ide-vscode-sca-__codelineno-1-1"></a><span class="nt">&quot;codescoringSca.installationType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;local&quot;</span>
</code></pre></div></p>
</li>
<li>
<p>В настройках найдите поле <code>Codescoring Sca: Johnny Cli Path</code>, помеченное <strong>[LOCAL INSTALLATION ONLY]</strong></p>
</li>
<li>Очистите, если необходимо, значение в этом поле (пустое значение - это значение по умолчанию)</li>
<li>Теперь при первом запросе сканирования Johnny CLI будет загружен с API URL. Это позволит Вам автоматически получить
   обновление клиента, как только оно будет доступно. Загруженный клиент будет сохранен в следующем месте:<ul>
<li><strong>Linux</strong>: <code>~/.config/Code/User/globalStorage/CodeScoring.codescoring-sca/johnny</code></li>
<li><strong>Windows</strong>: <code>%APPDATA%\Code\User\globalStorage\CodeScoring.codescoring-sca\johnny.exe</code></li>
<li><strong>MacOS</strong>: <code>~/Library/Application Support/Code/User/globalStorage/CodeScoring.codescoring-sca/johnny</code></li>
</ul>
</li>
</ol>
<p><strong>4.4.3 Использование Docker</strong></p>
<p>Установка Docker позволяет запускать Johnny CLI в изолированном контейнере, что полезно, когда вы не хотите
устанавливать его непосредственно в Вашей системе.</p>
<p><strong>Предварительные требования:</strong></p>
<ul>
<li>Docker должен быть установлен и запущен в Вашей системе</li>
<li>Ваш пользователь должен иметь права на выполнение команд Docker</li>
</ul>
<p><strong>Шаги настройки:</strong></p>
<ol>
<li>
<p>Установите тип установки на Docker</p>
</li>
<li>
<p>В настройках VS Code измените <code>installationType</code> на <code>docker</code></p>
</li>
<li>Или в settings.json:</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#ide-vscode-sca-__codelineno-2-1"></a><span class="nt">&quot;codescoringSca.installationType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;docker&quot;</span>
</code></pre></div>
<ol>
<li>
<p>Настройте Docker образ</p>
</li>
<li>
<p><strong>Образ</strong>: <code>johnny-depp:2025.29.0</code> (по умолчанию)</p>
</li>
<li><strong>Реестр</strong>: <code>&lt;адрес-реестра-кодскоринг&gt;</code></li>
<li>
<p>Пример полного пути к образу: <code>sample-codescoring-registry.com/johnny-depp:2025.29.0</code></p>
</li>
<li>
<p><strong>Опционально: Дополнительные опции Docker</strong>
   Добавьте пользовательские опции запуска Docker при необходимости:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#ide-vscode-sca-__codelineno-3-1"></a><span class="nt">&quot;codescoringSca.dockerOptions&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;--memory=2g --cpus=2&quot;</span>
</code></pre></div></p>
</li>
</ol>
<p><strong>Как это работает:</strong></p>
<ul>
<li>Клиент автоматически монтирует каталог Вашего проекта в контейнер</li>
<li>Сканирование выполняется внутри контейнера, а результаты сохраняются в Вашем проекте</li>
<li>Ручные команды Docker не требуются - расширение обрабатывает все автоматически</li>
</ul>
<p><strong>Пример конфигурации Docker:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#ide-vscode-sca-__codelineno-4-1"></a><span class="p">{</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#ide-vscode-sca-__codelineno-4-2"></a><span class="w">  </span><span class="nt">&quot;codescoringSca.installationType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;docker&quot;</span><span class="p">,</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#ide-vscode-sca-__codelineno-4-3"></a><span class="w">  </span><span class="nt">&quot;codescoringSca.dockerImage&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;johnny-depp:2025.29.0&quot;</span><span class="p">,</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#ide-vscode-sca-__codelineno-4-4"></a><span class="w">  </span><span class="nt">&quot;codescoringSca.dockerRegistry&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sample-codescoring-registry.com&quot;</span><span class="p">,</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#ide-vscode-sca-__codelineno-4-5"></a><span class="w">  </span><span class="nt">&quot;codescoringSca.dockerOptions&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#ide-vscode-sca-__codelineno-4-6"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Устранение неполадок с установкой Docker:</strong></p>
<ul>
<li><strong>"Docker not found"</strong>: Убедитесь, что Docker установлен и команда <code>docker</code> находится в Вашем PATH</li>
<li><strong>Permission denied</strong>: Добавьте Вашего пользователя в группу docker: <code>sudo usermod -aG docker $USER</code></li>
<li><strong>Image pull failed</strong>: Проверьте учетные данные реестра и сетевое подключение</li>
<li><strong>Container exits immediately</strong>: Проверьте панель вывода VS Code для получения подробных сообщений об ошибках</li>
</ul>
<h3 id="ide-vscode-sca-5">Шаг 5: Запустите первое сканирование<a class="headerlink" href="#ide-vscode-sca-5" title="Permanent link">&para;</a></h3>
<p>Теперь, когда расширение настроено, вы можете запустить первое сканирование уязвимых зависимостей:</p>
<h4 id="ide-vscode-sca-1_1">Метод 1: Использование боковой панели<a class="headerlink" href="#ide-vscode-sca-1_1" title="Permanent link">&para;</a></h4>
<ol>
<li>Откройте папку проекта в VS Code</li>
<li>Нажмите на иконку CodeScoring в панели действий</li>
<li>В боковой панели "CODESCORING: CODESCORING SCA" нажмите кнопку <strong>"Run Scan"</strong></li>
</ol>
<p><img alt="Снимок экрана кнопки Run Scan в боковой панели" src="/assets/img/ide/vscode/step5-1-panel-scan-button.png" /></p>
<h4 id="ide-vscode-sca-2">Метод 2: Использование палитры команд<a class="headerlink" href="#ide-vscode-sca-2" title="Permanent link">&para;</a></h4>
<ol>
<li>Нажмите <code>Ctrl+Shift+P</code> (или <code>Cmd+Shift+P</code> на MacOS), чтобы открыть палитру команд</li>
<li>Введите "Run Johnny CLI Scan"</li>
<li>Выберите <strong>"CodeScoring SCA: Run Johnny CLI Scan"</strong> из списка</li>
</ol>
<p><img alt="Снимок экрана палитры команд с выделенной командой сканирования" src="/assets/img/ide/vscode/step5-2-run-from-command-palette.png" /></p>
<h4 id="ide-vscode-sca-3">Метод 3: Использование строки состояния<a class="headerlink" href="#ide-vscode-sca-3" title="Permanent link">&para;</a></h4>
<ol>
<li>Посмотрите на нижнюю строку состояния VS Code</li>
<li>Найдите индикатор <strong>"CodeScoring CLI"</strong></li>
<li>Нажмите на него, чтобы открыть меню Johnny CLI</li>
<li>Выберите <strong>"Run Johnny CLI Scan"</strong> из списка</li>
</ol>
<p><img alt="Снимок экрана строки состояния VS Code с индикатором CodeScoring CLI" src="/assets/img/ide/vscode/step5-3-run-from-status-bar.png" /></p>
<h3 id="ide-vscode-sca-6">Шаг 6: Тонкая настройка конфигурации сканирования<a class="headerlink" href="#ide-vscode-sca-6" title="Permanent link">&para;</a></h3>
<p>После завершения сканирования вы увидите новый каталог <code>.codescoring</code>, содержащий:</p>
<ol>
<li><code>config.yaml</code> - файл конфигурации для Johnny CLI, вы можете прочитать о нем <a href="#agent-config">в этом разделе</a>. Вы можете
   менять этот файл, так как он никогда не будет перезаписан.</li>
<li><code>report.html</code> - отчет, сгенерированный в формате html, содержащий вывод Johnny CLI в формате цветной таблицы.
   Перезаписывается во время каждого сканирования.</li>
<li><code>bom.json</code> - файл результатов сканирования, созданный Johnny CLI в формате cyclone-dx 1.6, он будет загружен
   автоматически и показан в панели уязвимостей для любой открытой в VSCode директории, в которой существует
   .codescoring/bom.json</li>
<li><code>bom.json.N</code> - где N - это ревизия сканирования, т.е. 0 - предыдущее сканирование, а 5 (например) - самое первое
   сканирование, и bom.json.0 будет использоваться для сравнения с bom.json (и показан в дереве DIFF), если он
   существует на момент открытия новой папки</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#ide-vscode-sca-__codelineno-5-1"></a>your-project/
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#ide-vscode-sca-__codelineno-5-2"></a>├── .codescoring/
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#ide-vscode-sca-__codelineno-5-3"></a>│   ├── config.yaml       # Конфигурация сканирования
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#ide-vscode-sca-__codelineno-5-4"></a>│   ├── report.html       # Последний отчет сканирования
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#ide-vscode-sca-__codelineno-5-5"></a>│   ├── bom.json          # Текущие уязвимости
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#ide-vscode-sca-__codelineno-5-6"></a>│   ├── bom.json.0        # Предыдущее сканирование (сравнение)
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#ide-vscode-sca-__codelineno-5-7"></a>│   └── bom.json.1        # Более старые сканирования...
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#ide-vscode-sca-__codelineno-5-8"></a>├── package.json          # Ваши зависимости
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#ide-vscode-sca-__codelineno-5-9"></a>└── ... Ваш код ...
</code></pre></div>
<h4 id="ide-vscode-sca-codescoring">Пример использования конфигурации сканирования CodeScoring<a class="headerlink" href="#ide-vscode-sca-codescoring" title="Permanent link">&para;</a></h4>
<p>Отредактируйте <code>.codescoring/config.yaml</code> для настройки:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#ide-vscode-sca-__codelineno-6-1"></a><span class="nt">scan</span><span class="p">:</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#ide-vscode-sca-__codelineno-6-2"></a><span class="w">  </span><span class="nt">general</span><span class="p">:</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#ide-vscode-sca-__codelineno-6-3"></a><span class="w">    </span><span class="nt">ignore</span><span class="p">:</span><span class="w"> </span><span class="c1"># Директории для пропуска</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#ide-vscode-sca-__codelineno-6-4"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">node_modules</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#ide-vscode-sca-__codelineno-6-5"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">.git</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#ide-vscode-sca-__codelineno-6-6"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#ide-vscode-sca-__codelineno-6-7"></a><span class="w">    </span><span class="nt">with-hashes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"> </span><span class="c1"># Включить хеши файлов для точного сопоставления</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#ide-vscode-sca-__codelineno-6-8"></a><span class="w">    </span><span class="nt">only-hashes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"> </span><span class="c1"># Использовать только обнаружение на основе хешей</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#ide-vscode-sca-__codelineno-6-9"></a><span class="w">  </span><span class="nt">dir</span><span class="p">:</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#ide-vscode-sca-__codelineno-6-10"></a><span class="w">    </span><span class="nt">no-recursion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"> </span><span class="c1"># Предотвращает рекурсивное сканирование корневой директории</span>
</code></pre></div>
<h3 id="ide-vscode-sca-7">Шаг 7: Просмотр результатов сканирования<a class="headerlink" href="#ide-vscode-sca-7" title="Permanent link">&para;</a></h3>
<p>После завершения сканирования:</p>
<ol>
<li><strong>Проверьте уведомления</strong>: Посмотрите на уведомления в правом нижнем углу VS Code, нажав на <strong>"View Report"</strong>
   <img alt="Снимок экрана уведомления о завершении сканирования" src="/assets/img/ide/vscode/step6-1-scan-complete.png" /></li>
<li><strong>Откройте дерево уязвимостей</strong> (открывается само по умолчанию): Используйте кнопку <strong>"Open Vulnerabilities View"</strong>
   из боковой панели</li>
<li><strong>Просмотрите уязвимости</strong>: Панель уязвимостей покажет все обнаруженные проблемы безопасности в Ваших зависимостях</li>
<li><strong>Изучите детали</strong>: Вы можете нажимать на отдельные уязвимости, чтобы увидеть подробную информацию</li>
<li><strong>Примените исправления</strong>: Используйте опции быстрого исправления для обновления уязвимых зависимостей</li>
<li><strong>Откройте панель алертов</strong>: Используйте кнопку <strong>Open Alerts View</strong> в боковом меню плагина для открытия окна со списком алертов по сработавшим политикам</li>
</ol>
<p><img alt="Снимок экрана панели уязвимостей, показывающей обнаруженные проблемы с уровнями критичности" src="/assets/img/ide/vscode/step6-2-vulnerabilities.png" /></p>
<h4 id="ide-vscode-sca-71">7.1 Подсветка уязвимостей<a class="headerlink" href="#ide-vscode-sca-71" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Подсветка в коде</strong>: Уязвимые зависимости подсвечиваются по мере ввода</li>
<li><strong>Цвета критичности</strong>:<ul>
<li>🔴 Критический (красный)</li>
<li>🟠 Высокий (оранжевый)</li>
<li>🟡 Средний (желтый)</li>
<li>🔵 Низкий (синий)</li>
</ul>
</li>
<li><strong>Поддержка нескольких файлов</strong>: Работает со всеми поддерживаемыми типами файлов</li>
<li><strong>Наведите курсор</strong> на подсвеченные зависимости, чтобы увидеть детали уязвимостей</li>
</ul>
<h4 id="ide-vscode-sca-72">7.2 Информация при наведении<a class="headerlink" href="#ide-vscode-sca-72" title="Permanent link">&para;</a></h4>
<p>При наведении курсора на подсвеченные зависимости отображается:</p>
<ul>
<li><strong>Идентификатор уязвимости</strong>: Номер CVE со ссылкой</li>
<li><strong>Критичность</strong>: Оценка CVSSv3 и уровень</li>
<li><strong>Описание</strong>: Что затрагивает уязвимость</li>
<li><strong>Ссылки на источники</strong>: Информация об официальной регистрации уязвимости, патчах, эксплойтах и прочем</li>
<li><strong>Быстрое исправление</strong>: Опция обновления в один клик</li>
</ul>
<p><img alt="Скриншот кода с выделенными уязвимыми зависимостями" src="/assets/img/ide/vscode/step6-3-code-hover-highlighting.png" /></p>
<h4 id="ide-vscode-sca-73">7.3 Панель уязвимостей<a class="headerlink" href="#ide-vscode-sca-73" title="Permanent link">&para;</a></h4>
<p><strong>7.3.1 Структура древовидного представления</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#ide-vscode-sca-__codelineno-7-1"></a>📊 Уязвимости (247)
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#ide-vscode-sca-__codelineno-7-2"></a>├── 🔴 Критические (12)
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#ide-vscode-sca-__codelineno-7-3"></a>│   ├── CVE-2023-1234 - Удаленное выполнение кода
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#ide-vscode-sca-__codelineno-7-4"></a>│   │   ├── lodash@4.17.20 → 4.17.21
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#ide-vscode-sca-__codelineno-7-5"></a>│   │   └── package.json:15
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#ide-vscode-sca-__codelineno-7-6"></a>│   └── ...
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#ide-vscode-sca-__codelineno-7-7"></a>├── 🟠 Высокие (45)
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#ide-vscode-sca-__codelineno-7-8"></a>├── 🟡 Средние (89)
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#ide-vscode-sca-__codelineno-7-9"></a>└── 🔵 Низкие (101)
</code></pre></div>
<p><strong>7.3.2 Опции группировки</strong></p>
<ul>
<li>Используйте панель уязвимостей для фильтрации по критичности, пакету или другим критериям</li>
<li>Группируйте уязвимости по различным категориям для лучшей организации</li>
</ul>
<p>Изменение группировки через кнопку панели инструментов или команду:</p>
<ul>
<li><strong>По критичности -&gt; Расположению</strong> (по умолчанию): По уровню критичности, подгруппировка по пакету</li>
<li><strong>По критичности -&gt; Пакету (PURL)</strong>: По уровню критичности, подгруппировка по имени пакета в алфавитном порядке</li>
<li><strong>По расположению</strong>: Группировка по пути к файлу</li>
<li><strong>По пакету (PURL)</strong>: Группировка по пакету</li>
</ul>
<p><img alt="Скриншот опций группировки панели уязвимостей" src="/assets/img/ide/vscode/step6-4-group.png" /></p>
<h4 id="ide-vscode-sca-74">7.4 Поиск и фильтрация<a class="headerlink" href="#ide-vscode-sca-74" title="Permanent link">&para;</a></h4>
<p><strong>Возможности поиска</strong></p>
<ul>
<li><strong>Несколько полей</strong>: Поиск по:<ul>
<li>Имени пакета (например, "lodash")</li>
<li>Идентификатору CVE (например, "CVE-2023")</li>
<li>Пути к файлу (например, "frontend/")</li>
<li>Уровню критичности</li>
</ul>
</li>
<li><strong>Нечеткое сопоставление</strong>: Находит частичные совпадения, если не используются кавычки</li>
<li><strong>Точное совпадение</strong>: Используйте кавычки</li>
<li><strong>Без учета регистра</strong>: Не требуется точный регистр</li>
</ul>
<p><img alt="Скриншот опций фильтрации панели уязвимостей" src="/assets/img/ide/vscode/step6-4-search.png" /></p>
<h4 id="ide-vscode-sca-75">7.5 Быстрые исправления<a class="headerlink" href="#ide-vscode-sca-75" title="Permanent link">&para;</a></h4>
<p><strong>Быстрые исправления</strong></p>
<ul>
<li>Нажмите на предлагаемые обновления версий при наведении мышкой на уязвимый компонент, чтобы автоматически обновить на
  последнюю версию зависимости</li>
<li>При нажатии <code>Ctrl+.</code> (<code>Cmd+.</code> на MacOS), когда курсор находится на уязвимом компоненте, Вам предложится выбрать
  конкретную версию для обновления (при наличии нескольких)</li>
</ul>
<p><strong>Индивидуальные исправления</strong></p>
<ul>
<li>Наведите курсор мыши на уязвимую зависимость</li>
<li>Нажмите на предлагаемую версию во всплывающей подсказке</li>
<li>После обновления Вы увидите сообщение об успешном изменении</li>
</ul>
<p>или</p>
<ul>
<li>Наведите курсор клавиатуры на уязвимую зависимость</li>
<li>Нажмите <code>Ctrl+.</code> (<code>Cmd+.</code> на MacOS)</li>
<li>Выберите подходящую версию из списка, если их несколько
  <img alt="Снимок экрана всплывающего окна предложения быстрого исправления" src="/assets/img/ide/vscode/step7-quick-fix-ctrl-period.png" /></li>
</ul>
<p>или</p>
<ul>
<li><strong>Кнопка Fix Selected</strong>: Выберите один уязвимый компонент или уязвимость, принадлежащую этому компоненту, и компонент
  будет обновлен до последней безопасной версии</li>
</ul>
<p><strong>Массовые исправления</strong></p>
<ul>
<li><strong>Кнопка Fix All</strong>: Обновляет все уязвимые компоненты с доступными исправлениями, видимые в данный момент в дереве,
  при этом учитывает примененные фильтры (установленные с помощью кнопки с лупой на панели инструментов)</li>
</ul>
<h4 id="ide-vscode-sca-76-bom">7.6 Работа с файлами BOM<a class="headerlink" href="#ide-vscode-sca-76-bom" title="Permanent link">&para;</a></h4>
<p><strong>Автозагрузка</strong></p>
<p>Расширение автоматически загружает файлы BOM из:</p>
<ol>
<li><code>.codescoring/bom.json</code> (основной)</li>
<li><code>bom.json</code> (корневой каталог)</li>
</ol>
<p><strong>Ручные операции</strong></p>
<ul>
<li><strong>Загрузить BOM</strong>: <code>Ctrl+Shift+P</code> (или <code>Cmd+Shift+P</code> на MacOS) → "Load BOM File"</li>
<li><strong>Закрыть BOM</strong>: Очищает все данные об уязвимостях и освобождает память</li>
</ul>
<h4 id="ide-vscode-sca-77-bom">7.7 Сравнение BOM<a class="headerlink" href="#ide-vscode-sca-77-bom" title="Permanent link">&para;</a></h4>
<p>Сравнивается полный состав всех компонентов, а не только уязвимых. С помощью сравнения можно увидеть различия в полном перечне
используемых компонентов и отследить изменения версий. При этом старые версии компонентов будут показаны как удаленные, а новые -
как добавленные. Чтобы удобнее было отслеживать изменения в версиях компонентов, можно сгруппировать их по имени пакета (см ниже).</p>
<p><strong>Автоматическое сравнение</strong></p>
<p>При открытии проекта:</p>
<ul>
<li>Загружает текущий BOM (<code>bom.json</code>)</li>
<li>Сравнивает с предыдущим (<code>bom.json.0</code>)</li>
<li>Показывает уведомление об изменениях</li>
</ul>
<p><strong>Ручное сравнение при открытом BOM</strong></p>
<ol>
<li>Имеется загруженный BOM (целевой)</li>
<li>Выполните команду "Compare BOMs"</li>
<li>Выберите базовый файл BOM</li>
<li>Отобразится результат сравнения в панели DIFF</li>
</ol>
<p><strong>Ручное сравнение двух произвольных BOM</strong></p>
<ol>
<li>Закройте BOM при необходимости</li>
<li>Выполните команду "Compare BOMs"</li>
<li>Выберите базовый файл BOM для сравнения</li>
<li>Выберите целевой файл BOM для сравнения с базовым</li>
<li>Отобразится результат сравнения в панели DIFF</li>
</ol>
<p><strong>Представления сравнения</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#ide-vscode-sca-__codelineno-8-1"></a>📊 BOM DIFF (Изменения: 23 добавлено, 15 удалено, 45 обновлено, 73 без изменений)
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#ide-vscode-sca-__codelineno-8-2"></a>├── ➕ Добавлено (23)
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#ide-vscode-sca-__codelineno-8-3"></a>│   ├── [ADDED] react@18.1.3 0 уязвимостей
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#ide-vscode-sca-__codelineno-8-4"></a>│   └── ...
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#ide-vscode-sca-__codelineno-8-5"></a>├── ➖ Удалено (15)
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#ide-vscode-sca-__codelineno-8-6"></a>├── 🔄 Обновлено (45)
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#ide-vscode-sca-__codelineno-8-7"></a>│   ├── [UPDATED] lodash: 4.17.20
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#ide-vscode-sca-__codelineno-8-8"></a>│   └── ...
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#ide-vscode-sca-__codelineno-8-9"></a>└── ✓ Без изменений (73)
</code></pre></div>
<p><strong>Опции группировки сравнения</strong></p>
<ul>
<li><strong>По типу изменения</strong>: Добавлено/Удалено/Обновлено/Без изменений (примечание: обновлено означает, что количество
  уязвимостей было обновлено для компонента)</li>
<li><strong>По пакету</strong>: Алфавитная группировка пакетов без версии. Это наиболее полезная группировка для просмотра обновленных
  компонентов (добавленная версия и удаленная версия будут сгруппированы вместе)</li>
<li><strong>По расположению</strong>: Группировка по пути к файлу</li>
<li><strong>По критичности</strong>: Группировка по влиянию уязвимости</li>
</ul>
<p><img alt="Снимок экрана дерева сравнения bom с развернутой группировкой сравнения" src="/assets/img/ide/vscode/step6-comparison-grouping.png" /></p>
<p><strong>Фильтрация сравнения</strong></p>
<p>Вы также можете искать/фильтровать дерево BOM DIFF, чтобы сосредоточиться на интересующих Вас компонентах. Чтобы
очистить поиск, нажмите кнопку "Clear Comparison Search" в правом верхнем углу BOM DIFF.</p>
<h4 id="ide-vscode-sca-78">7.8 Отчеты<a class="headerlink" href="#ide-vscode-sca-78" title="Permanent link">&para;</a></h4>
<p><strong>Отчеты сканирования</strong></p>
<ul>
<li><strong>Автоматически генерируются</strong>: Создаются после каждого сканирования</li>
<li><strong>Расположение</strong>: <code>.codescoring/report.html</code></li>
<li><strong>Формат</strong>: Цветной HTML</li>
<li><strong>Содержимое</strong>:<ul>
<li>Статус сканирования</li>
<li>Выполненная команда</li>
<li>Сводка результатов</li>
<li>Найденные уязвимости</li>
<li>Предупреждения от политик</li>
<li>Сообщения об ошибках</li>
</ul>
</li>
</ul>
<p><strong>Просмотр отчетов</strong></p>
<ul>
<li><strong>Команда</strong>: "View Latest Scan Report"</li>
<li><strong>Открывается в</strong>: Предварительном просмотре HTML в VS Code</li>
<li>Адаптируется к выбранной цветовой схеме VSCode в момент генерации</li>
</ul>
<h4 id="ide-vscode-sca-79">7.9 Панель алертов<a class="headerlink" href="#ide-vscode-sca-79" title="Permanent link">&para;</a></h4>
<p>В панели <strong>Alerts</strong> представлена информация по алертам для сработавших политик по итогам анализа. Для каждого алерта показывается:
- Название политики
- Уровень алерта
- Статус блокировки
- Список пакетов с критериями</p>
<h3 id="ide-vscode-sca-8">Шаг 8: Настройки и кастомизация<a class="headerlink" href="#ide-vscode-sca-8" title="Permanent link">&para;</a></h3>
<p><strong>Список доступных настроек</strong></p>
<table>
<thead>
<tr>
<th>Настройка</th>
<th>Описание</th>
<th>По умолчанию</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>apiUrl</code></td>
<td>Ваш URL с установленной CodeScoring</td>
<td></td>
</tr>
<tr>
<td><code>apiToken</code></td>
<td>API токен. Безопасно сохраняется</td>
<td><em>(устанавливается командой)</em></td>
</tr>
<tr>
<td><code>platformType</code></td>
<td>local или docker</td>
<td><code>local</code></td>
</tr>
<tr>
<td><code>johnnyCliPath</code></td>
<td>Путь к Johnny CLI (пустой для автозагрузки)</td>
<td><em>(автозагрузка)</em></td>
</tr>
<tr>
<td><code>dockerImage</code></td>
<td>Имя docker образа c Johnny CLI</td>
<td><code>johnny-depp:2025.29.0</code></td>
</tr>
<tr>
<td><code>dockerRegistry</code></td>
<td>Реестр с образом Johnny CLI</td>
<td><em>(предоставляется заботой)</em></td>
</tr>
<tr>
<td><code>dockerOptions</code></td>
<td>Дополнительные опции docker</td>
<td></td>
</tr>
<tr>
<td><code>enableHighlighting</code></td>
<td>Показывать подсветку в коде</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>enableHover</code></td>
<td>Показывать всплывающие подсказки</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>enableQuickFixes</code></td>
<td>Разрешить исправления в один клик</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>showVulnerabilityHeaders</code></td>
<td>Отображать заголовки для колонок уязвимостей</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>paginationSize</code></td>
<td>Количество элементов на странице</td>
<td><code>100</code></td>
</tr>
<tr>
<td><code>batchProcessingSize</code></td>
<td>Количество элементов для обработки за раз</td>
<td><code>100</code></td>
</tr>
<tr>
<td><code>severityColors</code></td>
<td>Пользовательское сопоставление цветов</td>
<td><em>(цвета по умолчанию)</em></td>
</tr>
</tbody>
</table>
<p><strong>Горячие клавиши</strong></p>
<p>Настройте в параметрах VS Code, например:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#ide-vscode-sca-__codelineno-9-1"></a><span class="p">{</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#ide-vscode-sca-__codelineno-9-2"></a><span class="w">  </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ctrl+shift+s&quot;</span><span class="p">,</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#ide-vscode-sca-__codelineno-9-3"></a><span class="w">  </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;codescoring-sca.runJohnnyCLI&quot;</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#ide-vscode-sca-__codelineno-9-4"></a><span class="p">}</span>
</code></pre></div>
<h3 id="ide-vscode-sca-_7">Устранение неполадок<a class="headerlink" href="#ide-vscode-sca-_7" title="Permanent link">&para;</a></h3>
<h4 id="ide-vscode-sca-_8">Логи расширения<a class="headerlink" href="#ide-vscode-sca-_8" title="Permanent link">&para;</a></h4>
<ul>
<li>Для подробного понимания шагов функциональности проверьте лог файл расширения, расположенный:<ul>
<li>Windows: <code>%USERPROFILE%\.vscode\extensions\codescoring-sca-[version]\out\logs\extension.log</code></li>
<li>macOS/Linux: <code>~/.vscode/extensions/codescoring-sca-[version]/out/logs/extension.log</code></li>
</ul>
</li>
</ul>
<h4 id="ide-vscode-sca-_9">Распространенные проблемы<a class="headerlink" href="#ide-vscode-sca-_9" title="Permanent link">&para;</a></h4>
<p><strong>Проблемы сканирования</strong></p>
<table>
<thead>
<tr>
<th>Проблема</th>
<th>Решение</th>
</tr>
</thead>
<tbody>
<tr>
<td>Сканирование зависает</td>
<td>Попробуйте запустить файл cli вручную, убедитесь, что операционная система и антивирус позволяют ему работать, проверьте интернет-соединение, проверьте токен API</td>
</tr>
<tr>
<td>Нет результатов</td>
<td>Убедитесь, что проект имеет файлы зависимостей, проверьте вывод report.html</td>
</tr>
<tr>
<td>Частичные результаты</td>
<td>Проверьте шаблоны игнорирования в конфигурации</td>
</tr>
</tbody>
</table>
<p><strong>Проблемы отображения</strong></p>
<table>
<thead>
<tr>
<th>Проблема</th>
<th>Решение</th>
</tr>
</thead>
<tbody>
<tr>
<td>Нет подсветки</td>
<td>Включите в настройках, перезагрузите окно</td>
</tr>
<tr>
<td>Неправильные цвета</td>
<td>Проверьте совместимость темы</td>
</tr>
<tr>
<td>Отсутствует панель</td>
<td>Вид → Открыть вид → Уязвимости</td>
</tr>
<tr>
<td>Не показываются всплывающие подсказки</td>
<td>Включите наведение в настройках</td>
</tr>
</tbody>
</table>
<p><strong>Проблемы исправления</strong></p>
<table>
<thead>
<tr>
<th>Проблема</th>
<th>Решение</th>
</tr>
</thead>
<tbody>
<tr>
<td>Исправление не удается</td>
<td>Проверьте права на запись</td>
</tr>
<tr>
<td>Неправильная версия</td>
<td>Вручную укажите в файле пакета</td>
</tr>
<tr>
<td>Ломает проект</td>
<td>Используйте контроль версий, откатитесь</td>
</tr>
<tr>
<td>Конфликты</td>
<td>Исправляйте по одному</td>
</tr>
</tbody>
</table>
<p>Свяжитесь с отделом заботы: <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#99;&#111;&#100;&#101;&#115;&#99;&#111;&#114;&#105;&#110;&#103;&#46;&#114;&#117;">&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#99;&#111;&#100;&#101;&#115;&#99;&#111;&#114;&#105;&#110;&#103;&#46;&#114;&#117;</a></p>
<h3 id="ide-vscode-sca-_10">Безопасность и конфиденциальность, обработка данных<a class="headerlink" href="#ide-vscode-sca-_10" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Локальное сканирование</strong>: Код не отправляется на серверы</li>
<li><strong>Связь с API</strong>: Передаются только метаданные (конфигурационные файлы Вашего пакетного менеджера)</li>
<li><strong>Хранение токенов</strong>: Безопасное хранилище учетных данных VS Code</li>
</ul>
<h3 id="ide-vscode-sca-_11">Рекомендации<a class="headerlink" href="#ide-vscode-sca-_11" title="Permanent link">&para;</a></h3>
<h4 id="ide-vscode-sca-_12">Рекомендации по рабочему процессу<a class="headerlink" href="#ide-vscode-sca-_12" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>Начальная настройка</strong>: Полное сканирование при запуске проекта</li>
<li><strong>Обзоры</strong>: Сравнивайте BOM между версиями</li>
<li>
<p><strong>CI/CD</strong>:</p>
</li>
<li>
<p><strong>Перед коммитом</strong>: Выполните полное сканирование</p>
</li>
<li><strong>Поделитесь конфигурацией</strong>: Закоммитьте <code>.codescoring/config.yaml</code></li>
<li><strong>Игнорируйте временные файлы</strong>: Добавьте в <code>.gitignore</code>:
  <div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#ide-vscode-sca-__codelineno-10-1"></a>.codescoring/report.html
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#ide-vscode-sca-__codelineno-10-2"></a>.codescoring/bom.json.*
</code></pre></div></li>
<li><strong>Отслеживайте основной BOM</strong>: Версионируйте <code>.codescoring/bom.json</code></li>
<li><strong>Стандартизируйте</strong>: Стандартизируйте настройки расширения</li>
</ol>
<h4 id="ide-vscode-sca-_13">Интеграция с процессами разработки<a class="headerlink" href="#ide-vscode-sca-_13" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Code Review</strong>:</p>
<ul>
<li>Проверяйте изменения зависимостей</li>
<li>Требуйте исправления критических уязвимостей</li>
<li>Документируйте принятые риски</li>
</ul>
</li>
<li>
<p><strong>Release Management</strong>:</p>
<ul>
<li>Генерируйте отчеты для каждого релиза</li>
<li>Отслеживайте улучшения безопасности</li>
<li>Планируйте обновления зависимостей</li>
</ul>
</li>
<li>
<p><strong>Compliance</strong>:</p>
<ul>
<li>Экспортируйте BOM для аудита</li>
<li>Отслеживайте лицензии компонентов</li>
<li>Поддерживайте историю сканирований</li>
</ul>
</li>
</ol></section><section class="print-page" id="ide-intellij-sca" heading-number="4.4.4.3"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#ide-intellij-sca.en">English</a></li>
</ul>
<h1 id="ide-intellij-sca-codescoringsca-intellij-based-ides">Плагин CodeScoring.SCA для IntelliJ based IDEs<a class="headerlink" href="#ide-intellij-sca-codescoringsca-intellij-based-ides" title="Permanent link">&para;</a></h1>
<p>Плагин предоставляет возможности анализа состава программного обеспечения (SCA) для IntelliJ IDEA и других IDE,
основанных на IntelliJ движке, подсвечивая уязвимые зависимости в файлах вашего проекта и предоставляя подробную
информацию об уязвимостях через интеграцию с Johnny CLI.</p>
<p>Плагин <strong>CodeScoring.SCA</strong> поддерживает версии IntelliJ IDEA <strong>2024.1</strong> и выше, а также все IDE на базе IntelliJ
Platform (OpenIDE, GIGA IDE, PyCharm, WebStorm, PhpStorm, RubyMine, GoLand, CLion, Rider, Android Studio).</p>
<h2 id="ide-intellij-sca-_1">Поддерживаемые экосистемы<a class="headerlink" href="#ide-intellij-sca-_1" title="Permanent link">&para;</a></h2>
<h3 id="ide-intellij-sca-_2">Языки и менеджеры пакетов<a class="headerlink" href="#ide-intellij-sca-_2" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Экосистема</th>
<th>Файлы манифеста</th>
<th>Сгенерированные файлы версий</th>
<th>Особенности</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Java/JVM</strong></td>
<td>pom.xml, <em>.gradle, </em>.gradle.kts, ivy.xml</td>
<td>gradle.lockfile, gradle-dependency-tree.txt, maven-dependency-tree.txt</td>
<td>Полная поддержка Maven и Gradle</td>
</tr>
<tr>
<td><strong>JavaScript/Node</strong></td>
<td>package.json</td>
<td>package-lock.json, yarn.lock, npm-shrinkwrap.json, pnpm-lock.yaml</td>
<td>NPM, Yarn, PNPM</td>
</tr>
<tr>
<td><strong>Python</strong></td>
<td>setup.py, pyproject.toml, pipfile</td>
<td>requirements.txt, requirements.pip, Pipfile.lock, poetry.lock</td>
<td>Pip, Poetry, Pipenv</td>
</tr>
<tr>
<td><strong>Ruby</strong></td>
<td>Gemfile, gems.rb, *.gemspec</td>
<td>Gemfile.lock, gems.locked</td>
<td>Bundler и RubyGems</td>
</tr>
<tr>
<td><strong>Go</strong></td>
<td>go.mod</td>
<td>go.sum</td>
<td>Go модули</td>
</tr>
<tr>
<td><strong>Rust</strong></td>
<td>Cargo.toml</td>
<td>Cargo.lock</td>
<td>Cargo</td>
</tr>
<tr>
<td><strong>PHP</strong></td>
<td>composer.json</td>
<td>composer.lock</td>
<td>Composer</td>
</tr>
<tr>
<td><strong>C#/.NET</strong></td>
<td><em>.csproj, packages.config, </em>.nuspec, paket.dependencies</td>
<td>packages.lock.json, project.assets.json, paket.lock, project.lock.json</td>
<td>NuGet и Paket</td>
</tr>
<tr>
<td><strong>Swift</strong></td>
<td>Package.swift</td>
<td>Package.resolved</td>
<td>Swift Package Manager</td>
</tr>
<tr>
<td><strong>Objective-C</strong></td>
<td>Podfile, *.podspec</td>
<td>Podfile.lock</td>
<td>CocoaPods для iOS/macOS</td>
</tr>
<tr>
<td><strong>C/C++</strong></td>
<td>conanfile.txt, conanfile.py</td>
<td>conan.lock</td>
<td>Conan менеджер пакетов</td>
</tr>
<tr>
<td><strong>Conda</strong></td>
<td>environment.yml, meta.yml, environment.yaml, meta.yaml</td>
<td>conda-lock.yml</td>
<td>Conda окружения</td>
</tr>
</tbody>
</table>
<h3 id="ide-intellij-sca-_3">Обнаружение файлов по умолчанию<a class="headerlink" href="#ide-intellij-sca-_3" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Автоматическое</strong>: Сканирует все поддерживаемые файлы</li>
<li><strong>Рекурсивное</strong>: Ищет в подкаталогах проекта</li>
</ul>
<p>Точная настройка сканирования производится с помощью модификации config.yaml файла</p>
<h2 id="ide-intellij-sca-_4">Начало работы<a class="headerlink" href="#ide-intellij-sca-_4" title="Permanent link">&para;</a></h2>
<h3 id="ide-intellij-sca-_5">Предварительные требования<a class="headerlink" href="#ide-intellij-sca-_5" title="Permanent link">&para;</a></h3>
<p>Перед началом убедитесь, что у вас есть:</p>
<ul>
<li>IntelliJ IDEA 2024.1 или новее (или любая совместимая поддерживаемая IDE на основе IntelliJ Platform)</li>
<li>Доступ к установке CodeScoring с активными учетными данными</li>
<li>Дистрибутив codescoring-intellij плагина (.zip файл)</li>
</ul>
<h3 id="ide-intellij-sca-_6">Требуемые разрешения<a class="headerlink" href="#ide-intellij-sca-_6" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Файловая система</strong>: Чтение файлов проекта, запись файлов .codescoring, загрузка исполняемого файла, выполнение
  загруженного CLI</li>
<li><strong>Сеть</strong>: Связь с CodeScoring API</li>
<li><strong>API VS Code</strong>: Интеграция с редактором</li>
</ul>
<h3 id="ide-intellij-sca-1">Шаг 1: Загрузите плагин<a class="headerlink" href="#ide-intellij-sca-1" title="Permanent link">&para;</a></h3>
<p>Плагин поставляется в виде файла <code>codescoring-intellij-&lt;version&gt;.zip</code>.</p>
<h3 id="ide-intellij-sca-2-zip">Шаг 2: Установите плагин из ZIP файла<a class="headerlink" href="#ide-intellij-sca-2-zip" title="Permanent link">&para;</a></h3>
<ol>
<li>Откройте IntelliJ based IDE</li>
<li>Перейдите в <strong>File</strong> → <strong>Settings</strong> (или <strong>\&lt;IDE Name&gt;</strong> → <strong>Preferences</strong> на macOS)</li>
<li>В диалоге настроек выберите <strong>Plugins</strong> в левой боковой панели</li>
<li>Нажмите на <strong>значок шестеренки (⚙)</strong> в верхней части панели плагинов</li>
<li>Выберите <strong>"Install Plugin from Disk..."</strong> из выпадающего меню
   <img alt="Скриншот диалога настроек IntelliJ с разделом Plugins и открытым меню шестеренки" src="/assets/img/ide/intellij/step2-1-install-plugin.png" /></li>
<li>Найдите место, куда вы загрузили файл <code>.zip</code></li>
<li>Выберите файл и нажмите <strong>"OK"</strong>
   <img alt="Скриншот диалога выбора файла ZIP" src="/assets/img/ide/intellij/step2-2-select-zip.png" /></li>
<li>Дождитесь завершения установки</li>
<li>Подтвердите установку плагина от CodeScoring
   <img alt="Скриншот диалога подтверждения установки стороннего плагина" src="/assets/img/ide/intellij/step2-3-accept-warning.png" /></li>
<li>Перезапустите IntelliJ based IDE при появлении запроса</li>
</ol>
<h3 id="ide-intellij-sca-3-codescoring">Шаг 3: Найдите плагин CodeScoring<a class="headerlink" href="#ide-intellij-sca-3-codescoring" title="Permanent link">&para;</a></h3>
<p>После установки и перезапуска вы должны увидеть окно инструментов CodeScoring.</p>
<p><img alt="Скриншот IntelliJ IDEA с видимым окном инструментов CodeScoring" src="/assets/img/ide/intellij/step3-1-tool-window.png" /></p>
<ol>
<li>Найдите вкладку окна инструментов <strong>"CodeScoring SCA"</strong> (обычно внизу или слева в IDE)</li>
<li>Если не видно, перейдите в <strong>View</strong> → <strong>Tool Windows</strong> → <strong>CodeScoring SCA</strong></li>
<li>Это откроет окно инструментов <strong>CodeScoring SCA</strong> с панелью Dashboard</li>
</ol>
<p><img alt="Скриншот окна инструментов CodeScoring SCA с панелью Dashboard" src="/assets/img/ide/intellij/step3-2-tool-window-panel.png" /></p>
<h3 id="ide-intellij-sca-4">Шаг 4: Настройте плагин<a class="headerlink" href="#ide-intellij-sca-4" title="Permanent link">&para;</a></h3>
<ol>
<li>В окне инструментов CodeScoring SCA нажмите кнопку <strong>"Settings"</strong> (значок шестеренки) на панели инструментов</li>
<li>Откроется страница настроек CodeScoring SCA</li>
</ol>
<p><img alt="Скриншот кнопки Settings на панели инструментов окна инструментов" src="/assets/img/ide/intellij/step4-1-settings-button.png" /></p>
<h4 id="ide-intellij-sca-41-url-api">4.1 Проверьте URL API<a class="headerlink" href="#ide-intellij-sca-41-url-api" title="Permanent link">&para;</a></h4>
<ol>
<li>В настройках найдите поле <strong>API URL</strong></li>
<li>Вам необходимо использовать URL CodeScoring, установленный в Вашей организации. При необходимости, обратитесь к
   администратору.</li>
</ol>
<p><img alt="Скриншот страницы настроек с полем API URL" src="/assets/img/ide/intellij/step4-2-api-url.png" /></p>
<h4 id="ide-intellij-sca-42-api">4.2 Сгенерируйте и установите токен API<a class="headerlink" href="#ide-intellij-sca-42-api" title="Permanent link">&para;</a></h4>
<ol>
<li>Откройте веб-браузер и перейдите по адресу: <code>&lt;API URL&gt;/cabinet/profile</code></li>
<li>Войдите в свою учетную запись CodeScoring</li>
<li>Убедитесь, что вы находитесь на странице своего профиля</li>
<li>Найдите поле <strong>"API token"</strong></li>
<li>Нажмите кнопку <strong>"Generate"</strong> рядом с полем токена API
   <img alt="Скриншот веб-интерфейса CodeScoring со страницей профиля с полем токена API и кнопкой Generate" src="/assets/img/ide/step4-3-generate-token.png" /></li>
<li>Скопируйте значение сгенерированного токена API</li>
<li>Вернитесь к настройкам IntelliJ-based IDE</li>
<li>Вставьте токен в поле <strong>"API Token"</strong></li>
<li>Нажмите <strong>"Validate Token"</strong> для проверки работы токена</li>
<li>Плагин должен отобразить подтверждение того, что токен действителен</li>
</ol>
<p><img alt="Скриншот уведомления об успешной валидации токена" src="/assets/img/ide/intellij/step4-4-token-validated.png" /></p>
<h4 id="ide-intellij-sca-43-johnny-cli">4.3 Загрузите Johnny CLI (Опционально)<a class="headerlink" href="#ide-intellij-sca-43-johnny-cli" title="Permanent link">&para;</a></h4>
<ol>
<li>Перейдите на страницу релизов: <code>&lt;API URL&gt;/download/</code> (обратите внимание на завершающую косую черту)</li>
<li>Загрузите последний релиз исполняемого файла в зависимости от вашей операционной системы</li>
</ol>
<p><img alt="Скриншот страницы релизов GitLab со ссылками для загрузки исполняемых файлов Johnny CLI" src="/assets/img/ide/intellij/step4-5-johnny-download.png" /></p>
<h4 id="ide-intellij-sca-44-johnny-cli">4.4 Настройте Johnny CLI<a class="headerlink" href="#ide-intellij-sca-44-johnny-cli" title="Permanent link">&para;</a></h4>
<p>Существует три способа получить Johnny CLI для анализа ваших зависимостей с помощью нашего сервиса.</p>
<p><strong>4.4.1 Локальная установка</strong></p>
<p><strong>Предварительные требования:</strong></p>
<ul>
<li>Johnny CLI должен быть загружен и файл сделан исполняемым в системе</li>
<li>Операционная система должна разрешать запуск исполняемого файла (для проверки запустите один раз файл в консоли с
  параметром --help вручную)</li>
</ul>
<p><strong>Шаги настройки:</strong></p>
<ol>
<li>
<p>Задайте тип установки Local</p>
</li>
<li>
<p>В настройках выберите <strong>"Local executable"</strong> в выпадающем списке <strong>Installation Type</strong></p>
</li>
<li>
<p>В поле <strong>Johnny CLI Path</strong> нажмите кнопку выбора папки</p>
</li>
<li>Перейдите к месту, куда вы ранее загрузили Johnny CLI</li>
<li>Выберите исполняемый файл Johnny CLI</li>
<li>Нажмите <strong>"OK"</strong> для сохранения настроек</li>
</ol>
<p><strong>Примечание:</strong> Если плагин спросит об изменении прав доступа к файлу (chmod +x), нажмите <strong>"Да"</strong>, чтобы разрешить
плагину сделать файл исполняемым.</p>
<p><img alt="Скриншот страницы настроек с конфигурацией пути Johnny CLI" src="/assets/img/ide/intellij/step4-5-johnny-path.png" /></p>
<p><strong>4.4.2 Автоматическая загрузка клиента</strong></p>
<p><strong>Предварительные требования:</strong></p>
<ul>
<li>Должен быть настроен API URL</li>
<li>Должен быть настроен токен API и валидация должна пройти успешно</li>
</ul>
<p><strong>Шаги настройки:</strong></p>
<ol>
<li>
<p>Установите тип установки на Local</p>
</li>
<li>
<p>В настройках выберите <strong>"Local executable"</strong> в выпадающем списке <strong>Installation Type</strong></p>
</li>
<li>
<p>Оставьте поле <strong>Johnny CLI Path</strong> пустым</p>
</li>
<li>Теперь при первом запросе сканирования Johnny CLI будет загружен с API URL. Это позволит Вам автоматически получить
   обновление клиента, как только оно будет доступно.
   Загруженный клиент будет сохранен в следующем месте:<ul>
<li><strong>Linux</strong>/<strong>MacOS</strong>: <code>~/.codescoring/johnny</code></li>
<li><strong>Windows</strong>: <code>%USERPROFILE%\.codescoring\johnny.exe</code></li>
</ul>
</li>
</ol>
<p><strong>4.4.3 Использование Docker</strong></p>
<p>Установка Docker позволяет запускать Johnny CLI в изолированном контейнере, что полезно, когда вы не хотите
устанавливать его непосредственно в вашей системе.</p>
<p><strong>Предварительные требования:</strong></p>
<ul>
<li>Docker должен быть установлен и запущен в вашей системе</li>
<li>Ваш пользователь должен иметь права на выполнение команд Docker</li>
</ul>
<p><strong>Шаги настройки:</strong></p>
<ol>
<li>
<p>Установите тип установки на Docker</p>
</li>
<li>
<p>В настройках выберите <strong>"Docker"</strong> в выпадающем списке <strong>Installation Type</strong></p>
</li>
<li>
<p>Настройте Docker образ</p>
</li>
<li>
<p><strong>Docker Image</strong>: <code>johnny-depp:2025.29.0</code> (по умолчанию)</p>
</li>
<li><strong>Docker Registry</strong>: <code>&lt;адрес-реестра-кодскоринг&gt;</code></li>
<li>
<p>Пример полного пути к образу: <code>sample-codescoring-registry.com/johnny-depp:2025.29.0</code></p>
</li>
<li>
<p><strong>Опционально: Дополнительные опции Docker</strong>
   Добавьте пользовательские опции запуска Docker при необходимости в поле <strong>Additional Docker Options</strong>:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#ide-intellij-sca-__codelineno-0-1"></a>--memory=2g --cpus=2
</code></pre></div></p>
</li>
</ol>
<p><strong>Как это работает:</strong></p>
<ul>
<li>Клиент автоматически монтирует каталог вашего проекта в контейнер</li>
<li>Сканирование выполняется внутри контейнера, а результаты сохраняются в вашем проекте</li>
<li>Ручные команды Docker не требуются - плагин обрабатывает все автоматически</li>
</ul>
<p><strong>Устранение неполадок с установкой Docker:</strong></p>
<ul>
<li><strong>"Docker not found"</strong>: Убедитесь, что Docker установлен и команда <code>docker</code> находится в вашем PATH</li>
<li><strong>Permission denied</strong>: Добавьте вашего пользователя в группу docker: <code>sudo usermod -aG docker $USER</code></li>
<li><strong>Image pull failed</strong>: Проверьте учетные данные реестра и сетевое подключение</li>
<li><strong>Container exits immediately</strong>: Проверьте Event Log для получения подробных сообщений об ошибках</li>
</ul>
<h3 id="ide-intellij-sca-5">Шаг 5: Запустите первое сканирование<a class="headerlink" href="#ide-intellij-sca-5" title="Permanent link">&para;</a></h3>
<p>Теперь, когда плагин настроен, вы можете запустить первое сканирование зависимостей:</p>
<h4 id="ide-intellij-sca-1-dashboard">Метод 1: Использование dashboard<a class="headerlink" href="#ide-intellij-sca-1-dashboard" title="Permanent link">&para;</a></h4>
<ol>
<li>Откройте проект в IntelliJ-based IDE</li>
<li>Откройте окно инструментов CodeScoring SCA</li>
<li>В панели Dashboard нажмите кнопку <strong>"Run Scan"</strong></li>
</ol>
<p>!<img alt="Скриншот кнопки Run Scan в панели Dashboard" src="/assets/img/ide/intellij/step5-1-dashboard-scan-button.png" /></p>
<h4 id="ide-intellij-sca-2">Метод 2: Использование главного меню<a class="headerlink" href="#ide-intellij-sca-2" title="Permanent link">&para;</a></h4>
<ol>
<li>Перейдите в <strong>Tools</strong> → <strong>CodeScoring SCA</strong> → <strong>Run Scan</strong></li>
</ol>
<p><img alt="Скриншот главного меню с опциями CodeScoring SCA" src="/assets/img/ide/intellij/step5-2-menu-scan.png" /></p>
<h4 id="ide-intellij-sca-3">Метод 3: Использование панели инструментов<a class="headerlink" href="#ide-intellij-sca-3" title="Permanent link">&para;</a></h4>
<ol>
<li>Найдите вкладку плагина <strong>CodeScoring SCA</strong> и ее главную панель инструментов</li>
<li>Нажмите кнопку <strong>"Run Scan"</strong> (см скриншот из метода 1)</li>
</ol>
<h3 id="ide-intellij-sca-6">Шаг 6: Тонкая настройка конфигурации сканирования<a class="headerlink" href="#ide-intellij-sca-6" title="Permanent link">&para;</a></h3>
<p>После завершения сканирования вы увидите новый каталог <code>.codescoring</code>, содержащий:</p>
<ol>
<li><strong>config.yaml</strong> - файл конфигурации для Johnny CLI, вы можете прочитать о нем <a href="#agent-config">в этом разделе</a>. Вы
   можете менять этот файл, так как он никогда не будет перезаписан.</li>
<li><strong>donotfix.yaml</strong> - файл конфигурации со списком шаблонов имен файлов, которые должны быть исключены из действий
   Quick Fix. Вы можете изменять этот файл.</li>
<li><strong>report.html</strong> - отчет, сгенерированный в формате html, содержащий вывод Johnny CLI в формате цветной таблицы.
   Перезаписывается во время каждого сканирования.</li>
<li><strong>bom.json</strong> - файл результатов сканирования, созданный Johnny CLI в формате cyclone-dx 1.6, он будет загружен
   автоматически и показан в панели уязвимостей для любого открытого в IntelliJ-based IDE проекта, в котором существует
   .codescoring/bom.json</li>
<li><strong>bom.json.N</strong> - где N - это ревизия сканирования, т.е. 0 - предыдущее сканирование, а 5 (например) - самое первое
   сканирование, и bom.json.0 будет использоваться для сравнения с bom.json (и показан в дереве DIFF), если он
   существует на момент открытия проекта</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#ide-intellij-sca-__codelineno-1-1"></a>your-project/
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#ide-intellij-sca-__codelineno-1-2"></a>├── .codescoring/
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#ide-intellij-sca-__codelineno-1-3"></a>│   ├── config.yaml       # Конфигурация сканирования
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#ide-intellij-sca-__codelineno-1-4"></a>│   ├── donotfix.yaml     # Конфигурация QuickFix
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#ide-intellij-sca-__codelineno-1-5"></a>│   ├── report.html       # Последний отчет сканирования
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#ide-intellij-sca-__codelineno-1-6"></a>│   ├── bom.json          # Текущие уязвимости
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#ide-intellij-sca-__codelineno-1-7"></a>│   ├── bom.json.0        # Предыдущее сканирование (сравнение)
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#ide-intellij-sca-__codelineno-1-8"></a>│   └── bom.json.1        # Более старые сканирования...
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#ide-intellij-sca-__codelineno-1-9"></a>├── pom.xml              # Ваши зависимости
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#ide-intellij-sca-__codelineno-1-10"></a>└── ... ваш код ...
</code></pre></div>
<h4 id="ide-intellij-sca-codescoring">Пример использования конфигурации сканирования CodeScoring<a class="headerlink" href="#ide-intellij-sca-codescoring" title="Permanent link">&para;</a></h4>
<p>Отредактируйте <code>.codescoring/config.yaml</code> для настройки:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#ide-intellij-sca-__codelineno-2-1"></a><span class="nt">scan</span><span class="p">:</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#ide-intellij-sca-__codelineno-2-2"></a><span class="w">  </span><span class="nt">general</span><span class="p">:</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#ide-intellij-sca-__codelineno-2-3"></a><span class="w">    </span><span class="nt">ignore</span><span class="p">:</span><span class="w"> </span><span class="c1"># Директории для пропуска</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#ide-intellij-sca-__codelineno-2-4"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">target</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#ide-intellij-sca-__codelineno-2-5"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">build</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#ide-intellij-sca-__codelineno-2-6"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">.idea</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#ide-intellij-sca-__codelineno-2-7"></a><span class="w">    </span><span class="nt">with-hashes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"> </span><span class="c1"># Включить хеши файлов для точного сопоставления</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#ide-intellij-sca-__codelineno-2-8"></a><span class="w">    </span><span class="nt">only-hashes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"> </span><span class="c1"># Использовать только обнаружение на основе хешей</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#ide-intellij-sca-__codelineno-2-9"></a><span class="w">  </span><span class="nt">dir</span><span class="p">:</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#ide-intellij-sca-__codelineno-2-10"></a><span class="w">    </span><span class="nt">no-recursion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"> </span><span class="c1"># Предотвращает рекурсивное сканирование корневой директории</span>
</code></pre></div>
<h4 id="ide-intellij-sca-quick-fix">Настройка исключений Quick Fix<a class="headerlink" href="#ide-intellij-sca-quick-fix" title="Permanent link">&para;</a></h4>
<p>Файл <code>.codescoring/donotfix.yml</code> контролирует, какие файлы не должны быть изменены действиями Quick Fix. Это особенно
полезно для сгенерированных файлов (таких как lock-файлы), которые должны быть перегенерированы, а не исправлены
вручную.</p>
<p><strong>Пример использования конфигурации исключений QuickFix:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#ide-intellij-sca-__codelineno-3-1"></a><span class="c1"># Lock-файлы и сгенерированные файлы, которые не должны быть изменены напрямую</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#ide-intellij-sca-__codelineno-3-2"></a><span class="nt">patterns</span><span class="p">:</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#ide-intellij-sca-__codelineno-3-3"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">go.sum</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#ide-intellij-sca-__codelineno-3-4"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">package-lock.json</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#ide-intellij-sca-__codelineno-3-5"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">yarn.lock</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#ide-intellij-sca-__codelineno-3-6"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Cargo.lock</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#ide-intellij-sca-__codelineno-3-7"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">composer.lock</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#ide-intellij-sca-__codelineno-3-8"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;*.generated.*&quot;</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#ide-intellij-sca-__codelineno-3-9"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;**/generated/**&quot;</span>
</code></pre></div>
<p><strong>Синтаксис шаблонов:</strong></p>
<ul>
<li>Точное имя файла: <code>go.sum</code></li>
<li>Шаблоны с подстановочными знаками: <code>*.lock</code>, <code>*-lock.json</code></li>
<li>Шаблоны директорий: <code>**/node_modules/**</code></li>
<li>Несколько расширений: <code>*.{lock,generated}</code></li>
</ul>
<p>Файл создается автоматически при:</p>
<ul>
<li>Первом сканировании в проекте</li>
<li>Открытии проекта с существующей директорией <code>.codescoring</code>, но без <code>donotfix.yml</code></li>
</ul>
<p><strong>Примечание:</strong> Файлы, соответствующие этим шаблонам, все равно будут сканироваться на наличие уязвимостей и показаны в
результатах, но действия Quick Fix (как индивидуальные, так и массовые) будут их пропускать. Пользователи должны
перегенерировать эти файлы, используя команды их менеджера пакетов.</p>
<h3 id="ide-intellij-sca-7">Шаг 7: Просмотр результатов сканирования<a class="headerlink" href="#ide-intellij-sca-7" title="Permanent link">&para;</a></h3>
<p>После завершения сканирования:</p>
<ol>
<li><strong>Проверьте уведомления</strong>: Посмотрите на уведомления в правом нижнем углу IntelliJ-based IDE, нажав на <strong>"View
   Report"</strong> и <strong>"See details in Vulnerabilities view""</strong>
   <img alt="Скриншот уведомления о завершении сканирования" src="/assets/img/ide/intellij/step7-1-scan-complete.png" /></li>
<li><strong>Откройте дерево уязвимостей</strong>: Окно плагина автоматически переключится на панель <strong>Vulnerabilities</strong></li>
<li><strong>Просмотрите уязвимости</strong>: Панель уязвимостей покажет все обнаруженные проблемы безопасности в Ваших зависимостях</li>
<li><strong>Изучите детали</strong>: Вы можете нажимать на отдельные уязвимости, чтобы увидеть подробную информацию в панели деталей</li>
<li><strong>Примените исправления</strong>: Используйте кнопки <strong>"Fix All"</strong> или <strong>"Fix Selected"</strong> или отдельные быстрые исправления
   для обновления уязвимых зависимостей</li>
<li><strong>Просмотр алертов</strong>: Вы можете нажать на панель <strong>Alerts</strong> для просмотра алертов по сработавшим политикам</li>
</ol>
<p><img alt="Скриншот панели уязвимостей, показывающей обнаруженные проблемы с уровнями критичности" src="/assets/img/ide/intellij/step7-2-vulnerabilities.png" /></p>
<h4 id="ide-intellij-sca-71">7.1 Подсветка уязвимостей<a class="headerlink" href="#ide-intellij-sca-71" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Подсветка в коде</strong>: Уязвимые зависимости подсвечиваются прямо в файлах кода (<code>build.gradle</code>, <code>pom.xml</code>,
  <code>package.json</code> и т.д.)</li>
<li><strong>Цвета критичности</strong>:<ul>
<li>🔴 Критический (красный)</li>
<li>🟠 Высокий (оранжевый)</li>
<li>🟡 Средний (желтый)</li>
<li>🔵 Низкий (синий)</li>
</ul>
</li>
<li><strong>Поддержка нескольких файлов</strong>: Работает со всеми поддерживаемыми типами файлов</li>
<li><strong>Наведите курсор</strong> на подсвеченные зависимости, чтобы увидеть детали уязвимостей</li>
</ul>
<p><img alt="Скриншот кода с выделенными уязвимыми зависимостями" src="/assets/img/ide/intellij/step7-3-code-highlighting.png" /></p>
<h4 id="ide-intellij-sca-72">7.2 Информация при наведении<a class="headerlink" href="#ide-intellij-sca-72" title="Permanent link">&para;</a></h4>
<p>При наведении курсора на подсвеченные зависимости отображается:</p>
<ul>
<li><strong>Идентификатор уязвимости</strong>: Номер CVE со ссылкой</li>
<li><strong>Критичность</strong>: Оценка CVSSv3 и уровень</li>
<li><strong>Описание</strong>: Что делает уязвимость</li>
<li><strong>Ссылки на источники</strong>: Информация об официальной регистрации уязвимости</li>
<li><strong>Рекомендации</strong>: Предлагаемые версии для обновления</li>
<li><strong>Быстрое исправление</strong>: Опция обновления в один клик</li>
</ul>
<h4 id="ide-intellij-sca-73">7.3 Панель уязвимостей<a class="headerlink" href="#ide-intellij-sca-73" title="Permanent link">&para;</a></h4>
<p><strong>7.3.1 Структура дерева</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#ide-intellij-sca-__codelineno-4-1"></a>📊 Уязвимости (247)
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#ide-intellij-sca-__codelineno-4-2"></a>├── 🔴 Критические (12)
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#ide-intellij-sca-__codelineno-4-3"></a>│   ├── CVE-2023-1234 - Удаленное выполнение кода
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#ide-intellij-sca-__codelineno-4-4"></a>│   │   ├── lodash@4.17.20
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#ide-intellij-sca-__codelineno-4-5"></a>│   │   └── pom.xml:15
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#ide-intellij-sca-__codelineno-4-6"></a>│   └── ...
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#ide-intellij-sca-__codelineno-4-7"></a>├── 🟠 Высокие (45)
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#ide-intellij-sca-__codelineno-4-8"></a>├── 🟡 Средние (89)
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#ide-intellij-sca-__codelineno-4-9"></a>└── 🔵 Низкие (101)
</code></pre></div>
<p><strong>7.3.2 Опции группировки</strong></p>
<ul>
<li>Используйте панель уязвимостей для фильтрации по критичности, пакету или другим критериям</li>
<li>Группируйте уязвимости по различным категориям для лучшей организации</li>
</ul>
<p>Изменение группировки через кнопку панели инструментов или команду:</p>
<ul>
<li><strong>По критичности → Местоположению → Компоненту</strong> (по умолчанию): По уровню критичности, подгруппировка по файлу и
  затем по пакету</li>
<li><strong>По критичности → Компоненту</strong>: По уровню критичности, подгруппировка по имени пакета в алфавитном порядке</li>
<li><strong>По местоположению → Компоненту</strong>: Группировка по пути к файлу</li>
<li><strong>По имени компонента → Компоненту</strong>: Группировка разных версий одного и того же пакета вместе в алфавитном порядке</li>
<li><strong>По компоненту</strong>: По компоненту (с версией, если известна)</li>
</ul>
<p><img alt="Скриншот опций группировки панели уязвимостей" src="/assets/img/ide/intellij/step7-4-grouping.png" /></p>
<h4 id="ide-intellij-sca-74">7.4 Поиск и фильтрация<a class="headerlink" href="#ide-intellij-sca-74" title="Permanent link">&para;</a></h4>
<p><strong>Возможности поиска</strong></p>
<ul>
<li><strong>Несколько полей</strong>: Поиск по:<ul>
<li>Имени пакета (например, "lodash")</li>
<li>Идентификатору CVE (например, "CVE-2023")</li>
<li>Пути к файлу (например, "frontend/")</li>
<li>Уровню критичности</li>
</ul>
</li>
<li><strong>Нечеткое сопоставление</strong>: Находит частичные совпадения</li>
<li><strong>Точное совпадение</strong>: Ищет точное совпадение слова в кавычках</li>
<li><strong>Без учета регистра</strong>: Не требуется точный регистр</li>
</ul>
<p><strong>Панель инструментов поиска</strong>
Для поиска и фильтрации в плагине имеются:</p>
<ul>
<li><strong>Поле поиска</strong>: Для ввода поисковых запросов</li>
<li><strong>Кнопка очистки</strong>: Сброс поиска</li>
<li><strong>Индикатор результатов</strong>: Показывает количество найденных элементов первым элементом дерева уязвимых компонентов</li>
</ul>
<h4 id="ide-intellij-sca-75">7.5 Быстрые исправления<a class="headerlink" href="#ide-intellij-sca-75" title="Permanent link">&para;</a></h4>
<p><strong>Быстрые исправления в коде</strong></p>
<ul>
<li><strong>Лампочка IntelliJ</strong>: Нажмите на лампочку рядом с уязвимой зависимостью</li>
</ul>
<p>или</p>
<ul>
<li><strong>Alt+Enter</strong> (<strong>⌥ + Enter</strong> на MacOS): Используйте горячую клавишу, когда курсор находится на уязвимой зависимости</li>
</ul>
<p>или</p>
<ul>
<li><strong>Update vulnerable dependency</strong> внизу на всплывающей карточке уязвимого компонента</li>
</ul>
<p>или</p>
<ul>
<li>кнопка <strong>Fix Selected</strong> на панели инструментов,</li>
</ul>
<p>а затем</p>
<ul>
<li><strong>Выберите версию</strong>: Если доступно несколько безопасных версий, выберите подходящую</li>
</ul>
<p><img alt="Скриншот опций быстрого исправления" src="/assets/img/ide/intellij/step7-5-quick-fixes.png" /></p>
<p><strong>Массовые исправления (не работает при группировках по критичности)</strong></p>
<ul>
<li><strong>Кнопка Fix All</strong>: Обновляет все уязвимые компоненты с доступными исправлениями</li>
<li><strong>Интеллектуальное обновление</strong>: Автоматически выбирает наиболее подходящую безопасную версию</li>
<li><strong>Отчет об изменениях</strong>: Показывает, сколько зависимостей были обновлены</li>
<li><strong>Исключения</strong>: Учитывает шаблоны, определенные в <code>.codescoring/donotfix.yml</code></li>
</ul>
<p><img alt="Скриншот кнопки Fix All" src="/assets/img/ide/intellij/step7-5-fix-all.png" /></p>
<h4 id="ide-intellij-sca-76-bom">7.6 Работа с файлами BOM<a class="headerlink" href="#ide-intellij-sca-76-bom" title="Permanent link">&para;</a></h4>
<p><strong>Автозагрузка</strong>
Плагин автоматически загружает файлы BOM из:</p>
<ol>
<li><code>.codescoring/bom.json</code> (основной)</li>
<li><code>bom.json</code> (корневой каталог проекта)</li>
</ol>
<p><strong>Ручные операции</strong></p>
<ul>
<li><strong>Загрузить BOM</strong>: <strong>Tools</strong> → <strong>CodeScoring SCA</strong> → <strong>Load BOM File</strong></li>
<li><strong>Закрыть BOM</strong>: <strong>Tools</strong> → <strong>CodeScoring SCA</strong> → <strong>Close BOM</strong></li>
</ul>
<h4 id="ide-intellij-sca-77-bom">7.7 Сравнение BOM<a class="headerlink" href="#ide-intellij-sca-77-bom" title="Permanent link">&para;</a></h4>
<p>Сравнивается полный состав всех компонентов, а не только уязвимых. С помощью сравнения можно увидеть различия в полном
перечне
используемых компонентов и отследить изменения версий. При этом старые версии компонентов будут показаны как удаленные,
а новые -
как добавленные. Чтобы удобнее было отслеживать изменения в версиях компонентов, можно сгруппировать их по имени
пакета (см ниже).</p>
<p><strong>Автоматическое сравнение</strong>
При открытии проекта:</p>
<ul>
<li>Загружает текущий BOM (<code>bom.json</code>)</li>
<li>Сравнивает с предыдущим (<code>bom.json.0</code>)</li>
<li>Показывает уведомление об изменениях</li>
</ul>
<p><strong>Ручное сравнение</strong></p>
<ol>
<li>Выберите <strong>Tools</strong> → <strong>CodeScoring SCA</strong> → <strong>Compare BOMs</strong></li>
<li>Выберите базовый файл BOM</li>
<li>Если BOM уже загружен, он будет использован как целевой</li>
<li>Если BOM не загружен, выберите целевой файл</li>
<li>Отобразится результат сравнения в панели DIFF</li>
</ol>
<p><img alt="Скриншот функции сравнения BOM" src="/assets/img/ide/intellij/step7-6-bom-comparison.png" /></p>
<p><strong>Представления сравнения</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#ide-intellij-sca-__codelineno-5-1"></a>📊 BOM DIFF (Изменения: 23 добавлено, 15 удалено, 45 обновлено, 73 без изменений)
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#ide-intellij-sca-__codelineno-5-2"></a>├── ➕ Добавлено (23)
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#ide-intellij-sca-__codelineno-5-3"></a>│   ├── [ADDED] react@18.1.3 0 уязвимостей
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#ide-intellij-sca-__codelineno-5-4"></a>│   └── ...
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#ide-intellij-sca-__codelineno-5-5"></a>├── ➖ Удалено (15)
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#ide-intellij-sca-__codelineno-5-6"></a>├── 🔄 Обновлено (45)
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#ide-intellij-sca-__codelineno-5-7"></a>│   ├── [UPDATED] lodash: 4.17.20
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#ide-intellij-sca-__codelineno-5-8"></a>│   └── ...
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#ide-intellij-sca-__codelineno-5-9"></a>└── ✓ Без изменений (73)
</code></pre></div>
<p><strong>Опции группировки сравнения</strong></p>
<ul>
<li><strong>По типу изменения</strong>: Добавлено/Удалено/Обновлено/Без изменений (по умолчанию)</li>
<li><strong>По пакету</strong>: Алфавитная группировка пакетов, наиболее полезный вид группировки для отслеживания изменившихся версий
  пакетов</li>
<li><strong>По расположению</strong>: Группировка по пути к файлу</li>
<li><strong>По критичности</strong>: Группировка по влиянию уязвимости</li>
</ul>
<p><strong>Фильтрация сравнения</strong></p>
<p>Используйте поле поиска для фильтрации результатов сравнения по:</p>
<ul>
<li>Имени пакета</li>
<li>Типу изменения</li>
<li>Пути к файлу</li>
</ul>
<h4 id="ide-intellij-sca-78">7.8 Отчеты<a class="headerlink" href="#ide-intellij-sca-78" title="Permanent link">&para;</a></h4>
<p><strong>Отчеты сканирования</strong></p>
<ul>
<li><strong>Автоматически генерируются</strong>: Создаются после каждого сканирования</li>
<li><strong>Расположение</strong>: <code>.codescoring/report.html</code></li>
<li><strong>Формат</strong>: Цветной HTML с подробной информацией</li>
<li><strong>Содержимое</strong>:<ul>
<li>Статус сканирования</li>
<li>Выполненная команда</li>
<li>Сводка результатов</li>
<li>Найденные уязвимости</li>
<li>Предупреждения от политик</li>
<li>Сообщения об ошибках</li>
</ul>
</li>
</ul>
<p><strong>Просмотр отчетов</strong></p>
<ul>
<li><strong>Команда</strong>: <strong>Tools</strong> → <strong>CodeScoring SCA</strong> → <strong>View Report</strong></li>
<li><strong>Открывается в</strong>: на выбор, внешний браузер, внутренний предпросмотр, редактор кода</li>
</ul>
<h4 id="ide-intellij-sca-79">7.9 Панель алертов<a class="headerlink" href="#ide-intellij-sca-79" title="Permanent link">&para;</a></h4>
<p>В панели <strong>Alerts</strong> представлена информация по алертам для сработавших политик по итогам анализа. Для каждого алерта показывается:
- Название политики
- Уровень алерта
- Статус блокировки
- Список пакетов с критериями</p>
<h3 id="ide-intellij-sca-8">Шаг 8: Настройки и кастомизация<a class="headerlink" href="#ide-intellij-sca-8" title="Permanent link">&para;</a></h3>
<h4 id="ide-intellij-sca-_7">Список доступных настроек<a class="headerlink" href="#ide-intellij-sca-_7" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Настройка</th>
<th>Описание</th>
<th>По умолчанию</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>API Configuration</strong></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>API URL</code></td>
<td>URL вашей установки CodeScoring</td>
<td></td>
</tr>
<tr>
<td><code>API Token</code></td>
<td>API токен. Безопасно сохраняется</td>
<td><em>(устанавливается через UI)</em></td>
</tr>
<tr>
<td><strong>platform Settings</strong></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>platform Type</code></td>
<td>Local executable или Docker</td>
<td><code>Local executable</code></td>
</tr>
<tr>
<td><code>Path to Johnny CLI</code></td>
<td>Путь к Johnny CLI (пустой для автозагрузки)</td>
<td><em>(автозагрузка)</em></td>
</tr>
<tr>
<td><code>Docker Image</code></td>
<td>Имя Docker образа</td>
<td><code>johnny-depp:2025.29.0</code></td>
</tr>
<tr>
<td><code>Docker Registry</code></td>
<td>Реестр Docker</td>
<td><em>(предоставляется заботой)</em></td>
</tr>
<tr>
<td><code>Additional Docker Options</code></td>
<td>Дополнительные опции Docker</td>
<td></td>
</tr>
<tr>
<td><strong>UI Settings</strong></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>Enable vulnerability inspections</code></td>
<td>Включить инспекции кода</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>Enable quick fixes for vulnerable dependencies</code></td>
<td>Разрешить быстрые исправления</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>Automatically scan projects on open</code></td>
<td>Запускать сканирование при открытии проекта</td>
<td><code>true</code></td>
</tr>
<tr>
<td><strong>Severity Colors</strong></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>Critical Color</code></td>
<td>Цвет для критических уязвимостей</td>
<td><em>(красный)</em></td>
</tr>
<tr>
<td><code>High Color</code></td>
<td>Цвет для высоких уязвимостей</td>
<td><em>(оранжевый)</em></td>
</tr>
<tr>
<td><code>Medium Color</code></td>
<td>Цвет для средних уязвимостей</td>
<td><em>(желтый)</em></td>
</tr>
<tr>
<td><code>Low Color</code></td>
<td>Цвет для низких уязвимостей</td>
<td><em>(синий)</em></td>
</tr>
<tr>
<td><code>Unknown Color</code></td>
<td>Цвет для неизвестной критичности</td>
<td><em>(серый)</em></td>
</tr>
</tbody>
</table>
<h3 id="ide-intellij-sca-_8">Устранение неполадок<a class="headerlink" href="#ide-intellij-sca-_8" title="Permanent link">&para;</a></h3>
<h4 id="ide-intellij-sca-_9">Логи плагина<a class="headerlink" href="#ide-intellij-sca-_9" title="Permanent link">&para;</a></h4>
<ul>
<li>Для подробного понимания работы плагина проверьте логи IDE:<ul>
<li><strong>Help</strong> → <strong>Show Log in Explorer/Finder</strong></li>
<li>Ищите записи с "CodeScoring" в <code>idea.log</code></li>
</ul>
</li>
</ul>
<h4 id="ide-intellij-sca-_10">Распространенные проблемы<a class="headerlink" href="#ide-intellij-sca-_10" title="Permanent link">&para;</a></h4>
<p><strong>Проблемы установки</strong></p>
<table>
<thead>
<tr>
<th>Проблема</th>
<th>Решение</th>
</tr>
</thead>
<tbody>
<tr>
<td>Плагин не виден после установки</td>
<td>Полностью перезапустите IntelliJ-based IDE, проверьте <strong>Settings</strong> → <strong>Plugins</strong></td>
</tr>
<tr>
<td>Ошибка совместимости</td>
<td>Убедитесь, что версия IDE 2024.1 или новее, убедитесь в отсутствии проблем в лог файле</td>
</tr>
<tr>
<td>Установка зависает</td>
<td>Проверьте подключение к интернету, попробуйте установить заново</td>
</tr>
</tbody>
</table>
<p><strong>Проблемы конфигурации</strong></p>
<table>
<thead>
<tr>
<th>Проблема</th>
<th>Решение</th>
</tr>
</thead>
<tbody>
<tr>
<td>Поля настройки не отображаются</td>
<td>Возможно, несовместимая IDE, проверьте версию и тип IDE, загляните в лог-файлы IDE</td>
</tr>
<tr>
<td>Валидация токена не удается</td>
<td>Проверьте URL API, сгенерируйте новый токен, проверьте прокси/VPN</td>
</tr>
<tr>
<td>Johnny CLI не найден</td>
<td>Проверьте путь, права доступа, антивирус</td>
</tr>
<tr>
<td>Docker не работает</td>
<td>Убедитесь, что Docker запущен, проверьте права пользователя</td>
</tr>
</tbody>
</table>
<p><strong>Проблемы сканирования</strong></p>
<table>
<thead>
<tr>
<th>Проблема</th>
<th>Решение</th>
</tr>
</thead>
<tbody>
<tr>
<td>Сканирование зависает</td>
<td>Проверьте Event Log, попробуйте запустить Johnny CLI вручную.</td>
</tr>
<tr>
<td>Нет результатов</td>
<td>Убедитесь, что проект содержит файлы зависимостей</td>
</tr>
<tr>
<td>Частичные результаты</td>
<td>Проверьте конфигурацию в .codescoring/config.yaml</td>
</tr>
<tr>
<td>Ошибки токена</td>
<td>Проверьте срок действия токена, права доступа</td>
</tr>
</tbody>
</table>
<p><strong>Проблемы отображения</strong></p>
<table>
<thead>
<tr>
<th>Проблема</th>
<th>Решение</th>
</tr>
</thead>
<tbody>
<tr>
<td>Нет подсветки</td>
<td>Включите в настройках, перезагрузите файлы</td>
</tr>
<tr>
<td>Неправильные цвета</td>
<td>Проверьте настройки цветов критичности</td>
</tr>
<tr>
<td>Отсутствует панель</td>
<td><strong>View</strong> → <strong>Tool Windows</strong> → <strong>CodeScoring SCA</strong></td>
</tr>
<tr>
<td>Медленная работа</td>
<td>Уменьшите размер пагинации в настройках</td>
</tr>
</tbody>
</table>
<p><strong>Проблемы исправления</strong></p>
<table>
<thead>
<tr>
<th>Проблема</th>
<th>Решение</th>
</tr>
</thead>
<tbody>
<tr>
<td>Исправление не удается</td>
<td>Проверьте права на запись файлов</td>
</tr>
<tr>
<td>Исправление игнорируется</td>
<td>Проверьте логи плагина и .codescoring/donotfix.yml</td>
</tr>
<tr>
<td>Неправильная версия</td>
<td>Вручную укажите версию в файле</td>
</tr>
<tr>
<td>Конфликты версий</td>
<td>Исправляйте по одному компоненту</td>
</tr>
<tr>
<td>Откат изменений</td>
<td>Используйте систему контроля версий</td>
</tr>
</tbody>
</table>
<h4 id="ide-intellij-sca-_11">Получение помощи<a class="headerlink" href="#ide-intellij-sca-_11" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>Проверьте Event Log</strong>: <strong>View</strong> → <strong>Tool Windows</strong> → <strong>Event Log</strong></li>
<li><strong>Включите debug логи</strong>:<ul>
<li><strong>Help</strong> → <strong>Diagnostic Tools</strong> → <strong>Debug Log Settings</strong></li>
<li>Добавьте <code>com.codescoring.intellij</code></li>
</ul>
</li>
<li><strong>Отчеты об ошибках</strong>: Просмотрите <code>.codescoring/report.html</code> для деталей сканирования</li>
</ol>
<p>Свяжитесь с отделом заботы: <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#99;&#111;&#100;&#101;&#115;&#99;&#111;&#114;&#105;&#110;&#103;&#46;&#114;&#117;">&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#99;&#111;&#100;&#101;&#115;&#99;&#111;&#114;&#105;&#110;&#103;&#46;&#114;&#117;</a></p>
<h3 id="ide-intellij-sca-_12">Безопасность и конфиденциальность, обработка данных<a class="headerlink" href="#ide-intellij-sca-_12" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Локальное сканирование</strong>: Код не отправляется на серверы</li>
<li><strong>Связь с API</strong>: Передаются только метаданные (конфигурационные файлы Вашего пакетного менеджера)</li>
<li><strong>Хранение токенов</strong>: Безопасное хранилище учетных данных VS Code</li>
</ul>
<h3 id="ide-intellij-sca-_13">Рекомендации<a class="headerlink" href="#ide-intellij-sca-_13" title="Permanent link">&para;</a></h3>
<h4 id="ide-intellij-sca-_14">Рекомендации по рабочему процессу<a class="headerlink" href="#ide-intellij-sca-_14" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>Начальная настройка</strong>: Полное сканирование при запуске проекта</li>
<li><strong>Обзоры</strong>: Сравнивайте BOM между версиями</li>
<li><strong>CI/CD</strong>:<ul>
<li><strong>Перед коммитом</strong>: Выполните полное сканирование</li>
<li><strong>Поделитесь конфигурацией</strong>: Закоммитьте <code>.codescoring/config.yaml</code> и <code>.codescoring/donotfix.yaml</code></li>
<li><strong>Игнорируйте временные файлы</strong>: Добавьте в <code>.gitignore</code>:</li>
</ul>
</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#ide-intellij-sca-__codelineno-6-1"></a>  .codescoring/report.html
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#ide-intellij-sca-__codelineno-6-2"></a>  .codescoring/bom.json.*
</code></pre></div>
<div class="highlight"><pre><span></span><code>- **Отслеживайте основной BOM**: Версионируйте `.codescoring/bom.json`
- **Стандартизируйте**: Стандартизируйте настройки плагина
</code></pre></div>
<h4 id="ide-intellij-sca-_15">Интеграция с процессами разработки<a class="headerlink" href="#ide-intellij-sca-_15" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Code Review</strong>:</p>
<ul>
<li>Проверяйте изменения зависимостей</li>
<li>Требуйте исправления критических уязвимостей</li>
<li>Документируйте принятые риски</li>
</ul>
</li>
<li>
<p><strong>Release Management</strong>:</p>
<ul>
<li>Генерируйте отчеты для каждого релиза</li>
<li>Отслеживайте улучшения безопасности</li>
<li>Планируйте обновления зависимостей</li>
</ul>
</li>
<li>
<p><strong>Compliance</strong>:</p>
<ul>
<li>Экспортируйте BOM для аудита</li>
<li>Отслеживайте лицензии компонентов</li>
<li>Поддерживайте историю сканирований</li>
</ul>
</li>
</ol>
<h4 id="ide-intellij-sca-lock-">Работа с Lock-файлами<a class="headerlink" href="#ide-intellij-sca-lock-" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Понимание Lock-файлов</strong>:</p>
<ul>
<li>Lock-файлы генерируются менеджерами пакетов</li>
<li>Они не должны редактироваться вручную</li>
<li>Изменения должны вноситься в файлы манифестов</li>
</ul>
</li>
<li>
<p><strong>Поведение Quick Fix</strong>:</p>
<ul>
<li>Файлы, соответствующие шаблонам <code>donotfix.yml</code>, пропускаются</li>
<li>Обновите файлы манифестов, затем перегенерируйте lock-файлы</li>
<li>Используйте соответствующие команды менеджера пакетов, например:<ul>
<li><strong>Go</strong>: <code>go mod tidy</code></li>
<li><strong>NPM</strong>: <code>npm install</code></li>
<li><strong>Yarn</strong>: <code>yarn install</code></li>
<li><strong>Cargo</strong>: <code>cargo update</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Рекомендации</strong>:</p>
<ul>
<li>Просмотрите <code>donotfix.yaml</code> и настройте шаблоны по необходимости</li>
<li>Документируйте ваш процесс перегенерации</li>
<li>Автоматизируйте обновления lock-файлов в CI/CD</li>
</ul>
</li>
</ol></section></section>
                    <section class='print-page md-section' id='section-4-4-5' heading-number='4.4.5'>
                        <h1>Работа с зависимостями<a class='headerlink' href='#section-4-4-5' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="dependencies" heading-number="4.4.5.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#dependencies-index.en">English</a></li>
</ul>
<h1 id="dependencies-_1">Работа с зависимостями<a class="headerlink" href="#dependencies-_1" title="Permanent link">&para;</a></h1>
<p>В отдельных случаях при работе с зависимостями требуются дополнительные действия для улучшения точности композиционного анализа.</p>
<p>В этом разделе собраны инструкции и лучшие практики по работе с зависимостями в разных экосистемах, а также описание работы CodeScoring в нестандартных сценариях обработки зависимостей.</p></section><section class="print-page" id="dependencies-java" heading-number="4.4.5.2"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#dependencies-java.en">English</a></li>
</ul>
<h1 id="dependencies-java-java">Работа с зависимостями в Java<a class="headerlink" href="#dependencies-java-java" title="Permanent link">&para;</a></h1>
<h2 id="dependencies-java-apache-maven">Apache Maven:<a class="headerlink" href="#dependencies-java-apache-maven" title="Permanent link">&para;</a></h2>
<h3 id="dependencies-java-maven-dependency-treetxt">Создание файла <code>maven-dependency-tree.txt</code><a class="headerlink" href="#dependencies-java-maven-dependency-treetxt" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#dependencies-java-__codelineno-0-1"></a>mvn dependency:tree -DoutputFile=maven-dependency-tree.txt
</code></pre></div>
<h2 id="dependencies-java-gradle">Gradle:<a class="headerlink" href="#dependencies-java-gradle" title="Permanent link">&para;</a></h2>
<h3 id="dependencies-java-gradle-dependency-treetxt">Создание файла <code>gradle-dependency-tree.txt</code><a class="headerlink" href="#dependencies-java-gradle-dependency-treetxt" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#dependencies-java-__codelineno-1-1"></a>./gradlew<span class="w"> </span>dependencies<span class="w"> </span>&gt;<span class="w"> </span>gradle-dependency-tree.txt
</code></pre></div>
<h3 id="dependencies-java-gradle-dependency-treetxt-">Создание файла <code>gradle-dependency-tree.txt</code> для мульти-проектных сборок<a class="headerlink" href="#dependencies-java-gradle-dependency-treetxt-" title="Permanent link">&para;</a></h3>
<p>Для анализа зависимостей в Gradle-проектах Johnny использует файл <code>gradle-dependency-tree.txt</code>. В обычных проектах он формируется автоматически. Однако в мульти-проектных сборках его корректное построение возможно только при наличии в проекте специальной задачи с ожидаемым именем.</p>
<p>Для получения всех зависимостей в таком случае необходимо произвести следующие действия:</p>
<h3 id="dependencies-java-_1">Связывание манифестов<a class="headerlink" href="#dependencies-java-_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Если в директории находится build.gradle и gradle.lockfile без совпадения по имени они будут состыкованы;</li>
<li>При наличии в одной директории всех трёх манифестов (build.gradle, gradle.lockfile, gradle-dependency-tree.txt) приоритет при связыванию отдаётся gradle-dependency-tree, gradle.lockfile в этом случае разбирается отдельно;</li>
<li>При наличии в одной директории нескольких лок-файлов для одного build.gradle без совпадения по имени для связывания будет использован любой из них. Остальные лок-файлы разбираются отдельно.</li>
</ul>
<h4 id="dependencies-java-groovy">Groovy<a class="headerlink" href="#dependencies-java-groovy" title="Permanent link">&para;</a></h4>
<p>Добавить в файл <code>build.gradle</code> код:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#dependencies-java-__codelineno-2-1"></a>subprojects {
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#dependencies-java-__codelineno-2-2"></a>    task CodeScoring_All_Dependencies(type: DependencyReportTask) {}
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#dependencies-java-__codelineno-2-3"></a>}
</code></pre></div>
<h4 id="dependencies-java-kotlin">Kotlin<a class="headerlink" href="#dependencies-java-kotlin" title="Permanent link">&para;</a></h4>
<p>Добавить в файл <code>build.gradle.kts</code> код:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#dependencies-java-__codelineno-3-1"></a>subprojects {
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#dependencies-java-__codelineno-3-2"></a>    tasks.register&lt;DependencyReportTask&gt;(&quot;CodeScoring_All_Dependencies&quot;){}
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#dependencies-java-__codelineno-3-3"></a>}
</code></pre></div>
<p>После этого выполнить команду:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#dependencies-java-__codelineno-4-1"></a>./gradlew<span class="w"> </span>CodeScoring_All_Dependencies<span class="w"> </span>&gt;<span class="w"> </span>gradle-dependency-tree.txt
</code></pre></div>
<p>После создания артефактов необходимо применить команду консольного агента <a href="#agent-scan-file">scan file</a> для полученного результатов сканирования, например:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#dependencies-java-__codelineno-5-1"></a>./johnny<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#dependencies-java-__codelineno-5-2"></a>scan<span class="w"> </span>file<span class="w"> </span>./gradle-dependency-tree.txt<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#dependencies-java-__codelineno-5-3"></a>--api_token<span class="w"> </span>&lt;api_token&gt;<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#dependencies-java-__codelineno-5-4"></a>--api_url<span class="w"> </span>&lt;api_url&gt;
</code></pre></div></section><section class="print-page" id="dependencies-scala" heading-number="4.4.5.3"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#dependencies-scala.en">English</a></li>
</ul>
<h1 id="dependencies-scala-scala">Работа с зависимостями в Scala<a class="headerlink" href="#dependencies-scala-scala" title="Permanent link">&para;</a></h1>
<h2 id="dependencies-scala-sbt">sbt<a class="headerlink" href="#dependencies-scala-sbt" title="Permanent link">&para;</a></h2>
<h3 id="dependencies-scala-scala-dependency-treetxt-sbt-dependency-treetxt">Создание файлов <code>scala-dependency-tree.txt</code> или <code>sbt-dependency-tree.txt</code><a class="headerlink" href="#dependencies-scala-scala-dependency-treetxt-sbt-dependency-treetxt" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>Настройка ширины графа зависимостей</strong></p>
<p>Чтобы сгенерировать полный граф зависимостей добавьте следующую строку в файл <code>build.sbt</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#dependencies-scala-__codelineno-0-1"></a><span class="nc">ThisBuild</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">asciiGraphWidth</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">999999999</span>
</code></pre></div>
<p>Альтернативно, можно установить значение <code>asciiGraphWidth</code> глобально.</p>
</li>
<li>
<p><strong>Генерация дерева зависимостей</strong></p>
<p>Выполните следующую команду для генерации дерева зависимостей:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#dependencies-scala-__codelineno-1-1"></a>sbt<span class="w"> </span>clean<span class="w"> </span>compile<span class="w"> </span><span class="s2">&quot;dependencyTree::toFile target/tree.txt&quot;</span>
</code></pre></div>
<p>Убедитесь, что файл сохранен с именем <code>scala-dependency-tree.txt</code> или <code>sbt-dependency-tree.txt</code>, так как только эти имена поддерживаются для корректного парсинга.</p>
</li>
<li>
<p><strong>Сканирование сгенерированного файла</strong></p>
</li>
</ol>
<p>Опция консольного агента <code>--sbt-resolve</code> в <a href="#agent-scan">команде сканирования</a> в данном случае не нужна, поскольку выполняется сканирование уже сгенерированного дерева с полной структурой зависимостей.</p></section><section class="print-page" id="dependencies-go" heading-number="4.4.5.4"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#dependencies-go.en">English</a></li>
</ul>
<h1 id="dependencies-go-go">Работа с зависимостями в Go<a class="headerlink" href="#dependencies-go-go" title="Permanent link">&para;</a></h1>
<h2 id="dependencies-go-go-modules">Go Modules<a class="headerlink" href="#dependencies-go-go-modules" title="Permanent link">&para;</a></h2>
<h3 id="dependencies-go-gosum">Создание файла <code>go.sum</code><a class="headerlink" href="#dependencies-go-gosum" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>Инициализируйте модуль:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#dependencies-go-__codelineno-0-1"></a>go<span class="w"> </span>mod<span class="w"> </span>init<span class="w"> </span>&lt;module_name&gt;
</code></pre></div></p>
</li>
<li>
<p>Установите зависимости:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#dependencies-go-__codelineno-1-1"></a>go<span class="w"> </span>get<span class="w"> </span>&lt;package&gt;
</code></pre></div></p>
</li>
<li>
<p>После установки зависимостей автоматически создаются и обновляются файлы <code>go.mod</code> и <code>go.sum</code>.</p>
</li>
<li>
<p>Закрепите версии зависимостей:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#dependencies-go-__codelineno-2-1"></a>go<span class="w"> </span>mod<span class="w"> </span>tidy
</code></pre></div></p>
</li>
</ol></section><section class="print-page" id="dependencies-js" heading-number="4.4.5.5"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#dependencies-js.en">English</a></li>
</ul>
<h1 id="dependencies-js-javascript">Работа с зависимостями в JavaScript<a class="headerlink" href="#dependencies-js-javascript" title="Permanent link">&para;</a></h1>
<h2 id="dependencies-js-npm">NPM<a class="headerlink" href="#dependencies-js-npm" title="Permanent link">&para;</a></h2>
<h3 id="dependencies-js-package-lockjson">Создание файла <code>package-lock.json</code><a class="headerlink" href="#dependencies-js-package-lockjson" title="Permanent link">&para;</a></h3>
<ol>
<li>Инициализируйте проект:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#dependencies-js-__codelineno-0-1"></a>npm<span class="w"> </span>init<span class="w"> </span>-y
</code></pre></div></li>
<li>Установите зависимости:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#dependencies-js-__codelineno-1-1"></a>npm<span class="w"> </span>install
</code></pre></div></li>
</ol>
<h3 id="dependencies-js-npm-package-alias">Поддержка механизма NPM package alias<a class="headerlink" href="#dependencies-js-npm-package-alias" title="Permanent link">&para;</a></h3>
<p>Механизм <a href="https://docs.npmjs.com/cli/v8/using-npm/package-spec#aliases">NPM package alias</a> позволяет устанавливать пакеты под разными именами, что удобно для одновременного использования нескольких версий библиотеки, замены зависимости без изменения её имени в коде и работы с форками.</p>
<p>Вместо стандартного указания версии используется синтаксис, явно задающий, какой пакет и его версию установить под нужным именем. Это упрощает тестирование, обновления и совместимость зависимостей.</p>
<p>В <code>package.json</code> в секции dependencies может быть указана следующая запись:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#dependencies-js-__codelineno-2-1"></a><span class="nt">&quot;dependencies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#dependencies-js-__codelineno-2-2"></a><span class="w">  </span><span class="nt">&quot;@babel/legacy-core&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;npm:@babel/core@=7.12.0&quot;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#dependencies-js-__codelineno-2-3"></a><span class="p">}</span>
</code></pre></div>
<p>Консольный агент Johnny корректно обрабатывает эту запись, распознавая, что <strong>@babel/legacy-core</strong> – это alias для <strong>@babel/core</strong> версии 7.12.0. В ходе анализа зависимостей учитывается оригинальный пакет, предотвращая ошибки, связанные с несуществующими именами.</p>
<h3 id="dependencies-js-npm-overrides">Поддержка механизма NPM overrides<a class="headerlink" href="#dependencies-js-npm-overrides" title="Permanent link">&para;</a></h3>
<p>Механизм <a href="https://docs.npmjs.com/cli/v9/configuring-npm/package-json#overrides">NPM overrides</a> позволяет изменить версии транзитивных зависимостей. Это полезно в случаях необходимости замены зависимости с известной уязвимостью, либо замены зависимости на форк.</p>
<p>В секции overrides файла <code>package.json</code> может быть указана следующая запись:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#dependencies-js-__codelineno-3-1"></a><span class="nt">&quot;overrides&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#dependencies-js-__codelineno-3-2"></a><span class="w">  </span><span class="nt">&quot;foo&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.0.0&quot;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#dependencies-js-__codelineno-3-3"></a><span class="p">}</span>
</code></pre></div>
<p>В <code>package-lock.json</code> будет единственная версия пакета <code>foo</code>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#dependencies-js-__codelineno-4-1"></a><span class="nt">&quot;node_modules/foo&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#dependencies-js-__codelineno-4-2"></a><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
</code></pre></div></p>
<p>Консольный агент Johnny корректно обрабатывает эту запись, распознавая пакет <strong>foo</strong> версии 1.0.0.</p>
<h3 id="dependencies-js-npm-workspaces">Поддержка механизма NPM workspaces<a class="headerlink" href="#dependencies-js-npm-workspaces" title="Permanent link">&para;</a></h3>
<p>Механизм <a href="https://docs.npmjs.com/cli/v9/using-npm/workspaces">NPM workspaces</a> позволяет централизованно управлять несколькими пакетами.</p>
<p>В <code>package.json</code> в секции workspaces может быть указана следующая запись:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#dependencies-js-__codelineno-5-1"></a><span class="nt">&quot;workspaces&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&quot;packages/a&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;packages/b&quot;</span><span class="w"> </span><span class="p">]</span>
</code></pre></div>
<p>В таком случае агент Johnny будет обрабатывать корневой <code>package.json</code> и все <code>package.json</code> всех пакетов из workspaces как единое целое.</p>
<h2 id="dependencies-js-pnpm">PNPM<a class="headerlink" href="#dependencies-js-pnpm" title="Permanent link">&para;</a></h2>
<h3 id="dependencies-js-pnpm-lockyaml">Создание файла <code>pnpm-lock.yaml</code><a class="headerlink" href="#dependencies-js-pnpm-lockyaml" title="Permanent link">&para;</a></h3>
<ol>
<li>Инициализируйте проект:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#dependencies-js-__codelineno-6-1"></a>pnpm<span class="w"> </span>init<span class="w"> </span>-y
</code></pre></div></li>
<li>Установите зависимости:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#dependencies-js-__codelineno-7-1"></a>pnpm<span class="w"> </span>install
</code></pre></div></li>
</ol>
<h3 id="dependencies-js-pnpm-package-alias">Поддержка механизма PNPM package alias<a class="headerlink" href="#dependencies-js-pnpm-package-alias" title="Permanent link">&para;</a></h3>
<p>Механизм PNPM package alias позволяет устанавливать пакеты под разными именами, что удобно для одновременного использования нескольких версий библиотеки, замены зависимости без изменения её имени в коде и работы с форками.</p>
<p>Вместо стандартного указания версии используется синтаксис, явно задающий, какой пакет и его версию установить под нужным именем. Это упрощает тестирование, обновления и совместимость зависимостей.</p>
<p>В <code>package.json</code> в секции dependencies может быть указана следующая запись:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#dependencies-js-__codelineno-8-1"></a><span class="nt">&quot;dependencies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#dependencies-js-__codelineno-8-2"></a><span class="w">  </span><span class="nt">&quot;lodash-old&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;npm:lodash@3.10.1&quot;</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#dependencies-js-__codelineno-8-3"></a><span class="p">}</span>
</code></pre></div>
<p>Консольный агент Johnny корректно обрабатывает эту запись, распознавая, что <strong>lodash-old</strong> – это alias для <strong>lodash</strong> версии 3.10.1. В ходе анализа зависимостей учитывается оригинальный пакет, предотвращая ошибки, связанные с несуществующими именами.</p>
<h3 id="dependencies-js-pnpm-overrides">Поддержка механизма PNPM overrides<a class="headerlink" href="#dependencies-js-pnpm-overrides" title="Permanent link">&para;</a></h3>
<p>Механизм PNPM overrides позволяет изменить версии транзитивных зависимостей. Это полезно в случаях необходимости замены зависимости с известной уязвимостью, либо замены зависимости на форк.</p>
<p>В секции pnpm/overrides файла <code>package.json</code> может быть указана следующая запись:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#dependencies-js-__codelineno-9-1"></a><span class="nt">&quot;pnpm&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#dependencies-js-__codelineno-9-2"></a><span class="w">  </span><span class="nt">&quot;overrides&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#dependencies-js-__codelineno-9-3"></a><span class="w">    </span><span class="nt">&quot;example-package&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;^1.3.0&quot;</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#dependencies-js-__codelineno-9-4"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#dependencies-js-__codelineno-9-5"></a><span class="p">}</span>
</code></pre></div>
<p>В <code>pnpm-lock.yaml</code> версия пакета <code>example-package</code> будет не ниже 1.3.0:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#dependencies-js-__codelineno-10-1"></a><span class="nt">example-package@1.3.0</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span>
</code></pre></div>
<p>Консольный агент Johnny корректно обрабатывает эту запись, распознавая пакет <strong>example-package</strong> версии 1.3.0.</p>
<h3 id="dependencies-js-pnpm-workspaces">Поддержка механизма PNPM workspaces<a class="headerlink" href="#dependencies-js-pnpm-workspaces" title="Permanent link">&para;</a></h3>
<p>Механизм <a href="https://pnpm.io/pnpm-workspace_yaml">PNPM workspaces</a> позволяет централизованно управлять несколькими пакетами.</p>
<p>В <code>pnpm-workspace.yaml</code> расположенном рядом с корневым <code>package.json</code> быть указана следующая запись:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#dependencies-js-__codelineno-11-1"></a><span class="nt">packages</span><span class="p">:</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#dependencies-js-__codelineno-11-2"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;packages/*&#39;</span>
</code></pre></div>
<p>В таком случае агент Johnny будет обрабатывать корневой <code>package.json</code> и все <code>package.json</code> всех пакетов из workspaces как единое целое.</p>
<h2 id="dependencies-js-yarn">Yarn<a class="headerlink" href="#dependencies-js-yarn" title="Permanent link">&para;</a></h2>
<h3 id="dependencies-js-yarnlock">Создание файла <code>yarn.lock</code><a class="headerlink" href="#dependencies-js-yarnlock" title="Permanent link">&para;</a></h3>
<ol>
<li>Инициализируйте проект:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#dependencies-js-__codelineno-12-1"></a>yarn<span class="w"> </span>init<span class="w"> </span>-y
</code></pre></div></li>
<li>Установите зависимости:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#dependencies-js-__codelineno-13-1"></a>yarn<span class="w"> </span>install
</code></pre></div></li>
</ol>
<h3 id="dependencies-js-yarn-package-alias">Поддержка механизма Yarn package alias<a class="headerlink" href="#dependencies-js-yarn-package-alias" title="Permanent link">&para;</a></h3>
<p>Механизм Yarn package alias позволяет устанавливать пакеты под разными именами, что удобно для одновременного использования нескольких версий библиотеки, замены зависимости без изменения её имени в коде и работы с форками.</p>
<p>Вместо стандартного указания версии используется синтаксис, явно задающий, какой пакет и его версию установить под нужным именем. Это упрощает тестирование, обновления и совместимость зависимостей.</p>
<p>В <code>package.json</code> в секции dependencies может быть указана следующая запись:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#dependencies-js-__codelineno-14-1"></a><span class="nt">&quot;dependencies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#dependencies-js-__codelineno-14-2"></a><span class="w">  </span><span class="nt">&quot;lodash-old&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;npm:lodash@3.10.1&quot;</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#dependencies-js-__codelineno-14-3"></a><span class="p">}</span>
</code></pre></div>
<p>В <code>yarn.lock</code> формируется запись:
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#dependencies-js-__codelineno-15-1"></a><span class="s">&quot;lodash-old@npm:lodash@3.10.1&quot;</span><span class="p p-Indicator">:</span>
</code></pre></div></p>
<p>Консольный агент Johnny корректно обрабатывает эту запись, распознавая, что <strong>lodash-old</strong> – это alias для <strong>lodash</strong> версии 3.10.1. В ходе анализа зависимостей учитывается оригинальный пакет, предотвращая ошибки, связанные с несуществующими именами.</p>
<h3 id="dependencies-js-yarn-selective-dependency-resolution">Поддержка механизма Yarn selective dependency resolution<a class="headerlink" href="#dependencies-js-yarn-selective-dependency-resolution" title="Permanent link">&para;</a></h3>
<p>Yarn поддерживает <a href="https://classic.yarnpkg.com/lang/en/docs/selective-version-resolutions/">избирательное разрешение версий</a> через поле <code>resolutions</code> в <code>package.json</code>, что позволяет задавать конкретные версии зависимостей без редактирования <code>yarn.lock</code>.</p>
<p>Этот механизм полезен, если вам нужно обновить подзависимость, которая не обновляется часто, исправить уязвимость в транзитивной зависимости или зафиксировать версию из-за проблемного обновления.</p>
<p>CodeScoring поддерживает обработку данного механизма в консольном агенте Johnny. Вот несколько сценариев его работы:</p>
<h4 id="dependencies-js-_1">Замена пакета<a class="headerlink" href="#dependencies-js-_1" title="Permanent link">&para;</a></h4>
<p>Для замены пакета через механизм resolutions, в <code>package.json</code> добавляется следующая запись. В данном примере пакет <strong>parcel/watcher</strong> заменяется на пакет <strong>favware/skip-dependency</strong>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#dependencies-js-__codelineno-16-1"></a><span class="nt">&quot;resolutions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#dependencies-js-__codelineno-16-2"></a><span class="w">  </span><span class="nt">&quot;@parcel/watcher&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;npm:@favware/skip-dependency@latest&quot;</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#dependencies-js-__codelineno-16-3"></a><span class="p">}</span>
</code></pre></div>
<p>Соответствующая данному пакету запись в файле <code>yarn.lock</code>будет следующей:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#dependencies-js-__codelineno-17-1"></a><span class="nt">dependencies</span><span class="p">:</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#dependencies-js-__codelineno-17-2"></a><span class="w">  </span><span class="s">&quot;@parcel/watcher&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;npm:2.1.0&quot;</span>
</code></pre></div>
<p>При установке в сборке используется пакет <strong>favware/skip-dependency</strong> версии 1.2.2. Консольный агент корректно идентифицирует данный механизм и анализирует именно финальный пакет.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#dependencies-js-__codelineno-18-1"></a><span class="s">&quot;@parcel/watcher@npm:@favware/skip-dependency@latest&quot;</span><span class="p p-Indicator">:</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#dependencies-js-__codelineno-18-2"></a><span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.2.2</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#dependencies-js-__codelineno-18-3"></a><span class="w">  </span><span class="nt">resolution</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;@favware/skip-dependency@npm:1.2.2&quot;</span>
</code></pre></div>
<h4 id="dependencies-js-_2">Фиксация версии транзитивной зависимости<a class="headerlink" href="#dependencies-js-_2" title="Permanent link">&para;</a></h4>
<p>Для фиксации версии через механизм resolutions в <code>package.json</code> добавляется следующая запись. В данном примере версия пакета <strong>http-signature</strong> фиксируется на <strong>1.3.4</strong>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#dependencies-js-__codelineno-19-1"></a><span class="nt">&quot;resolutions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#dependencies-js-__codelineno-19-2"></a><span class="w">  </span><span class="nt">&quot;http-signature&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.3.4&quot;</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#dependencies-js-__codelineno-19-3"></a><span class="p">}</span>
</code></pre></div>
<p>Соответствующие данному пакету записи в файле <code>yarn.lock</code> будут следующими:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#dependencies-js-__codelineno-20-1"></a><span class="nt">dependencies</span><span class="p">:</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#dependencies-js-__codelineno-20-2"></a><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">http-signature &quot;~1.2.0&quot;</span>
</code></pre></div>
<p>При установке в сборке будет использована версия <strong>http-signature 1.3.4</strong>. Консольный агент анализирует финальную версию пакета.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#dependencies-js-__codelineno-21-1"></a><span class="l l-Scalar l-Scalar-Plain">http-signature@1.3.4, http-signature@~1.2.0</span><span class="p p-Indicator">:</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#dependencies-js-__codelineno-21-2"></a><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">version &quot;1.3.4&quot;</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#dependencies-js-__codelineno-21-3"></a><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">resolved &quot;https://registry.yarnpkg.com/http-signature/-/http-signature-1.3.4.tgz#a65b41193110b222364e776fd1ac848655a0e2f0&quot;</span>
</code></pre></div>
<h4 id="dependencies-js-_3">Фиксация версии при множественных зависимостях<a class="headerlink" href="#dependencies-js-_3" title="Permanent link">&para;</a></h4>
<p>Для фиксации версии при наличии нескольких зависимостей через механизм resolutions в <code>package.json</code> добавляется следующая запись. В данном примере версия пакета <strong>yaml</strong> фиксируется на <strong>2.2.2</strong>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#dependencies-js-__codelineno-22-1"></a><span class="nt">&quot;resolutions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#dependencies-js-__codelineno-22-2"></a><span class="w">  </span><span class="nt">&quot;yaml&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.2.2&quot;</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#dependencies-js-__codelineno-22-3"></a><span class="p">}</span>
</code></pre></div>
<p>Соответствующие данному пакету записи в файле <code>yarn.lock</code> будут следующими:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#dependencies-js-__codelineno-23-1"></a><span class="nt">dependencies</span><span class="p">:</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#dependencies-js-__codelineno-23-2"></a><span class="w">  </span><span class="nt">yaml</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^1.10.0</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#dependencies-js-__codelineno-23-3"></a><span class="w">  </span><span class="nt">yaml</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^2.2.1</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#dependencies-js-__codelineno-23-4"></a><span class="w">  </span><span class="nt">yaml</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^1.7.2</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#dependencies-js-__codelineno-23-5"></a><span class="w">  </span><span class="nt">yaml</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^1.10.2</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#dependencies-js-__codelineno-23-6"></a><span class="w">  </span><span class="nt">yaml</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^2.3.4</span>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#dependencies-js-__codelineno-23-7"></a><span class="w">  </span><span class="nt">yaml</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.3.1</span>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#dependencies-js-__codelineno-23-8"></a><span class="w">  </span><span class="nt">yaml</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^2.1.1</span>
</code></pre></div>
<p>При установке в сборке будет использована версия <strong>2.2.2</strong>. Консольный агент анализирует только зафиксированную в <code>resolutions</code> версию пакета.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#dependencies-js-__codelineno-24-1"></a><span class="s">&quot;yaml@npm:2.2.2&quot;</span><span class="p p-Indicator">:</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#dependencies-js-__codelineno-24-2"></a><span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.2.2</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#dependencies-js-__codelineno-24-3"></a><span class="w">  </span><span class="nt">resolution</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;yaml@npm:2.2.2&quot;</span>
</code></pre></div>
<h2 id="dependencies-js-bun">Bun<a class="headerlink" href="#dependencies-js-bun" title="Permanent link">&para;</a></h2>
<h3 id="dependencies-js-bunlock">Создание файла <code>bun.lock</code><a class="headerlink" href="#dependencies-js-bunlock" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#dependencies-js-__codelineno-25-1"></a>bun<span class="w"> </span>install
</code></pre></div>
<p>В случае, если в проекте уже используется бинарный формат <code>bun.lockb</code> для создания <code>bun.lock</code> нужно использовать следующую команду:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#dependencies-js-__codelineno-26-1"></a>bun<span class="w"> </span>install<span class="w"> </span>--save-text-lockfile<span class="w"> </span>--frozen-lockfile<span class="w"> </span>--lockfile-only
</code></pre></div></section><section class="print-page" id="dependencies-dotnet" heading-number="4.4.5.6"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#dependencies-dotnet.en">English</a></li>
</ul>
<h1 id="dependencies-dotnet-net">Работа с зависимостями в .NET<a class="headerlink" href="#dependencies-dotnet-net" title="Permanent link">&para;</a></h1>
<h2 id="dependencies-dotnet-nuget">NuGet<a class="headerlink" href="#dependencies-dotnet-nuget" title="Permanent link">&para;</a></h2>
<h3 id="dependencies-dotnet-packageslockjson">Создание файла <code>packages.lock.json</code><a class="headerlink" href="#dependencies-dotnet-packageslockjson" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>Включите поддержку lock-файла (для .NET 5 и выше):
   <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#dependencies-dotnet-__codelineno-0-1"></a>dotnet<span class="w"> </span>nuget<span class="w"> </span>locals<span class="w"> </span>all<span class="w"> </span>--clear
</code></pre></div></p>
</li>
<li>
<p>Установите зависимости:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#dependencies-dotnet-__codelineno-1-1"></a>dotnet<span class="w"> </span>restore<span class="w"> </span>--use-lock-file
</code></pre></div></p>
</li>
</ol>
<h3 id="dependencies-dotnet-paketlock">Создание файла <code>paket.lock</code><a class="headerlink" href="#dependencies-dotnet-paketlock" title="Permanent link">&para;</a></h3>
<ol>
<li>Создайте lock-file:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#dependencies-dotnet-__codelineno-2-1"></a>paket<span class="w"> </span>install
</code></pre></div></li>
</ol>
<h3 id="dependencies-dotnet-sln">Особенности работы с <code>sln</code> манифестом<a class="headerlink" href="#dependencies-dotnet-sln" title="Permanent link">&para;</a></h3>
<p>При сканировании директории, в случае обнаружения *.sln манифеста, список анализируемых манифестов будет составлен из перечисленных в нем компонентов. Остальные компоненты не входящие в состав решения будут проигнорированы.</p>
<h3 id="dependencies-dotnet-_1">Общая информация<a class="headerlink" href="#dependencies-dotnet-_1" title="Permanent link">&para;</a></h3>
<ul>
<li>В рамках экосистемы .NET основным манифестом считается <code>*.csproj</code>, lock-файлом <code>packages.lock.json</code>; </li>
<li>Манифест <code>deps.json</code> считается отдельным lock-файлом и не связывается с другим манифестом. В нем указаны зависимости необходимые для целевого рантайма.</li>
</ul></section><section class="print-page" id="dependencies-php" heading-number="4.4.5.7"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#dependencies-php.en">English</a></li>
</ul>
<h1 id="dependencies-php-php">Работа с зависимостями в PHP<a class="headerlink" href="#dependencies-php-php" title="Permanent link">&para;</a></h1>
<h2 id="dependencies-php-composer">Composer<a class="headerlink" href="#dependencies-php-composer" title="Permanent link">&para;</a></h2>
<h3 id="dependencies-php-composerlock">Создание файла <code>composer.lock</code><a class="headerlink" href="#dependencies-php-composerlock" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>Инициализируйте проект:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#dependencies-php-__codelineno-0-1"></a>composer<span class="w"> </span>init
</code></pre></div></p>
</li>
<li>
<p>Установите зависимости:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#dependencies-php-__codelineno-1-1"></a>composer<span class="w"> </span>install
</code></pre></div>
   или создайте lock-file напрямую:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#dependencies-php-__codelineno-2-1"></a>composer<span class="w"> </span>update
</code></pre></div></p>
</li>
</ol></section><section class="print-page" id="dependencies-python" heading-number="4.4.5.8"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#dependencies-python.en">English</a></li>
</ul>
<h1 id="dependencies-python-python">Работа с зависимостями в Python<a class="headerlink" href="#dependencies-python-python" title="Permanent link">&para;</a></h1>
<h2 id="dependencies-python-pip">pip<a class="headerlink" href="#dependencies-python-pip" title="Permanent link">&para;</a></h2>
<h3 id="dependencies-python-requirementstxt">Создание файла <code>requirements.txt</code><a class="headerlink" href="#dependencies-python-requirementstxt" title="Permanent link">&para;</a></h3>
<ol>
<li>Установите зависимости и сохраните их в lock-файл:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#dependencies-python-__codelineno-0-1"></a>pip<span class="w"> </span>freeze<span class="w"> </span>&gt;<span class="w"> </span>requirements.txt
</code></pre></div></li>
</ol>
<h2 id="dependencies-python-pipenv">pipenv<a class="headerlink" href="#dependencies-python-pipenv" title="Permanent link">&para;</a></h2>
<h3 id="dependencies-python-pipfilelock">Создание файла <code>Pipfile.lock</code><a class="headerlink" href="#dependencies-python-pipfilelock" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>Установите pipenv:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#dependencies-python-__codelineno-1-1"></a>pip<span class="w"> </span>install<span class="w"> </span>pipenv
</code></pre></div></p>
</li>
<li>
<p>Создайте <code>Pipfile.lock</code>:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#dependencies-python-__codelineno-2-1"></a>pipenv<span class="w"> </span>install
</code></pre></div></p>
</li>
</ol>
<h2 id="dependencies-python-poetry">poetry<a class="headerlink" href="#dependencies-python-poetry" title="Permanent link">&para;</a></h2>
<h3 id="dependencies-python-poetrylock">Создание файла <code>poetry.lock</code><a class="headerlink" href="#dependencies-python-poetrylock" title="Permanent link">&para;</a></h3>
<p>Если файл <code>poetry.lock</code> еще не существует, Poetry создаст его автоматически при установке зависимостей. Если файл уже существует, он будет обновлен. Для этого выполните команду:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#dependencies-python-__codelineno-3-1"></a>poetry<span class="w"> </span>lock
</code></pre></div>
<p>Эта команда обновит зависимости, указанные в <code>pyproject.toml</code>, и создаст или обновит файл <code>poetry.lock</code>.</p>
<h2 id="dependencies-python-pipdeptree">pipdeptree<a class="headerlink" href="#dependencies-python-pipdeptree" title="Permanent link">&para;</a></h2>
<h3 id="dependencies-python-pipdeptreetxt">Создание файла <code>pipdeptree.txt</code><a class="headerlink" href="#dependencies-python-pipdeptreetxt" title="Permanent link">&para;</a></h3>
<p>При обнаружении файла <code>pipdeptree.txt</code> агент проанализирует его содержимое как результат вывода утилиты pipdeptree в стандартном формате дерева зависимостей.
Для создания файла можно использовать следующие команды:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#dependencies-python-__codelineno-4-1"></a>pipdeptree<span class="w"> </span>&gt;<span class="w"> </span>pipdeptree.txt
</code></pre></div>
Для фильтрации вывода по конкретным пакетам окружения:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#dependencies-python-__codelineno-5-1"></a>pipdeptree<span class="w"> </span>--packages<span class="w"> </span><span class="s2">&quot;example1,example2&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>pipdeptree.txt
</code></pre></div></p>
<h2 id="dependencies-python-uv">uv<a class="headerlink" href="#dependencies-python-uv" title="Permanent link">&para;</a></h2>
<h3 id="dependencies-python-uvlock">Создание файла <code>uv.lock</code><a class="headerlink" href="#dependencies-python-uvlock" title="Permanent link">&para;</a></h3>
<p>Если файл <code>uv.lock</code> еще не существует, uv создаст его автоматически при установке зависимостей. Если файл уже существует, он будет обновлен. Для этого выполните команду:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#dependencies-python-__codelineno-6-1"></a>uv<span class="w"> </span>lock
</code></pre></div>
<p>Эта команда обновит зависимости, указанные в <code>pyproject.toml</code>, и создаст или обновит файл <code>uv.lock</code>.</p>
<h3 id="dependencies-python-uv-workspaces">Поддержка механизма UV workspaces<a class="headerlink" href="#dependencies-python-uv-workspaces" title="Permanent link">&para;</a></h3>
<p>Механизм <a href="https://docs.astral.sh/uv/concepts/projects/workspaces/">UV workspaces</a> позволяет централизованно управлять несколькими пакетами.</p>
<p>В <code>pyproject.toml</code> в секции workspaces может быть указана следующая запись:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#dependencies-python-__codelineno-7-1"></a><span class="k">[tool.uv.workspace]</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#dependencies-python-__codelineno-7-2"></a><span class="n">members</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#dependencies-python-__codelineno-7-3"></a><span class="w">    </span><span class="s2">&quot;packages/core&quot;</span><span class="p">,</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#dependencies-python-__codelineno-7-4"></a><span class="w">    </span><span class="s2">&quot;packages/api&quot;</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#dependencies-python-__codelineno-7-5"></a><span class="p">]</span>
</code></pre></div>
<p>В таком случае агент Johnny будет обрабатывать корневой <code>pyproject.toml</code> и все <code>pyproject.toml</code> всех пакетов из workspace как единое целое.</p></section><section class="print-page" id="dependencies-ruby" heading-number="4.4.5.9"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#dependencies-ruby.en">English</a></li>
</ul>
<h1 id="dependencies-ruby-ruby">Работа с зависимостями в Ruby<a class="headerlink" href="#dependencies-ruby-ruby" title="Permanent link">&para;</a></h1>
<h2 id="dependencies-ruby-bundler">Bundler<a class="headerlink" href="#dependencies-ruby-bundler" title="Permanent link">&para;</a></h2>
<h3 id="dependencies-ruby-gemfilelock">Создание файла <code>Gemfile.lock</code><a class="headerlink" href="#dependencies-ruby-gemfilelock" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>Инициализируйте проект:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#dependencies-ruby-__codelineno-0-1"></a>bundle<span class="w"> </span>init
</code></pre></div></p>
</li>
<li>
<p>Установите зависимости:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#dependencies-ruby-__codelineno-1-1"></a>bundle<span class="w"> </span>install
</code></pre></div>
   или cоздайте lock-file напрямую:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#dependencies-ruby-__codelineno-2-1"></a>bundle<span class="w"> </span>lock
</code></pre></div></p>
</li>
</ol></section></section></section>
                    <section class='print-page md-section' id='section-4-5' heading-number='4.5'>
                        <h1>CodeScoring.Secrets<a class='headerlink' href='#section-4-5' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="secrets" heading-number="4.5.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#secrets-index.en">English</a></li>
</ul>
<h1 id="secrets-codescoringsecrets">CodeScoring.Secrets<a class="headerlink" href="#secrets-codescoringsecrets" title="Permanent link">&para;</a></h1>
<h2 id="secrets-_1">Общее описание<a class="headerlink" href="#secrets-_1" title="Permanent link">&para;</a></h2>
<p><strong>CodeScoring.Secrets</strong> – это модуль для поиска чувствительной информации в коде (пароли, API ключи, токены), который использует собственную модель машинного обучения для значительного снижения количества ложных срабатываний при сканировании.</p>
<p>Поиск секретов осуществляется через открытые инструменты анализа, на данный момент используется движок <a href="https://github.com/gitleaks/gitleaks">Gitleaks</a>.</p>
<h2 id="secrets--">Видео-инструкция по началу работы с модулем<a class="headerlink" href="#secrets--" title="Permanent link">&para;</a></h2>
<iframe src="https://vkvideo.ru/video_ext.php?oid=-229013285&id=456239049&hash=1a12232c42b13146&hd=3" style="aspect-ratio: 16 / 9; width: 100%" allow="autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;" frameborder="0" allowfullscreen></iframe></section>
                    <section class='print-page md-section' id='section-4-5-2' heading-number='4.5.2'>
                        <h1>Настройка<a class='headerlink' href='#section-4-5-2' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="secrets-secrets-setup" heading-number="4.5.2.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#secrets-secrets-setup.en">English</a></li>
</ul>
<h1 id="secrets-secrets-setup-_1">Создание конфигурации для поиска секретов<a class="headerlink" href="#secrets-secrets-setup-_1" title="Permanent link">&para;</a></h1>
<ol>
<li>
<p>Для начала работы с модулем Secrets необходимо предварительно создать VCS или CLI <a href="#on-premise-how-to-projects">проект</a> в разделе <code>Настройки -&gt; Проекты</code>.</p>
</li>
<li>
<p>Задать конфигурацию движка секретов в разделе <code>Настройки -&gt; Секреты</code>, открыв форму по кнопке <strong>Добавить</strong>.</p>
</li>
<li>
<p>В форме конфигурации необходимо указать имя, выбрать движок для поиска секретов в коде и прописать ему стандартную конфигурацию – она будет передана на вход движка при сканировании.</p>
</li>
</ol>
<p>Пример стандартной конфигурации для движка Gitleaks:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#secrets-secrets-setup-__codelineno-0-1"></a><span class="kc">t</span><span class="err">i</span><span class="kc">tle</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="s2">&quot;Gitleaks title&quot;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#secrets-secrets-setup-__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#secrets-secrets-setup-__codelineno-0-3"></a><span class="p">[</span><span class="err">ex</span><span class="kc">ten</span><span class="err">d</span><span class="p">]</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#secrets-secrets-setup-__codelineno-0-4"></a><span class="err">useDe</span><span class="kc">fault</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="kc">true</span>
</code></pre></div>
<p><img alt="Engine configuration example" src="/assets/img/secrets/ru-engine-configuration.png" /></p>
<p>Подробнее с конфигурированием движка gitleaks можно ознакомиться в <a href="https://github.com/gitleaks/gitleaks?tab=readme-ov-file#configuration">документации инструмента</a>.</p>
<h2 id="secrets-secrets-setup-_2">Создание конфигурации движка секретов по умолчанию<a class="headerlink" href="#secrets-secrets-setup-_2" title="Permanent link">&para;</a></h2>
<p>Для задания конфигурации по умолчанию необходимо в настройках конфигурации нажать на кнопку <strong>Установить по умолчанию</strong>.</p>
<p><img alt="Set default engine configuration example" src="/assets/img/secrets/ru-secrets-set-default-engine-config.png" /></p>
<div class="admonition warning">
<p class="admonition-title">Редактирование конфигурации по умолчанию</p>
<p>Нельзя установить более одной конфигурации по умолчанию, а также удалить используемую по умолчанию конфигурацию.</p>
</div>
<p>Для использования в проекте конфигурации по умолчанию необходимо в настройках проекта в разделе <strong>Секреты</strong> установить чек-бокс <strong>По умолчанию</strong>. В круглых скобках будет указана конфигурация, используемая в данный момент по умолчанию.</p>
<p><img alt="Set default engine configuration in project example" src="/assets/img/secrets/ru-secrets-set-default-engine-config-in-project.png" /></p>
<div class="admonition warning">
<p class="admonition-title">Изменение конфигурации по умолчанию</p>
<p>При установке новой конфигурации по умолчанию во всех проектах, где установлен чек-бокс <strong>По умолчанию</strong>, будет использована новая установленная конфигурация.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Конфигурация движка секретов у нового проекта</p>
<p>При создании нового проекта для сканирования секретов автоматически будет установлена конфигурация по умолчанию. Конфигурацию можно изменить в настройках проекта в разделе <strong>Секреты</strong>.</p>
</div></section><section class="print-page" id="secrets-secrets-vcs" heading-number="4.5.2.2"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#secrets-secrets-vcs.en">English</a></li>
</ul>
<h1 id="secrets-secrets-vcs-vcs">Настройка VCS проекта для работы с секретами<a class="headerlink" href="#secrets-secrets-vcs-vcs" title="Permanent link">&para;</a></h1>
<p>Для работы модуля Secrets в рамках проекта необходимо задать параметры сканирования на странице настроек проекта в разделе <code>Настройки -&gt; Проекты</code>:</p>
<ul>
<li><strong>Расписание сканирования секретов</strong> - график сканирования на наличие секретов (задается временем и днями недели);</li>
<li><strong>Конфигурация движка секретов</strong> - конфигурация <a href="#secrets-secrets-setup">движка секретов</a>;</li>
<li><strong>Область сканирования секретов</strong> - область применения сканирования:</li>
<li><strong>Репозиторий</strong> - для сканирования всех веток в рамках репозитория;</li>
<li><strong>Ветка или тег</strong> - для сканирования ветки по умолчанию в настройках проекта;</li>
<li><strong>Исключить из анализа Секретов</strong> - исключить данный проект из анализа Секретов;</li>
</ul>
<p><img alt="VCS configuration example" src="/assets/img/secrets/ru-vcs-configuration.png" /></p></section></section>
                    <section class='print-page md-section' id='section-4-5-3' heading-number='4.5.3'>
                        <h1>Анализ секретов<a class='headerlink' href='#section-4-5-3' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="secrets-secrets-launch" heading-number="4.5.3.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#secrets-secrets-launch.en">English</a></li>
</ul>
<h1 id="secrets-secrets-launch-_1">Запуск поиска секретов<a class="headerlink" href="#secrets-secrets-launch-_1" title="Permanent link">&para;</a></h1>
<h2 id="secrets-secrets-launch-_2">Поиск секретов в отдельном проекте<a class="headerlink" href="#secrets-secrets-launch-_2" title="Permanent link">&para;</a></h2>
<p>Для запуска поиска секретов необходимо перейти на вкладку <code>Секреты</code> выбранного проекта и нажать на кнопку <strong>Запустить анализ секретов</strong>, после чего запустится поиск секретов в данном проекте.</p>
<p><img alt="Launch for one project" src="/assets/img/secrets/ru-manual-launch.png" /></p>
<p>В зависимости от величины проекта анализ может длиться от нескольких секунд до несколько минут.</p>
<h2 id="secrets-secrets-launch-vcs-">Поиск секретов по расписанию (VCS-проекты)<a class="headerlink" href="#secrets-secrets-launch-vcs-" title="Permanent link">&para;</a></h2>
<p>Помимо ручного запуска, можно настроить анализ отдельных проектов по расписанию.</p>
<p>Управление происходит на странице проекта в разделе <code>Настройки -&gt; Проекты</code>.</p>
<p>По умолчанию параметр <strong>Расписание сканирования секретов</strong> имеет значение <strong>Выкл.</strong>. Для активации анализа по расписанию необходимо выбрать <strong>Вкл.</strong> и указать время и дни недели.</p>
<p><strong>Примечание</strong>: Время сканирования будет учитываться по UTC +3.</p>
<p><strong>Примечание</strong>: Поиск не будет запущен, если у проекта не выбрана конфигурация поиска секретов.</p>
<h2 id="secrets-secrets-launch-_3">Поиск секретов во всех проектах<a class="headerlink" href="#secrets-secrets-launch-_3" title="Permanent link">&para;</a></h2>
<p>Для запуска поиска секретов по всем проектам необходимо перейти в раздел <code>Режим работы</code> и нажать на кнопку <strong>Запустить</strong> под заголовком <strong>Анализ секретов</strong>.</p>
<p><img alt="Launch for all projects" src="/assets/img/secrets/ru-manual-launch-all.png" /></p>
<h2 id="secrets-secrets-launch-_4">Анализ по расписанию<a class="headerlink" href="#secrets-secrets-launch-_4" title="Permanent link">&para;</a></h2>
<p>Помимо ручного запуска, можно настроить анализ отдельных проектов по расписанию. Управление происходит на странице проекта в разделе <code>Настройки -&gt; Проекты</code>.</p>
<p>По умолчанию параметр <strong>Расписание сканирования секретов</strong> имеет значение <strong>Выкл.</strong>. Для активации анализа по расписанию необходимо выбрать <strong>Вкл.</strong> и указать время и дни недели.</p>
<p><strong>Примечание</strong>: Время сканирования будет учитываться по UTC +3.</p></section><section class="print-page" id="secrets-secrets-cli" heading-number="4.5.3.2"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#secrets-secrets-cli.en">English</a></li>
</ul>
<h1 id="secrets-secrets-cli-cli">Поиск секретов в CLI проектах<a class="headerlink" href="#secrets-secrets-cli-cli" title="Permanent link">&para;</a></h1>
<h2 id="secrets-secrets-cli-cli_1">Загрузка отчета в CLI проект<a class="headerlink" href="#secrets-secrets-cli-cli_1" title="Permanent link">&para;</a></h2>
<p>В CLI проект можно импортировать отдельно созданный отчет в формате <code>json</code>. Об использовании <strong>Gitleaks</strong> в командой строке можно прочесть в <a href="https://github.com/gitleaks/gitleaks?tab=readme-ov-file#usage">документации инструмента</a>.</p>
<ol>
<li>После получения отчета от инструмента необходимо перейти на вкладку <strong>Секреты</strong> выбранного проекта.
  <img alt="CLI Project" src="/assets/img/secrets/cli-project.png" /></li>
<li>Нажать на кнопку <strong>Загрузить отчёт</strong>.
  <img alt="CLI Upload" src="/assets/img/secrets/cli-upload.png" /></li>
<li>Выбрать файл с отчетом и указать каким инструментом он был создан в поле <strong>Тип движка</strong>, затем нажать на кнопку <strong>Загрузить</strong>.</li>
</ol>
<h2 id="secrets-secrets-cli-cli-">Сканирование CLI-проектов<a class="headerlink" href="#secrets-secrets-cli-cli-" title="Permanent link">&para;</a></h2>
<p>Для сканирования секретов в CLI проектах и интеграции в CI/CD конвейер используется команда <code>secrets gitleaks dir</code> в консольном агенте Johnny.</p>
<p><strong>Важно</strong>: агент работает только с версией Gitleaks 8.19.0 и выше.</p>
<p>Более подробно об использовании команды можно прочесть <a href="#agent-scan-secrets">в документации консольного агента</a>.</p></section><section class="print-page" id="secrets-secrets-findings" heading-number="4.5.3.3"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#secrets-secrets-findings.en">English</a></li>
</ul>
<h1 id="secrets-secrets-findings-_1">Работа с найденными секретами<a class="headerlink" href="#secrets-secrets-findings-_1" title="Permanent link">&para;</a></h1>
<h2 id="secrets-secrets-findings-_2">Просмотр секретов в отдельном проекте<a class="headerlink" href="#secrets-secrets-findings-_2" title="Permanent link">&para;</a></h2>
<p>Для просмотра данных о секретах в разрезе проекта необходимо перейти на вкладку <strong>Секреты</strong> на странице проекта.</p>
<p>Страница отображает следующую сводную информацию:</p>
<ul>
<li>Дата первого сканирования;</li>
<li>Дата последнего сканирования;</li>
<li>Количество найденных секретов по категориям (истинно-позитивные, ложно-позитивные, все).</li>
</ul>
<p>Таблица с найденными секретами имеет следующие поля:</p>
<ul>
<li><strong>Секрет</strong> – содержание секрета;</li>
<li><strong>Проект</strong> – название проекта, в котором был найден секрет;</li>
<li><strong>Имя файла</strong> – имя файла, в котором был найден секрет;</li>
<li><strong>Координаты</strong> - строка и столбец начала и конца секрета в файле;</li>
<li><strong>Вероятность TP</strong> – вероятность истинной находки;</li>
<li><strong>Дата завершения анализа</strong> – дата и время завершения сканирования;</li>
<li><strong>Актуально</strong> – был ли найден секрет при последнем сканировании;</li>
<li><strong>ID правила</strong> – идентификатор правила поиска секретов в рамках используемого движка конфигурации;</li>
<li><strong>Добавлено</strong> – дата и время добавления секрета в код;</li>
<li><strong>Email автора</strong> – почта автора, ответственного за добавление секрета;</li>
<li><strong>Имя автора</strong> – имя автора, ответственного за добавление секрета;</li>
<li><strong>Исправлено</strong> – имя пользователя, который пометил находку как исправленную;</li>
<li><strong>Дата исправления</strong> – дата исправления;</li>
<li><strong>Коммит</strong> – хэш коммита, в котором был добавлен секрет;</li>
<li><strong>Энтропия</strong> - энтропия найденного секрета.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Энтропия</p>
<p>Данный параметр является энтропией Шеннона и может быть использован в правилах, как пороговое значение.</p>
</div>
<p><img alt="Findings in a project" src="/assets/img/secrets/ru-findings-project.png" /></p>
<h2 id="secrets-secrets-findings-_3">Просмотр секретов<a class="headerlink" href="#secrets-secrets-findings-_3" title="Permanent link">&para;</a></h2>
<p>Чтобы изучить найденные секреты по всем проектам, необходимо перейти в раздел <code>Секреты</code> в меню системы.</p>
<p><img alt="Findings in all proejcts" src="/assets/img/secrets/ru-findings-all.png" /></p>
<p>Таблицу с секретами можно отфильтровать по критериям:</p>
<ul>
<li><strong>Проект</strong> – название проекта, в котором был найден секрет;</li>
<li><strong>Файл</strong> – имя файла, в котором был найден секрет;</li>
<li><strong>Подразделение</strong> – подразделение организации, к которому принадлежит проект с найденным секретом;</li>
<li><strong>Категория</strong> – категория проекта с найденным секретом;</li>
<li><strong>ID правила</strong> – идентификатор правила поиска секретов в рамках используемого движка конфигурации;</li>
<li><strong>Актуальный</strong> – секрет найден при последнем сканировании;</li>
<li><strong>Исправленный</strong> – секрет исправлен;</li>
<li><strong>Без проекта</strong> – секрет не привязан к проекту;</li>
<li><strong>Статус</strong> - статус находки (истинно-положительный, ложно-положительный, без статуса).</li>
</ul>
<h2 id="secrets-secrets-findings-_4">Разметка истинных и ложных срабатываний.<a class="headerlink" href="#secrets-secrets-findings-_4" title="Permanent link">&para;</a></h2>
<p>Каждый секрет можно обозначить как истинно-положительный, ложно-положительный или исправленный. Для этого используются кнопки <strong>TP</strong>, <strong>FP</strong> и <strong>Исправлено</strong> в таблице найденных секретов.</p>
<p>Ручная разметка будет использоваться для <a href="#secrets-secrets-model">дообучения модели машинного обучения</a>.</p>
<p><img alt="Markup of secrets" src="/assets/img/secrets/ru-secrets-markup.png" /></p>
<h2 id="secrets-secrets-findings-_5">Выгрузка данных по секретам<a class="headerlink" href="#secrets-secrets-findings-_5" title="Permanent link">&para;</a></h2>
<p>Чтобы получить выгрузку данных по найденным секретам можно воспользоваться кнопкой <strong>Экспорт</strong> в правом верхнем углу раздела.</p></section></section><section class="print-page" id="secrets-secrets-model" heading-number="4.5.4"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#secrets-secrets-model.en">English</a></li>
</ul>
<h1 id="secrets-secrets-model-_1">Управление моделью машинного обучения<a class="headerlink" href="#secrets-secrets-model-_1" title="Permanent link">&para;</a></h1>
<p>По умолчанию CodeScoring использует собственную модель машинного обучения чтобы снизить количество ложных срабатываний при поиске секретов. С помощью <a href="#secrets-secrets-findings-_3">ручной разметки</a> найденных секретов можно дообучить модель и улучшить результаты поиска на собственном исходном коде.</p>
<p>Для того, чтобы дообучить модель, необходимо перейти в раздел <code>Настройки -&gt; Режим работы</code> и нажать на кнопку <strong>Запустить</strong> в секции <strong>Секреты: управление моделью</strong>. Для активации возможности дообучения модели необходимо разметить минимум 1000 найденных секретов как истинно-положительные или ложно-положительные.</p>
<p>После дообучения можно сравнить результаты поиска секретов и на их основе либо принять пользовательскую модель (<strong>Принять результат дообучения</strong>), либо вернуться к базовой модели (<strong>Удалить пользовательскую модель</strong>).</p>
<p><img alt="Machine learning model" src="/assets/img/secrets/ru-ml-model.png" /></p>
<p>В секции управления пользователю выводится информация о текущем состоянии модели:</p>
<ul>
<li><strong>Тип ML модели</strong> – тип использованной модели (базовая или пользовательская);</li>
<li><strong>Точность базовой модели</strong> – точность поиска на основе размеченных находок. Истинно-положительные находки берутся за единицу, ложно-положительные — за ноль. Итоговая точность – это среднее значение всех результатов, представленное в процентах.</li>
<li><strong>Точность пользовательской модели</strong> – точность поиска с использованием пользовательской модели;</li>
<li><strong>Точность дообучения модели</strong> – точность поиска с использованием последнего дообучения;</li>
<li><strong>Дообучение возможно?</strong> – возможность дообучения модели на основе текущей разметки (с указанием причины в случае невозможности дообучения);</li>
<li><strong>TP/FP/Всего</strong> – истинно-положительные, ложно-положительные и все находки.</li>
</ul>
<p><strong>Важно</strong>: если дообучение модели невозможно – это значит, что разметка недостаточно полная. В таком случае необходимо обозначить большее количество находок как истинно-положительных или ложно-положительных.</p></section></section>
                    <section class='print-page md-section' id='section-4-6' heading-number='4.6'>
                        <h1>CodeScoring.TQI<a class='headerlink' href='#section-4-6' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="tqi" heading-number="4.6.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#tqi-index.en">English</a></li>
</ul>
<h1 id="tqi-codescoringtqi">CodeScoring.TQI<a class="headerlink" href="#tqi-codescoringtqi" title="Permanent link">&para;</a></h1>
<h2 id="tqi-_1">Общее описание<a class="headerlink" href="#tqi-_1" title="Permanent link">&para;</a></h2>
<p><strong>CodeScoring.TQI</strong> – это модуль для анализа качества собственного исходного кода организации, определяющий основные параметры технического долга.</p>
<p>Основные функциональные возможности модуля позволяют:</p>
<ul>
<li>Просматривать <a href="#tqi-viewing-results">динамику проекта</a> с подсчетом цикломатической сложности кода;</li>
<li>Строить <a href="#tqi-authors">профили авторов</a> с сравнением схожести;</li>
<li>Отслеживать <a href="#tqi-clones">дубликаты кода</a> внутри и между проектов.</li>
</ul></section>
                    <section class='print-page md-section' id='section-4-6-2' heading-number='4.6.2'>
                        <h1>Анализ проектов<a class='headerlink' href='#section-4-6-2' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="tqi-launch-analysis" heading-number="4.6.2.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#tqi-launch-analysis.en">English</a></li>
</ul>
<h1 id="tqi-launch-analysis-tqi">Запуск TQI анализа<a class="headerlink" href="#tqi-launch-analysis-tqi" title="Permanent link">&para;</a></h1>
<h2 id="tqi-launch-analysis-_1">Анализ отдельного проекта<a class="headerlink" href="#tqi-launch-analysis-_1" title="Permanent link">&para;</a></h2>
<p>После успешного <a href="#on-premise-how-to-projects">клонирования проекта из VCS</a> на его странице в разделе <code>TQI -&gt; Проекты</code> появляется возможность запустить два вида анализа:</p>
<ol>
<li>Анализ дубликатов</li>
<li>Анализ авторов</li>
</ol>
<p><img alt="Launch analysis" src="/assets/img/tqi/tqi-launch.png" /></p>
<p>После запуска анализа процесс выполняется в фоновом режиме, и по его завершении результаты становятся доступны на странице проекта.</p>
<h2 id="tqi-launch-analysis-_2">Анализ проекта с первого коммита<a class="headerlink" href="#tqi-launch-analysis-_2" title="Permanent link">&para;</a></h2>
<p>Также можно запустить анализ авторов с первого коммита в проекте.
Анализ обработает все коммиты в репозитории и актуализирует данные в CodeScoring.</p>
<p><img alt="From first commit" src="/assets/img/tqi/rescan-authors.png" /></p>
<h2 id="tqi-launch-analysis-_3">Анализ всех проектов<a class="headerlink" href="#tqi-launch-analysis-_3" title="Permanent link">&para;</a></h2>
<p>Для запуска анализа по всем VCS проектам в системе необходимо перейти в раздел <code>Настройки -&gt; Режим работы</code> и запустить один из двух видов анализа.</p>
<p><img alt="Workmode" src="/assets/img/tqi/tqi-workmode.png" /></p>
<h2 id="tqi-launch-analysis-_4">Анализ по расписанию<a class="headerlink" href="#tqi-launch-analysis-_4" title="Permanent link">&para;</a></h2>
<p>Помимо ручного запуска, можно настроить анализ отдельных проектов по расписанию. Управление происходит на странице проекта в разделе <code>Настройки -&gt; Проекты</code>.</p>
<p>По умолчанию расписание не настроено и выключено. Для активации анализа по расписанию необходимо его включить и указать время и дни недели. Анализ по расписанию дубликатов и авторов можно настроить независимо.</p>
<p><strong>Примечание</strong>: Время сканирования будет учитываться по UTC +3.</p></section><section class="print-page" id="tqi-viewing-results" heading-number="4.6.2.2"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#tqi-viewing-results.en">English</a></li>
</ul>
<h1 id="tqi-viewing-results-tqi">Просмотр результатов TQI анализа<a class="headerlink" href="#tqi-viewing-results-tqi" title="Permanent link">&para;</a></h1>
<h2 id="tqi-viewing-results-_1">Страница проекта<a class="headerlink" href="#tqi-viewing-results-_1" title="Permanent link">&para;</a></h2>
<p>После завершения анализа на странице проекта в разделе <code>TQI -&gt; Проекты</code> становится доступен детализированный отчет, содержащий ключевые метрики, информацию об авторах, динамику изменений и список коммитов.</p>
<h3 id="tqi-viewing-results-_2">Общая статистика по проекту<a class="headerlink" href="#tqi-viewing-results-_2" title="Permanent link">&para;</a></h3>
<p>Начало отчета фиксирует ключевые показатели по результатам анализа:</p>
<ul>
<li><strong>Дата начала проекта</strong> – фиксирует момент первого коммита в репозитории;</li>
<li><strong>Продолжительность</strong> - количество месяцев от времени первого коммита до времени последнего изменения;</li>
<li><strong>Последнее обновление проекта</strong> – время последнего зафиксированного изменения;</li>
<li><strong>Авторы</strong> – количество разработчиков, которые вносили изменения в кодовую базу;</li>
<li><strong>Коммиты</strong> - количество коммитов в репозитории;</li>
<li><strong>Мерж-коммиты</strong> - количество мерж-коммитов в репозитории</li>
<li><strong>Всего коммитов</strong> – общее число коммитов (коммиты + мерж-коммиты) в репозитории;</li>
<li><strong>Строк добавлено</strong> – количество добавленных строк кода;</li>
<li><strong>Строк изменено</strong> - количество измененных строк кода;</li>
<li><strong>Строк удалено</strong> – количество удаленных строк кода;</li>
<li><strong>Темп изменения</strong> - средний объем изменений в коммитах относительно общего количества кода в репозитории;</li>
<li><strong>Новизна</strong> - доля добавленных строк кода относительно общего количества строк кода в репозитории;</li>
<li><strong>Рефакторинг</strong> - доля измененных и удаленных строк кода относительно общего количества строк кода в репозитории;</li>
<li><strong>Средняя цикломатическая сложность</strong> – показатель сложности кода, основанный на количестве ветвлений в логике программы;</li>
<li><strong>Наличие заимствованного кода</strong> – выявляет участки кода, которые были скопированы из других проектов внутри организации;</li>
<li><strong>Наличие переданного кода</strong> – определяет фрагменты кода, переданные из других проектов внутри организации;</li>
<li><strong>Наличие внутрипроектных дубликатов</strong> – фиксирует повторяющиеся участки кода внутри проекта.</li>
</ul>
<p><img alt="Analysis results" src="/assets/img/tqi/tqi-stats.png" /></p>
<h3 id="tqi-viewing-results-_3">Авторский состав<a class="headerlink" href="#tqi-viewing-results-_3" title="Permanent link">&para;</a></h3>
<p>Список авторов можно посмотреть в виде таблицы, изменить отображение колонок и выгрузить в формате CSV.</p>
<ul>
<li><strong>Автор</strong> – имя и почта автора;</li>
<li><strong>Работает с</strong> – дата первого коммита автора;</li>
<li><strong>Последняя активность</strong> – дата последнего коммита автора в проекте;</li>
<li><strong>Активность, месяцы</strong> – количество месяцев, в течение которых автор активно коммитил изменения;</li>
<li><strong>Всего коммитов</strong> – общее количество коммитов, сделанных автором в проекте. Доступна детализация при наведении курсора на значение;</li>
<li><strong>Сложность</strong> – средняя цикломатическая сложность по коммитам автора в проекте;</li>
<li><strong>Дубликаты</strong> – количество заимствованных фрагментов кода, сделанных автором;</li>
<li><strong>Технологии</strong> – языки программирования, с которыми работает автор (определяется по его коммитам).</li>
</ul>
<h3 id="tqi-viewing-results-_4">Динамика проекта<a class="headerlink" href="#tqi-viewing-results-_4" title="Permanent link">&para;</a></h3>
<p>Историю проекта можно отследить по графикам, показывающим динамику проекта по следующим параметрам:</p>
<ul>
<li>История добавлений/изменений/удалений строк кода;</li>
<li>История коммитов;</li>
<li>Количество авторов;</li>
<li>Сложность коммитов.</li>
</ul>
<p><img alt="Project dynamics" src="/assets/img/tqi/tqi-dynamics.png" /></p>
<p>Кроме этого, оценить влияние изменений на проект можно по следующим параметрам:</p>
<ul>
<li>Темп;</li>
<li>Скорость;</li>
<li>Плотность.</li>
</ul>
<p><img alt="Project rate" src="/assets/img/tqi/tqi-rate.png" /></p>
<p>Временной промежуток на графиках можно менять с помощью слайдера, выбирая интересующий период для анализа.</p>
<h3 id="tqi-viewing-results-_5">Список коммитов с расчетом цикломатической сложности<a class="headerlink" href="#tqi-viewing-results-_5" title="Permanent link">&para;</a></h3>
<p>Для каждого коммита рассчитывается цикломатическая сложность, а также показывается его контекст:</p>
<ul>
<li><strong>Хэш</strong> – уникальный идентификатор коммита с ссылкой на систему контроля версий;</li>
<li><strong>Сообщение коммита</strong> – краткое описание внесенных изменений, указанное автором при коммите;</li>
<li><strong>Дата коммита</strong> – дата и время, когда было выполнено изменение;</li>
<li><strong>Строк добавлено</strong> – количество строк кода, добавленных в коммите;</li>
<li><strong>Строк удалено</strong> – количество строк, удаленных в коммите;</li>
<li><strong>Сложность</strong> – значение цикломатической сложности, рассчитываемое на основе внесенных изменений;</li>
<li><strong>Автор</strong> – имя разработчика, выполнившего коммит.</li>
</ul>
<h2 id="tqi-viewing-results-_6">Визуализация результатов<a class="headerlink" href="#tqi-viewing-results-_6" title="Permanent link">&para;</a></h2>
<h3 id="tqi-viewing-results-_7">Карта активности<a class="headerlink" href="#tqi-viewing-results-_7" title="Permanent link">&para;</a></h3>
<p>Карта активности доступна в разделе <code>TQI –&gt; Проекты</code> на вкладке <strong>Карта активности</strong>. Она отображает весь вклад авторов за выбранный промежуток времени по набору проектов, который можно отфильтровать по следующим параметрам:</p>
<ul>
<li><strong>Дата коммита</strong> – период, в течение которого был совершен коммит в системе контроля версий;</li>
<li><strong>Количество проектов</strong> – общее количество проектов, отображаемое на карте;</li>
<li><strong>Подразделение</strong> – часть организации, которая управляет проектом;</li>
<li><strong>Категория проекта</strong> – категория проекта, назначенная в рамках системы CodeScoring;</li>
<li><strong>Технологии</strong> – языки программирования, используемые в проекте.</li>
</ul>
<p><img alt="Contribution map" src="/assets/img/tqi/contribution-map-projects.png" /></p>
<p>Карту можно также сохранить как PNG изображение.</p>
<h3 id="tqi-viewing-results-_8">Карта сложности<a class="headerlink" href="#tqi-viewing-results-_8" title="Permanent link">&para;</a></h3>
<p>Карта сложности доступна в разделе <code>TQI –&gt; Проекты</code> на вкладке <strong>Карта сложности</strong>. Она отображает изменение сложности набора проектов, который можно отфильтровать по следующим параметрам:</p>
<ul>
<li><strong>Дата коммита</strong> – период, в течение которого был совершен коммит в системе контроля версий;</li>
<li><strong>Количество проектов</strong> – общее количество проектов, отображаемое на карте;</li>
<li><strong>Подразделение</strong> – часть организации, которая управляет проектом;</li>
<li><strong>Категория проектов</strong> – категория, назначенная в рамках системы CodeScoring;</li>
<li><strong>Технологии</strong> – языки программирования, используемые в проекте.</li>
</ul>
<p><img alt="Complexity map" src="/assets/img/tqi/complexity-map.png" /></p>
<p>Карту можно также сохранить как PNG изображение.</p></section><section class="print-page" id="tqi-clones" heading-number="4.6.2.3"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#tqi-clones.en">English</a></li>
</ul>
<h1 id="tqi-clones-_1">Отслеживание дубликатов кода<a class="headerlink" href="#tqi-clones-_1" title="Permanent link">&para;</a></h1>
<p>CodeScoring.TQI позволяет отслеживать фрагменты кода, которые были скопированы из одного проекта организации в другой, или продублированы в рамках одного проекта.</p>
<h2 id="tqi-clones-_2">Межпроектные дубликаты<a class="headerlink" href="#tqi-clones-_2" title="Permanent link">&para;</a></h2>
<p>В разделе <code>TQI -&gt; Дубликаты кода -&gt; Межпроектные</code> отображается список проектов, между которыми было произведено копирование. При нажатии на количество дубликатов отобразится таблица с детальной информацией о произведенном копировании с указанием следующих полей:</p>
<ul>
<li>Выдержки скопированного кода с ссылкой на коммит в системе контроля версий;</li>
<li>Направление копирования;</li>
<li>Дата коммита;</li>
<li>Автор;</li>
<li>Количество скопированных строк;</li>
<li>Уровень встречаемости дубликата (низкий, средний, высокий);</li>
<li>Технология.</li>
</ul>
<h2 id="tqi-clones-_3">Внутрипроектные дубликаты<a class="headerlink" href="#tqi-clones-_3" title="Permanent link">&para;</a></h2>
<p>В разделе <code>TQI -&gt; Дубликаты кода -&gt; Внутрипроектные</code> отображается список проектов, в которых копировались фрагменты кода, а также процент дубликатов от общего кода проекта и уровень встречаемости. При нажатии на количество дубликатов отобразится таблица с детальной информацией о произведенном копировании с указанием следующих полей:</p>
<ul>
<li>Выдержки скопированного кода с ссылкой на коммит в системе контроля версий;</li>
<li>Направление копирования;</li>
<li>Дата коммита;</li>
<li>Автор;</li>
<li>Количество скопированных строк;</li>
<li>Уровень встречаемости дубликата (низкий, средний, высокий);</li>
<li>Технология.</li>
</ul>
<h2 id="tqi-clones-_4">Карта дубликатов<a class="headerlink" href="#tqi-clones-_4" title="Permanent link">&para;</a></h2>
<p>В разделе <code>TQI -&gt; Дубликаты кода -&gt; Карта дубликатов</code> можно увидеть визуализацию заимствований между проектами. Карту дубликатов можно отфильтровать по следующим полям:</p>
<ul>
<li><strong>Подразделение</strong> – часть организации, к которой относится проект;</li>
<li><strong>Категория проекта</strong> – категория проекта в рамках системы CodeScoring.</li>
</ul>
<p><img alt="Clones map" src="/assets/img/tqi/clones-map.png" /></p>
<p>При нажатии на пересечение между двумя проектами произойдет переход на страницу с детальным описанием дубликатов. Карту можно также сохранить как PNG изображение.</p></section><section class="print-page" id="tqi-metrics" heading-number="4.6.2.4"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#tqi-metrics.en">English</a></li>
</ul>
<h1 id="tqi-metrics-_1">Расчет метрик технического долга<a class="headerlink" href="#tqi-metrics-_1" title="Permanent link">&para;</a></h1>
<p>CodeScoring.TQI отслеживает несколько метрик технического долга. Основные из них – <strong>цикломатическая сложность</strong>, <strong>встречаемость дубликатов</strong>, <strong>темп изменений</strong>.</p>
<h2 id="tqi-metrics-_2">Расчет цикломатической сложности<a class="headerlink" href="#tqi-metrics-_2" title="Permanent link">&para;</a></h2>
<p><strong>Цикломатическая сложность</strong> – это показатель, который отражает количество независимых путей в коде. Чем выше это значение, тем сложнее поддерживать и тестировать код.</p>
<p>Расчет ведется по формуле:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#tqi-metrics-__codelineno-0-1"></a>M = E - N + 2P
</code></pre></div>
<p>Где:</p>
<ul>
<li><strong>M</strong> – цикломатическая сложность;</li>
<li><strong>E</strong> – количество рёбер (переходов между операторами);</li>
<li><strong>N</strong> – количество узлов (операторов, условий);</li>
<li><strong>P</strong> – количество компонент связности (обычно 1).</li>
</ul>
<p>Пример:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#tqi-metrics-__codelineno-1-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">is_even</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#tqi-metrics-__codelineno-1-2"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Even&quot;</span> <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="s2">&quot;Odd&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Цикломатическая сложность:</p>
<ul>
<li><strong>N = 3</strong> (вход, <code>if-else</code>, <code>print</code>).</li>
<li><strong>E = 3</strong> (вход -&gt; <code>if-else</code>, <code>if-else</code> -&gt; <code>print</code>, <code>print</code> -&gt; выход).</li>
<li><strong>P = 1</strong> (функция).</li>
</ul>
<p>Таким образом цикломатическая сложность составляет M = E - N + 2P = 3 - 3 + 2 = <strong>2</strong></p>
<p>Уровни сложности:</p>
<ul>
<li><strong>Низкая</strong>: &lt; 10 (простой код, легко читаемый и поддерживаемый);</li>
<li><strong>Средняя</strong>: 10–20 (умеренно сложный код, требует внимания при изменениях);</li>
<li><strong>Высокая</strong>: &gt; 20 (сложный код, возможны проблемы с тестированием и поддержкой).</li>
</ul>
<h2 id="tqi-metrics-_3">Расчет процента внутрипроектных дубликатов<a class="headerlink" href="#tqi-metrics-_3" title="Permanent link">&para;</a></h2>
<p>Этот показатель отражает, какая часть кода проекта является дублируемой. Он рассчитывается по следующей формуле:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#tqi-metrics-__codelineno-2-1"></a>Процент дубликатов = (количество дублируемых строк кода / общее количество строк кода) * 100%
</code></pre></div>
<p>Чем выше этот процент, тем больше кода можно оптимизировать с помощью рефакторинга.</p>
<h2 id="tqi-metrics-_4">Расчет встречаемости дубликатов<a class="headerlink" href="#tqi-metrics-_4" title="Permanent link">&para;</a></h2>
<p>Этот показатель оценивает масштаб распространения дублированного кода по проекту.</p>
<p>Категории:</p>
<ul>
<li><strong>Низкий уровень</strong> – если дублируемых строк меньше 50;</li>
<li><strong>Средний уровень</strong> – если дублируемых строк от 50 до 300;</li>
<li><strong>Высокий уровень</strong> – если дублируемых строк больше 300.</li>
</ul>
<h2 id="tqi-metrics-_5">Графики влияния изменений<a class="headerlink" href="#tqi-metrics-_5" title="Permanent link">&para;</a></h2>
<p>Оценить влияние изменений на проект можно по следующим параметрам на общем графике:</p>
<ul>
<li>Темп;</li>
<li>Скорость;</li>
<li>Плотность.</li>
</ul>
<p><img alt="Project rate" src="/assets/img/tqi/tqi-rate.png" /></p>
<p>Размер элемента на графике позволяет оценить его влияние на выборку.
Расчет выполняется за период. Минимальный период - неделя.</p>
<p>Размеры элементов в выборке нормированы.
Нормирование выборки выполняется по формуле:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#tqi-metrics-__codelineno-3-1"></a>X’ = (X−Xmin)/(Xmax−Xmin)
</code></pre></div>
<p>Где:</p>
<ul>
<li><strong>Xmin</strong> - минимальное значение в выборке;</li>
<li><strong>Xmax</strong> - максимальное значение в выборке;</li>
<li><strong>X’</strong> - нормализованное значение.</li>
</ul>
<h3 id="tqi-metrics-_6">Расчет темпа изменений<a class="headerlink" href="#tqi-metrics-_6" title="Permanent link">&para;</a></h3>
<p><strong>Темп изменений</strong> показывает объем изменения кода относительно общего объема строк кода. Высокий темп изменения кода указывает на частые изменения требований или нестабильный ритм работы команды разработки.</p>
<p>Расчет ведется по формуле:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#tqi-metrics-__codelineno-4-1"></a>R = L / T
</code></pre></div>
<p>Где:</p>
<ul>
<li><strong>R</strong> – темп изменений;</li>
<li><strong>L</strong> – количество внесенных (добавленных, удаленных, модифицированных) строк кода, за расчетный период;</li>
<li><strong>T</strong> – общее количество строк кода в репозитории проекта на начало расчетного периода.</li>
</ul>
<h3 id="tqi-metrics-_7">Расчет скорости изменений<a class="headerlink" href="#tqi-metrics-_7" title="Permanent link">&para;</a></h3>
<p><strong>Скорость изменений</strong> показывает объем изменений в коде относительно количества коммитов. При высоких значениях возрастает нагрузка при проведении код-ревью, тестирования и сопровождения.</p>
<p>Расчет ведется по формуле:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#tqi-metrics-__codelineno-5-1"></a>V = T / C
</code></pre></div>
<p>Где:</p>
<ul>
<li><strong>V</strong> – плотность изменений;</li>
<li><strong>L</strong> – количество внесенных (добавленных, удаленных, модифицированных) строк кода, за расчетный период;</li>
<li><strong>C</strong> – количество коммитов.</li>
</ul>
<h3 id="tqi-metrics-_8">Расчет плотности изменений<a class="headerlink" href="#tqi-metrics-_8" title="Permanent link">&para;</a></h3>
<p><strong>Плотность изменений</strong> показывает какой объем изменений в коде был произведен относительно количества измененных файлов. Большое значение плотности свидетельствует об модификации большого количества модулей. Повышается нагрузка про проведении код-ревью, тестирования и сопровождения.</p>
<p>Расчет ведется по формуле:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#tqi-metrics-__codelineno-6-1"></a>D = T / F
</code></pre></div>
<p>Где:</p>
<ul>
<li><strong>D</strong> – плотность изменений;</li>
<li><strong>L</strong> – количество внесенных (добавленных, удаленных, модифицированных) строк кода, за расчетный период;</li>
<li><strong>F</strong> – количество измененных файлов.</li>
</ul></section></section>
                    <section class='print-page md-section' id='section-4-6-3' heading-number='4.6.3'>
                        <h1>Анализ авторов<a class='headerlink' href='#section-4-6-3' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="tqi-authors" heading-number="4.6.3.1"><ul>
<li class="i18n-link i18n-link-found i18n-link-en"><a href="#tqi-authors.en">English</a></li>
</ul>
<h1 id="tqi-authors-_1">Построение профилей авторов<a class="headerlink" href="#tqi-authors-_1" title="Permanent link">&para;</a></h1>
<p>CodeScoring.TQI позволяет изучать индивидуальный вклад авторов в проекты с помощью интерактивных профилей и визуализации активности. Информация об авторах доступна в нескольких форматах, помогающих оценить их работу наиболее полным образом.</p>
<h2 id="tqi-authors-_2">Список авторов<a class="headerlink" href="#tqi-authors-_2" title="Permanent link">&para;</a></h2>
<p>В разделе <code>TQI -&gt; Авторы</code> содержится весь авторский состав, участвующий в изменении кодовой базы организации.</p>
<ul>
<li><strong>Авторы</strong> – имя и почта автора, допускается выбрать нескольких;</li>
<li><strong>Работает с</strong> – дата первого коммита автора;</li>
<li><strong>Последняя активность</strong> – дата последнего коммита автора в проекте;</li>
<li><strong>Активность, месяцы</strong> – количество месяцев, в течение которых автор активно коммитил изменения;</li>
<li><strong>Проекты</strong> – общее количество проектов, в которых участвовал автор;</li>
<li><strong>Всего коммитов</strong> – общее количество коммитов, сделанных автором в проекте. Доступна детализация при наведении курсора на значение;</li>
<li><strong>Сложность</strong> – средняя цикломатическая сложность по коммитам автора в проекте;</li>
<li><strong>Дубликаты</strong> – количество заимствованных автором фрагментов кода;</li>
<li><strong>OSS проекты</strong> – общее количество Open Source проектов, в которых участвовал автор;</li>
<li><strong>Подразделение</strong> – часть организации, к которой относится автор;</li>
<li><strong>Технологии</strong> – языки программирования, с которыми работает автор (определяется по его коммитам).</li>
</ul>
<h2 id="tqi-authors-_3">Карта активности<a class="headerlink" href="#tqi-authors-_3" title="Permanent link">&para;</a></h2>
<p>Работа авторов визуализируется в виде карты активности, которую можно увидеть на вкладке <strong>Карта активности</strong>.</p>
<p>Карту можно отфильтровать по следующим параметрам:</p>
<ul>
<li><strong>Дата коммита</strong> – период, в течение которого был совершен коммит в системе контроля версий;</li>
<li><strong>Количество авторов</strong> – общее количество авторов, отображаемое на карте;</li>
<li><strong>Подразделение</strong> – часть организации, которая управляет проектом;</li>
<li><strong>Категория проектов</strong> – категория, назначенная в рамках системы CodeScoring;</li>
<li><strong>Проект</strong> – название проекта;</li>
<li><strong>Технологии</strong> – языки программирования, используемые в проекте;</li>
<li><strong>Авторы</strong> - имя и почта автора, допускается выбрать нескольких.</li>
</ul>
<p>Фильтр по технологии (языку) применяется к коммитам. Если в коммите есть изменения на указанном языке, он включается в выборку.</p>
<p>Допустим, есть следующие коммиты:</p>
<table>
<thead>
<tr>
<th>Автор</th>
<th>Язык 1</th>
<th>Доля</th>
<th>Язык 2</th>
<th>Доля</th>
</tr>
</thead>
<tbody>
<tr>
<td>Автор 1</td>
<td>Python</td>
<td>100%</td>
<td>JS</td>
<td>1%</td>
</tr>
<tr>
<td>Автор 1</td>
<td>Python</td>
<td>50%</td>
<td>Java</td>
<td>50%</td>
</tr>
<tr>
<td>Автор 2</td>
<td>Java</td>
<td>100%</td>
<td>—</td>
<td>—</td>
</tr>
<tr>
<td>Автор 2</td>
<td>JS</td>
<td>100%</td>
<td>—</td>
<td>—</td>
</tr>
<tr>
<td>Автор 2</td>
<td>JS</td>
<td>99%</td>
<td>Python</td>
<td>1%</td>
</tr>
</tbody>
</table>
<p>Если установить фильтр на <strong>Python</strong>, то в выборку попадут коммиты <strong>1, 2 и 5</strong>, так как они содержат изменения на этом языке.</p>
<p>После фильтрации коммиты группируются по месяцам и агрегируются. В результате возможны ситуации, когда основной язык месяца — JS, а Python занимает всего <strong>1%</strong>, но при этом он всё равно попадает в выборку.</p>
<p><img alt="Contribution map for authors" src="/assets/img/tqi/contribution-map-authors.png" /></p>
<p>Карту можно также сохранить как PNG изображение.</p>
<h2 id="tqi-authors-_4">Страница автора<a class="headerlink" href="#tqi-authors-_4" title="Permanent link">&para;</a></h2>
<p>На индивидуальной странице автора содержатся ключевые метрики его работы:</p>
<ul>
<li><strong>Период активности</strong> – даты начала активности и последнего изменения от автора;</li>
<li><strong>Активность, месяцы</strong> – количество месяцев, в течение которых автор активно коммитил изменения относительно общего времени участия в проектах;</li>
<li><strong>Проекты организации</strong> – количество проприетарных проектов, в которые автор вносил изменения;</li>
<li><strong>Open Source проекты</strong> – количество проектов с открытым исходным кодом, в которые автор вносил изменения;</li>
<li><strong>Сложность</strong> – средняя цикломатическая сложность по коммитам автора в проектах;</li>
<li><strong>Дубликаты</strong> – количество заимствованных автором фрагментов кода;</li>
<li><strong>Строки кода</strong> – общее количество строк кода, написанных автором во всех проектах;</li>
<li><strong>Строк добавлено</strong> - количество добавленных строк;</li>
<li><strong>Строк изменено</strong> - количество измененных строк;</li>
<li><strong>Строк удалено</strong> - количество удаленных строк;</li>
<li><strong>Всего коммитов</strong> – общее количество коммитов (коммиты + мерж коммиты), сделанных автором во всех проектах;</li>
<li><strong>Коммиты</strong> - количество коммитов автора;</li>
<li><strong>Мерж-коммиты</strong> - количество мерж-коммитов автора;</li>
<li><strong>Новизна</strong> - доля добавленных строк кода относительно общего количества строк кода, написанных автором;</li>
<li><strong>Рефакторинг</strong> - доля измененных и удаленных строк кода относительно общего количества строк кода, написанных автором;</li>
</ul>
<p><img alt="Author" src="/assets/img/tqi/tqi-author.png" /></p>
<p>Помимо этого на странице можно увидеть списки проектов организации, и Open Source проекты, в которых участвовал автор.</p>
<p>На вкладке <strong>Похожие авторы</strong> содержится список разработчиков с наиболее схожими компетенциями к автору. Процент схожести между авторами рассчитывается из набора используемых технологий, участия в проектах и сложности написанного кода.</p>
<h2 id="tqi-authors-_5">Правила объединения авторов<a class="headerlink" href="#tqi-authors-_5" title="Permanent link">&para;</a></h2>
<p>Профили авторов можно объединять по почте в случае наличии дубликатов или нескольких аккаунтов одного и того же разработчика.</p>
<p>В разделе <code>Настройки -&gt; Авторы</code> доступно автоматическое объединение авторов по кнопке <strong>Создать правила автоматически</strong>, а также создание правил объединения вручную по кнопке <strong>Добавить новое правило</strong>.</p>
<p>После объединения профиль автора будет содержать все связанные с его основной почтой адреса, а его активность будет отслеживаться по всем коммитам с указанными адресами.</p>
<div class="admonition warning доступ">
<p class="admonition-title">Warning</p>
<p>Пользователь независимо от уровня доступа может просматривать "Правила объединения авторов", если email, указанный в его профиле, присутствует в правиле.</p>
</div></section></section></section></section>
                    <section class='print-page md-section' id='section-5' heading-number='5'>
                        <h1>Changelog<a class='headerlink' href='#section-5' title='Permanent link'></a>
                        </h1>
                    </section></div><style>.print-site-enumerate-headings #section-1 > h1:before { content: '1 ' }
.print-site-enumerate-headings #section-2 > h1:before { content: '2 ' }
.print-site-enumerate-headings #functionality > h1:before { content: '2.1 ' }

                .print-site-enumerate-headings #functionality h2:before { content: '2.1.' counter(counter-functionality-2) ' ' }
                .print-site-enumerate-headings #functionality h2 {  counter-increment: counter-functionality-2 }
            
.print-site-enumerate-headings #integration-stages > h1:before { content: '2.2 ' }

                .print-site-enumerate-headings #integration-stages h2:before { content: '2.2.' counter(counter-integration-stages-2) ' ' }
                .print-site-enumerate-headings #integration-stages h2 {  counter-increment: counter-integration-stages-2 }
            
.print-site-enumerate-headings #supported-package-managers > h1:before { content: '2.3 ' }

                .print-site-enumerate-headings #supported-package-managers h2:before { content: '2.3.' counter(counter-supported-package-managers-2) ' ' }
                .print-site-enumerate-headings #supported-package-managers h2 {  counter-increment: counter-supported-package-managers-2 }
            
.print-site-enumerate-headings #standards > h1:before { content: '2.4 ' }

                .print-site-enumerate-headings #standards h2:before { content: '2.4.' counter(counter-standards-2) ' ' }
                .print-site-enumerate-headings #standards h2 {  counter-increment: counter-standards-2 }
            
.print-site-enumerate-headings #section-3 > h1:before { content: '3 ' }
.print-site-enumerate-headings #admin-guide > h1:before { content: '3.1 ' }

                .print-site-enumerate-headings #admin-guide h2:before { content: '3.1.' counter(counter-admin-guide-2) ' ' }
                .print-site-enumerate-headings #admin-guide h2 {  counter-increment: counter-admin-guide-2 }
            
.print-site-enumerate-headings #section-3-2 > h1:before { content: '3.2 ' }
.print-site-enumerate-headings #on-premise-server-requirements > h1:before { content: '3.2.1 ' }

.print-site-enumerate-headings #section-3-2-2 > h1:before { content: '3.2.2 ' }
.print-site-enumerate-headings #on-premise-installation > h1:before { content: '3.2.2.1 ' }

.print-site-enumerate-headings #on-premise-external-database > h1:before { content: '3.2.2.2 ' }

.print-site-enumerate-headings #on-premise-installation-in-k8s > h1:before { content: '3.2.2.3 ' }

.print-site-enumerate-headings #section-3-2-3 > h1:before { content: '3.2.3 ' }
.print-site-enumerate-headings #on-premise-update > h1:before { content: '3.2.3.1 ' }

.print-site-enumerate-headings #on-premise-postgres-upgrade-compose > h1:before { content: '3.2.3.2 ' }

.print-site-enumerate-headings #on-premise-backup > h1:before { content: '3.2.3.3 ' }

.print-site-enumerate-headings #on-premise-proxy > h1:before { content: '3.2.3.4 ' }

.print-site-enumerate-headings #on-premise-self-signed-ssl > h1:before { content: '3.2.3.5 ' }

.print-site-enumerate-headings #on-premise-postgresql-tls > h1:before { content: '3.2.3.6 ' }

.print-site-enumerate-headings #on-premise-analysis-ignore-paths > h1:before { content: '3.2.3.7 ' }

.print-site-enumerate-headings #on-premise-scripts > h1:before { content: '3.2.3.8 ' }

.print-site-enumerate-headings #on-premise-variables-extended > h1:before { content: '3.2.3.9 ' }

.print-site-enumerate-headings #on-premise-containers-description > h1:before { content: '3.2.3.10 ' }

.print-site-enumerate-headings #on-premise-troubleshooting > h1:before { content: '3.2.3.11 ' }

.print-site-enumerate-headings #section-3-3 > h1:before { content: '3.3 ' }
.print-site-enumerate-headings #on-premise-how-to-activation > h1:before { content: '3.3.1 ' }

.print-site-enumerate-headings #on-premise-how-to-author-audit > h1:before { content: '3.3.2 ' }

.print-site-enumerate-headings #section-3-3-3 > h1:before { content: '3.3.3 ' }
.print-site-enumerate-headings #on-premise-how-to-users > h1:before { content: '3.3.3.1 ' }

.print-site-enumerate-headings #on-premise-how-to-groups > h1:before { content: '3.3.3.2 ' }

.print-site-enumerate-headings #on-premise-how-to-ldap-settings > h1:before { content: '3.3.3.3 ' }

.print-site-enumerate-headings #on-premise-how-to-oidc > h1:before { content: '3.3.3.4 ' }

.print-site-enumerate-headings #section-4 > h1:before { content: '4 ' }
.print-site-enumerate-headings #user-guide > h1:before { content: '4.1 ' }

                .print-site-enumerate-headings #user-guide h2:before { content: '4.1.' counter(counter-user-guide-2) ' ' }
                .print-site-enumerate-headings #user-guide h2 {  counter-increment: counter-user-guide-2 }
            
.print-site-enumerate-headings #section-4-2 > h1:before { content: '4.2 ' }
.print-site-enumerate-headings #on-premise-how-to-general > h1:before { content: '4.2.1 ' }

.print-site-enumerate-headings #on-premise-how-to-user-profile > h1:before { content: '4.2.2 ' }

.print-site-enumerate-headings #section-4-2-3 > h1:before { content: '4.2.3 ' }
.print-site-enumerate-headings #on-premise-how-to-policies > h1:before { content: '4.2.3.1 ' }

.print-site-enumerate-headings #on-premise-how-to-ignores > h1:before { content: '4.2.3.2 ' }

.print-site-enumerate-headings #section-4-2-4 > h1:before { content: '4.2.4 ' }
.print-site-enumerate-headings #on-premise-how-to-vcs-git > h1:before { content: '4.2.4.1 ' }

.print-site-enumerate-headings #on-premise-how-to-projects > h1:before { content: '4.2.4.2 ' }

.print-site-enumerate-headings #section-4-2-5 > h1:before { content: '4.2.5 ' }
.print-site-enumerate-headings #on-premise-how-to-proprietors > h1:before { content: '4.2.5.1 ' }

.print-site-enumerate-headings #on-premise-how-to-notifications > h1:before { content: '4.2.5.2 ' }

.print-site-enumerate-headings #on-premise-how-to-audit-log > h1:before { content: '4.2.5.3 ' }

.print-site-enumerate-headings #on-premise-how-to-metrics > h1:before { content: '4.2.5.4 ' }

.print-site-enumerate-headings #on-premise-how-to-webhooks > h1:before { content: '4.2.5.5 ' }

.print-site-enumerate-headings #on-premise-how-to-api > h1:before { content: '4.2.5.6 ' }

.print-site-enumerate-headings #section-4-2-6 > h1:before { content: '4.2.6 ' }
.print-site-enumerate-headings #feeds > h1:before { content: '4.2.6.1 ' }

.print-site-enumerate-headings #feeds-protestware > h1:before { content: '4.2.6.2 ' }

.print-site-enumerate-headings #feeds-kaspersky > h1:before { content: '4.2.6.3 ' }

.print-site-enumerate-headings #feeds-oss-index > h1:before { content: '4.2.6.4 ' }

.print-site-enumerate-headings #section-4-3 > h1:before { content: '4.3 ' }
.print-site-enumerate-headings #osa > h1:before { content: '4.3.1 ' }

.print-site-enumerate-headings #section-4-3-2 > h1:before { content: '4.3.2 ' }
.print-site-enumerate-headings #osa-nexus_osa > h1:before { content: '4.3.2.1 ' }

.print-site-enumerate-headings #osa-jfrog_osa > h1:before { content: '4.3.2.2 ' }

.print-site-enumerate-headings #osa-sfera_osa > h1:before { content: '4.3.2.3 ' }

.print-site-enumerate-headings #osa-archives > h1:before { content: '4.3.2.4 ' }

.print-site-enumerate-headings #section-4-3-3 > h1:before { content: '4.3.3 ' }
.print-site-enumerate-headings #osa-repo-managers > h1:before { content: '4.3.3.1 ' }

.print-site-enumerate-headings #osa-registries > h1:before { content: '4.3.3.2 ' }

.print-site-enumerate-headings #osa-osa-policies > h1:before { content: '4.3.3.3 ' }

.print-site-enumerate-headings #osa-components > h1:before { content: '4.3.3.4 ' }

.print-site-enumerate-headings #osa-update > h1:before { content: '4.3.3.5 ' }

.print-site-enumerate-headings #section-4-3-4 > h1:before { content: '4.3.4 ' }
.print-site-enumerate-headings #osa-proxy > h1:before { content: '4.3.4.1 ' }

.print-site-enumerate-headings #osa-proxy-installation > h1:before { content: '4.3.4.2 ' }

.print-site-enumerate-headings #osa-proxy-config > h1:before { content: '4.3.4.3 ' }

.print-site-enumerate-headings #osa-proxy-config-caching > h1:before { content: '4.3.4.4 ' }

.print-site-enumerate-headings #osa-proxy-protocols > h1:before { content: '4.3.4.5 ' }

.print-site-enumerate-headings #osa-proxy-metrics > h1:before { content: '4.3.4.6 ' }

.print-site-enumerate-headings #osa-proxy-base64-url > h1:before { content: '4.3.4.7 ' }

.print-site-enumerate-headings #osa-proxy-config-maven > h1:before { content: '4.3.4.8 ' }

.print-site-enumerate-headings #osa-proxy-config-npm > h1:before { content: '4.3.4.9 ' }

.print-site-enumerate-headings #osa-proxy-config-nuget > h1:before { content: '4.3.4.10 ' }

.print-site-enumerate-headings #osa-proxy-config-pypi > h1:before { content: '4.3.4.11 ' }

.print-site-enumerate-headings #osa-proxy-config-go > h1:before { content: '4.3.4.12 ' }

.print-site-enumerate-headings #osa-proxy-config-debian > h1:before { content: '4.3.4.13 ' }

.print-site-enumerate-headings #osa-proxy-config-docker > h1:before { content: '4.3.4.14 ' }

.print-site-enumerate-headings #osa-proxy-config-apk > h1:before { content: '4.3.4.15 ' }

.print-site-enumerate-headings #osa-proxy-config-rpm > h1:before { content: '4.3.4.16 ' }

.print-site-enumerate-headings #section-4-4 > h1:before { content: '4.4 ' }
.print-site-enumerate-headings #sca > h1:before { content: '4.4.1 ' }

.print-site-enumerate-headings #section-4-4-2 > h1:before { content: '4.4.2 ' }
.print-site-enumerate-headings #sca-launch-analysis > h1:before { content: '4.4.2.1 ' }

.print-site-enumerate-headings #sca-sca-dependencies > h1:before { content: '4.4.2.2 ' }

.print-site-enumerate-headings #sca-vulnerabilities > h1:before { content: '4.4.2.3 ' }

.print-site-enumerate-headings #sca-scan-history > h1:before { content: '4.4.2.4 ' }

.print-site-enumerate-headings #sca-export-results > h1:before { content: '4.4.2.5 ' }

.print-site-enumerate-headings #sca-project-groups > h1:before { content: '4.4.2.6 ' }

.print-site-enumerate-headings #section-4-4-3 > h1:before { content: '4.4.3 ' }
.print-site-enumerate-headings #agent > h1:before { content: '4.4.3.1 ' }

.print-site-enumerate-headings #agent-config > h1:before { content: '4.4.3.2 ' }

.print-site-enumerate-headings #agent-env-variables > h1:before { content: '4.4.3.3 ' }

.print-site-enumerate-headings #agent-scan > h1:before { content: '4.4.3.4 ' }

.print-site-enumerate-headings #agent-scan-dir > h1:before { content: '4.4.3.5 ' }

.print-site-enumerate-headings #agent-scan-file > h1:before { content: '4.4.3.6 ' }

.print-site-enumerate-headings #agent-scan-archive > h1:before { content: '4.4.3.7 ' }

.print-site-enumerate-headings #agent-scan-docker > h1:before { content: '4.4.3.8 ' }

.print-site-enumerate-headings #agent-scan-build > h1:before { content: '4.4.3.9 ' }

.print-site-enumerate-headings #agent-scan-bom > h1:before { content: '4.4.3.10 ' }

.print-site-enumerate-headings #agent-scan-technology > h1:before { content: '4.4.3.11 ' }

.print-site-enumerate-headings #agent-scan-secrets > h1:before { content: '4.4.3.12 ' }

.print-site-enumerate-headings #agent-reachability > h1:before { content: '4.4.3.13 ' }

.print-site-enumerate-headings #agent-sign-verify-bom > h1:before { content: '4.4.3.14 ' }

.print-site-enumerate-headings #agent-launch-docker > h1:before { content: '4.4.3.15 ' }

.print-site-enumerate-headings #agent-gitlab-ci > h1:before { content: '4.4.3.16 ' }

.print-site-enumerate-headings #agent-jenkins-pipeline > h1:before { content: '4.4.3.17 ' }

.print-site-enumerate-headings #agent-gitflic-ci > h1:before { content: '4.4.3.18 ' }

.print-site-enumerate-headings #agent-save-results > h1:before { content: '4.4.3.19 ' }

.print-site-enumerate-headings #agent-export > h1:before { content: '4.4.3.20 ' }

.print-site-enumerate-headings #agent-resolve > h1:before { content: '4.4.3.21 ' }

.print-site-enumerate-headings #section-4-4-4 > h1:before { content: '4.4.4 ' }
.print-site-enumerate-headings #ide > h1:before { content: '4.4.4.1 ' }

.print-site-enumerate-headings #ide-vscode-sca > h1:before { content: '4.4.4.2 ' }

.print-site-enumerate-headings #ide-intellij-sca > h1:before { content: '4.4.4.3 ' }

.print-site-enumerate-headings #section-4-4-5 > h1:before { content: '4.4.5 ' }
.print-site-enumerate-headings #dependencies > h1:before { content: '4.4.5.1 ' }

.print-site-enumerate-headings #dependencies-java > h1:before { content: '4.4.5.2 ' }

.print-site-enumerate-headings #dependencies-scala > h1:before { content: '4.4.5.3 ' }

.print-site-enumerate-headings #dependencies-go > h1:before { content: '4.4.5.4 ' }

.print-site-enumerate-headings #dependencies-js > h1:before { content: '4.4.5.5 ' }

.print-site-enumerate-headings #dependencies-dotnet > h1:before { content: '4.4.5.6 ' }

.print-site-enumerate-headings #dependencies-php > h1:before { content: '4.4.5.7 ' }

.print-site-enumerate-headings #dependencies-python > h1:before { content: '4.4.5.8 ' }

.print-site-enumerate-headings #dependencies-ruby > h1:before { content: '4.4.5.9 ' }

.print-site-enumerate-headings #section-4-5 > h1:before { content: '4.5 ' }
.print-site-enumerate-headings #secrets > h1:before { content: '4.5.1 ' }

.print-site-enumerate-headings #section-4-5-2 > h1:before { content: '4.5.2 ' }
.print-site-enumerate-headings #secrets-secrets-setup > h1:before { content: '4.5.2.1 ' }

.print-site-enumerate-headings #secrets-secrets-vcs > h1:before { content: '4.5.2.2 ' }

.print-site-enumerate-headings #section-4-5-3 > h1:before { content: '4.5.3 ' }
.print-site-enumerate-headings #secrets-secrets-launch > h1:before { content: '4.5.3.1 ' }

.print-site-enumerate-headings #secrets-secrets-cli > h1:before { content: '4.5.3.2 ' }

.print-site-enumerate-headings #secrets-secrets-findings > h1:before { content: '4.5.3.3 ' }

.print-site-enumerate-headings #secrets-secrets-model > h1:before { content: '4.5.4 ' }

.print-site-enumerate-headings #section-4-6 > h1:before { content: '4.6 ' }
.print-site-enumerate-headings #tqi > h1:before { content: '4.6.1 ' }

.print-site-enumerate-headings #section-4-6-2 > h1:before { content: '4.6.2 ' }
.print-site-enumerate-headings #tqi-launch-analysis > h1:before { content: '4.6.2.1 ' }

.print-site-enumerate-headings #tqi-viewing-results > h1:before { content: '4.6.2.2 ' }

.print-site-enumerate-headings #tqi-clones > h1:before { content: '4.6.2.3 ' }

.print-site-enumerate-headings #tqi-metrics > h1:before { content: '4.6.2.4 ' }

.print-site-enumerate-headings #section-4-6-3 > h1:before { content: '4.6.3 ' }
.print-site-enumerate-headings #tqi-authors > h1:before { content: '4.6.3.1 ' }

.print-site-enumerate-headings #section-5 > h1:before { content: '5 ' }</style>












                  

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            let printButton = document.getElementById("print-pdf-btn");
            printButton.onclick = () => window.print();
        });
    </script>


              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  К началу
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2018 - <script>document.write(new Date().getFullYear())</script> CodeScoring
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://www.youtube.com/@codescoring" target="_blank" rel="noopener" title="YouTube" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M549.7 124.1c-6.2-23.7-24.8-42.3-48.3-48.6C458.9 64 288.1 64 288.1 64S117.3 64 74.7 75.5c-23.5 6.3-42 24.9-48.3 48.6C15 167 15 256.4 15 256.4s0 89.4 11.4 132.3c6.3 23.6 24.8 41.5 48.3 47.8C117.3 448 288.1 448 288.1 448s170.8 0 213.4-11.5c23.5-6.3 42-24.2 48.3-47.8 11.4-42.9 11.4-132.3 11.4-132.3s0-89.4-11.4-132.3zM232.2 337.6V175.2l142.7 81.2z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://t.me/codescoring" target="_blank" rel="noopener" title="Telegram" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M256 8a248 248 0 1 0 0 496 248 248 0 1 0 0-496m115 168.7c-3.7 39.2-19.9 134.4-28.1 178.3-3.5 18.6-10.3 24.8-16.9 25.4-14.4 1.3-25.3-9.5-39.3-18.7-21.8-14.3-34.2-23.2-55.3-37.2-24.5-16.1-8.6-25 5.3-39.5 3.7-3.8 67.1-61.5 68.3-66.7.2-.7.3-3.1-1.2-4.4s-3.6-.8-5.1-.5c-2.2.5-37.1 23.5-104.6 69.1-9.9 6.8-18.9 10.1-26.9 9.9-8.9-.2-25.9-5-38.6-9.1-15.5-5-27.9-7.7-26.8-16.3.6-4.5 6.7-9 18.4-13.7 72.3-31.5 120.5-52.3 144.6-62.3 68.9-28.6 83.2-33.6 92.5-33.8 2.1 0 6.6.5 9.6 2.9 2 1.7 3.2 4.1 3.5 6.7.5 3.2.6 6.5.4 9.8z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://vkvideo.ru/@codescoring/all" target="_blank" rel="noopener" title="VK Видео" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M31.5 63.5C0 95 0 145.7 0 247v18c0 101.3 0 152 31.5 183.5S113.7 480 215 480h17.9c101.4 0 152.1 0 183.5-31.5S448 366.3 448 265v-17.9c0-101.4 0-152.1-31.5-183.5S334.3 32 233 32h-18C113.7 32 63 32 31.5 63.5m44.1 104.8h51.1c1.7 85.5 39.4 121.7 69.3 129.2V168.3h48.2V242c29.5-3.2 60.5-36.8 70.9-73.7h48.2c-3.9 19.2-11.8 37.3-23.1 53.3s-25.7 29.5-42.5 39.6c18.7 9.3 35.2 22.4 48.4 38.5s22.9 34.9 28.3 55h-53c-4.9-17.5-14.8-33.1-28.6-45s-30.7-19.4-48.7-21.6v66.6h-5.8c-102.1 0-160.3-70-162.8-186.5z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "/", "features": ["navigation.top", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "navigation.sections", "navigation.icons", "navigation.indexes", "content.code.copy", "content.code.select"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440", "clipboard.copy": "\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0444\u0435\u0440", "search.result.more.one": "\u0415\u0449\u0451 1 \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.more.other": "\u0415\u0449\u0451 # \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.none": "\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e", "search.result.one": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e 1 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435", "search.result.other": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439: #", "search.result.placeholder": "\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430", "search.result.term.missing": "\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442", "select.version": "\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0435\u0440\u0441\u0438\u044e"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../js/print-site.js"></script>
      
        <script src="../js/search.js"></script>
      
        <script src="../js/home.js"></script>
      
    
  </body>
</html>