---
hide:
  - footer
---

# Настройка уведомлений

Для каждой политики можно настроить дополнительные уведомления о срабатывании политик, помимо просмотра результатов в разделе `Алерты`. На данный момент доступно два способа оповещения: через **email** и через таск-менеджер **Jira**.

## Уведомления через email

Отправка email оповещений осуществляется через интеграцию по протоколу SMTP.

Для отправки уведомлений через email необходимо предварительно настроить почтовый сервер в разделе `Настройки -> Email`. Для этого нужно заполнить все обязательные параметры и активировать флаг **Активныфй**.

Проверить правильность конфигурации можно по кнопке **Проверить подключение**.

![CodeScoring email settings example](/assets/img/ru-email-settings.png)

После настройки почтового сервера на вкладке `Действия` на странице политики можно добавить email адрес, на который будет осуществляться рассылка писем с результатами работы политики:

![CodeScoring Policy Actions example](/assets/img/policy_actions_email.png)

- **Email** — почтовый адрес;
- **Режим** — режим отправки писем:
  - Отправить каждое оповещение отдельно;
  - Отправить все оповещения вместе.
- **Группы** — группы проектов, на которые делается оповещение. Если не указано, подразумеваются все группы;
- **Проекты** — конкретные проекты, на которые делается оповещение. Если не указано, подразумеваются все проекты.

Если указаны и группы, и проекты, то оповещения будут включать в себя информацию по всем проектам из указанных групп и по всем указанным проектам.

Письмо с результатами работы политики отправляется **по завершении сканирования проекта**. В письме содержится список всех политик, для которых были настроены уведомления и которые сработали как минимум один раз, а также следующая информация о данных политиках:

- **Policy name** — название сработавшей политики;
- **Blocker** — признак блокирующей политики;
- **Dependency**  — название компонента;
- **Vulnerability** — идентификатор уязвимости.

## Создание задач в Jira

CodeScoring поддерживает интеграцию с таск-менеджером Jira для формирования задач по сработавшим политикам. Настройка интеграции происходит в разделе `Настройки -> Менеджеры задач`.

Для создания новой интеграции используется форма по кнопке **Добавить**.

- **Название** - название интеграции;
- **Тип** - тип таск-менеджера (по умолчанию – Jira Server);
- **URL** - адрес, по которому доступен таск-менеджер;
- **Тип аутентификации** - аутентификация через токен доступа или логин и пароль.

После заполнения полей можно проверить соединение с сервером по кнопке **Проверить подключение**, или завершить создание по кнопке **Добавить**.

![CodeScoring Jira settings example](/assets/img/ru-jira-settings.png)

После настройки интеграции на вкладке `Действия` на странице политики можно добавить сервер Jira, на котором будет создаваться задача с результатами работы политики:

![CodeScoring Jira settings example](/assets/img/policy_actions_task_manager.png)

- **Режим** — режим отправки:
  - Отправить каждое оповещение отдельно;
  - Отправить все оповещения вместе.
- **Группы** — группы проектов, на которые делается оповещение. Если не указано, подразумеваются все группы;
- **Проекты** — конкретные проекты, на которые делается оповещение. Если не указано, подразумеваются все проекты;
- **Сервер** — таск-менеджер (в данном случае Jira);
- **Проект** — проект в Jira;
- **Задача** — тип карточки: *Task*, *Story* или *Bug*.

Если указаны и группы, и проекты, то оповещения будут включать в себя информацию по всем проектам из указанных групп и по всем указанным проектам.

![CodeScoring Policy Actions example](/assets/img/policy_actions.png)
