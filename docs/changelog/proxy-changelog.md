---
hide:
 - footer
---

# OSA Proxy Changelog

### [2025.52.1] - 2026-01-15

#### Исправлено
- Исправлена ошибка проверки состояния (healthcheck) Redis в случае, если кэш отключён

### [2025.52.0] - 2025-12

#### Добавлено

- Добавлено кэширование результатов проверки политик в Redis с поддержкой TTL и фонового обновления. Подробнее в [документации](/osa-proxy/config-caching)
- Добавлен механизм проактивного обновления кэша по таймеру
- Добавлен Swagger UI для документации API (`/api/swagger`)
- Добавлен REST API для управления кэшем (`/api/cache`)
- Добавлено обновление заголовков (`Last-Modified`, `ETag`) для манифестов. Это решает проблему "устаревших" манифестов, с точки зрения политик.

#### Изменено

- Увеличено значение по умолчанию для переменной конфигурации `max-in-memory-size` с 50MB до 150MB (для обработки больших манифестов)
- Оптимизирована обработка манифестов NPM с использованием потокового процессора для повышения скорости обработки больших файлов и снижения нагрузки для сборщика мусора

### [2025.48.3] - 2025-12-08

#### Исправлено

- Устранена утечка ресурсов, которая проявлялась непосредственно перед циклом сборки мусора (GC)
- Исправлено поведение, приводившее к некорректному срабатыванию ошибки `Connection prematurely closed BEFORE response` в случаях, когда соединение было закрыто на стороне сервера или обратного прокси

### [2025.48.2] - 2025-12-02

#### Исправлено

- Исправлена ошибочная блокировка пакетов, имеющих дату публикации при активной политике `Дата публикации зависимости отсутствует`

### [2025.48.0] - 2025-11-28

#### Исправлено

- Исправлено применение политик безопасности для версий пакетов, данные о которых отсутствуют в CodeScoring Index на момент сканирования

### [2025.47.0] - 2025-11-19

#### Добавлено

- Реализована поддержка пакетов [Go](/osa-proxy/config-go) и [Debian](/osa-proxy/config-debian)
- Введена обработка статуса DELAYED
- Расширена функциональность прокси-сервера для передачи контекста через URL, что обеспечивает применение политик, привязанных к репозиториям, в конфигурации `jfrog/nexus -> OSA proxy -> internet`. Подробнее в [документации](/osa-proxy/base64-url).
- При запросе манифеста, в случае блокировки всех версий пакета, теперь отображается список соответствующих блокирующих политик

#### Исправлено

- Устранена ошибка, приводившая к неприменению политик для репозиториев в конфигурации `OSA proxy -> jfrog/nexus -> internet`

### [2025.39.2] - 2025-10-22

#### Добавлено

- Внедрены метрики для каждого типа пакетного менеджера, доступные по `gateway.route.[maven|npm|nuget|pipy].requests`
- При полной блокировке всех версий пакета в манифесте соответствующими политиками сервис теперь возвращает корректный статус ошибки и причину блокировки вместо пустого манифеста. На текущий момент только `nuget` корректно обрабатывает и отображает данную ошибку в консоли, остальные пакетные менеджеры сообщают, что подходящей версии не найдено
- Реализовано логирование предупреждений (`Warn`) в случае некорректной конфигурации, если манифест не содержит ссылок на пакеты, использующие URL из `repository.registry`. В редких случаях возможны ложно-положительные сообщения в логах, которые будут устранены в случае обнаружения

#### Исправлено
- Устранена ошибка, возникавшая при запросах JFrog Artifactory к актуальному индексу `pypi` пакетов по маршруту `/simple/`
- В режимах `warmup` & `spectator` блокировка версий в манифестах больше не производится

### [2025.39.1] - 2025-09-23

#### Сканирование пакетов

Два уровня сканирования:

- **Манифесты**: анализ и исключение заблокированных версий.
- **Пакеты**: анализ загружаемых файлов.

#### Блокировка небезопасных компонентов

- Заблокированные политиками версии исключаются из манифеста.
- Загрузка заблокированных политиками архивов блокируется.
- Возвращается настраиваемый код состояния с сообщением о блокировке в status-line.