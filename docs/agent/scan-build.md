---
hide:
  - footer
---

# Анализ сборки для языков C и C++

Johnny помогает определить библиотеки, использованные при сборке проекта, даже если отсутствует файл с зависимостями или указание их версий. Агент анализирует процесс сборки для получения необходимой информации напрямую.

## Принцип работы

В проект добавляется json-файл `buildConfig`, описывающий последовательность команд для сборки. Например:

```json
{
 //  Commands for execute
 "commands": [
    {
   // Command
   "command": "make",
   // Command execute parameters
   "flags_and_args": "clean"
  },
  {
   "command": "./configure"  
  },
  {
   "command": "make",
   // analyze this command
   "do_analyze": true
  }
 ]
}
```

Johnny перехватывает процесс сборки, анализируя флаги компилятора и выявляя использованные библиотеки. Далее с помощью `ldconfig` или аналогичной команды определяется местоположение библиотек и их источник.

## Пример команды перехвата сборки

```shell
./johnny scan build ./buildConfig.json
```

## Определение версий

При наличии исходного кода библиотеки версия может быть найдена в `.pc` файлах, содержащих сведения о библиотеке.

Таким образом, Johnny предоставляет полный список используемых библиотек и их версии, обеспечивая прозрачность зависимостей проекта.

