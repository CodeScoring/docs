---
hide:
  - footer
---

# Сканирование файла

При необходимости сканирования отдельного манифеста внутри директории можно использовать команду `scan file`.

При запуске агент:

1. Идентифицирует формат указанного файла и производит разбор содержимого.
2. Формирует запрос к инсталляции для анализа содержимого.
3. После получения результатов отображает общую информацию о найденных манифестах, зависимостях, уязвимостях и сработавших политиках.
4. Дополнительно в текущей директории создается файл `bom.json`, содержащий полный Software Bill of Materials в формате **CycloneDX**.

В зависимости от параметров запуска агент возвращает соответствующий exit code:

- **0** – успешное сканирование, проблемы не были выявлены;
- **1** – найдены проблемы в результате сканирования, необходимо действие пользователя;
- **2** – ошибка сканирования;
- **3** – пустой результат, не были найдены артефакты для анализа. Возвращается только если параметр `--block-on-empty-result` имеет значение `true`.

## Пример запуска команды

Для сканирования только одного файла без обработки вложенных директорий или других манифестов, необходимо указать путь к файлу при запуске команды.

```bash
./johnny scan file path/to/file \
--api_token <api_token> \
--api_url <api_url>
```