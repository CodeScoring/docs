---
hide:
  - footer
---

# Разрешение зависимостей в окружении

Поскольку механизмы пакетных менеджеров для некоторых технологий не предусматривают включение транзитивных зависимостей в манифесты по умолчанию, для повышения качества композиционного анализа при работе с данными технологиями рекомендуется применять разрешение зависимостей в окружении.

При разрешении зависимостей в окружении агент самостоятельно запускает пакетный менеджер и формирует полный список компонентов с учетом корректной версии сборки. На данный момент функциональность доступна для следующих технологий:

- npm
- poetry
- gradle
- maven
- go
- yarn
- scala
- dotnet

Разрешение зависимостей в окружении регулируется флагом `--resolve-enabled` в команде `scan`. Пример команды:

``` bash
./johnny \
scan dir . \
--api_token <api_token> \
--api_url <api_url> \
--resolve-enabled true
```

При необходимости указать путь к пакетному менеджеру это можно сделать в [конфигурационном файле агента](/agent/config.md).

## Работа с Java

При работе с Java альтернативно можно создать дополнительные артефакты, содержащие полную структуру зависимостей проекта.

Команда для **Apache Maven**:

```
mvn dependency:tree -DoutputFile=maven-dependency-tree.txt
```

Команда для **Gradle**:

```
./gradlew dependencies > gradle-dependency-tree.txt
```

После создания артефактов необходимо применить команду `scan file` для полученного артефакта, например:

``` bash
./johnny \
scan file ./maven-dependency-tree.txt \
--api_token <api_token> \
--api_url <api_url>
```
