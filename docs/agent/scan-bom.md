---
hide:
  - footer
---

# Сканирование SBOM

При необходимости сканирования существующего перечня программных компонентов (Software Bill of Materials, SBOM) в формате **CycloneDX** можно использовать команду `scan bom`.

При запуске агент:

1. Валидирует передаваемый SBOM на соответствие схеме указанной версии.
2. Производит разбор указанного SBOM.
3. Формирует запрос к платформе для анализа содержимого.
4. После завершения анализа отображает в консоли сводную информацию о результатах, а также таблицы с найденными уязвимостях и сработавшими политиками.
5. Дополнительно в текущей директории создается файл `bom.json`, содержащий дополненный SBOM.

В зависимости от параметров запуска агент возвращает соответствующий exit code:

- **0** – успешное сканирование, проблемы не были выявлены;
- **1** – в результате сканирования найдены проблемы, соответствующие настроенным [политикам безопасности](//on-premise/how-to/policies/), необходимо действие пользователя;
- **2** – ошибка сканирования;
- **3** – пустой результат, не были найдены артефакты для анализа. Возвращается только если параметр `--block-on-empty-result` имеет значение `true`.
- **5** - ошибка валидации SBOM.

## Пример запуска команды

Для сканирования SBOM необходимо указать путь к нему при запуске команды.

```bash
./johnny scan bom path/to/bom \
--api_token <api_token> \
--api_url <api_url>
```

## Параметры команды

Команда **scan bom** имеет два уникальных параметра, помимо [общих настроек команды сканирования](/agent/scan/#_2):

- `--branch-or-tag`  – ссылка на ветку или тег репозитория в формате `^refs/(heads|tags)/.+` (например, `refs/tags/v1.0`);
- `--commit` – указание хэша коммита.