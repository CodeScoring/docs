---
hide:
  - footer
---

# Настройка через переменные окружения

Параметры запуска консольного агента можно настроить через переменные окружения. Для настройки через переменные окружения используется структура [конфигурационного файла](/agent/config). 

## Формирование переменных окружения

1. **Префикс переменной**: Все переменные окружения начинаются с префикса `JOHNNY_`.
2. **Путь секций**: Переменная формируется на основе пути секций в конфигурационном файле. Разделители секций заменяются символом `_`.
3. **Замена символов**: Символы `"."` и `"-"` в именах секций также преобразуются в символ `_`.

### Пример

Рассмотрим пример настройки флага `block-on-empty-result` для блокирования сборки при получении пустого результата:

- **Путь в конфигурационном файле**: `scan.general.block-on-empty-result`;
- **Переменная окружения**: `JOHNNY_SCAN_GENERAL_BLOCK_ON_EMPTY_RESULT`;

Таким образом, для изменения значения этого параметра через переменные окружения, необходимо задать переменную `JOHNNY_SCAN_GENERAL_BLOCK_ON_EMPTY_RESULT` с нужным значением.

### Приоритет настроек

Поскольку параметры запуска агента можно настроить тремя способами, при одновременном использовании нескольких способов агент будет принимать параметры в следующем порядке приоритетов:

1. Значение [флага команды](/agent/scan);
2. Значение переменной окружения;
3. Значение из [конфиг-файла](/agent/config).